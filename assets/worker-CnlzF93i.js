var ui=Object.defineProperty;var Qn=yt=>{throw TypeError(yt)};var fi=(yt,Et,kt)=>Et in yt?ui(yt,Et,{enumerable:!0,configurable:!0,writable:!0,value:kt}):yt[Et]=kt;var Ve=(yt,Et,kt)=>fi(yt,typeof Et!="symbol"?Et+"":Et,kt),vn=(yt,Et,kt)=>Et.has(yt)||Qn("Cannot "+kt);var He=(yt,Et,kt)=>(vn(yt,Et,"read from private field"),kt?kt.call(yt):Et.get(yt)),Lt=(yt,Et,kt)=>Et.has(yt)?Qn("Cannot add the same private member more than once"):Et instanceof WeakSet?Et.add(yt):Et.set(yt,kt),Mt=(yt,Et,kt,Zt)=>(vn(yt,Et,"write to private field"),Zt?Zt.call(yt,kt):Et.set(yt,kt),kt),ln=(yt,Et,kt)=>(vn(yt,Et,"access private method"),kt);(function(){"use strict";var yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Et(H){return H&&H.__esModule&&Object.prototype.hasOwnProperty.call(H,"default")?H.default:H}var kt={exports:{}};(function(H,ie){(function(y,e){H.exports=e()})(yt,function(){var y=1e3,e=6e4,N=36e5,q="millisecond",v="second",f="minute",x="hour",M="day",U="week",C="month",j="quarter",w="year",F="date",d="Invalid Date",T=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,P={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(c){var J=["th","st","nd","rd"],oe=c%100;return"["+c+(J[(oe-20)%10]||J[oe]||J[0])+"]"}},$=function(c,J,oe){var X=String(c);return!X||X.length>=J?c:""+Array(J+1-X.length).join(oe)+c},te={s:$,z:function(c){var J=-c.utcOffset(),oe=Math.abs(J),X=Math.floor(oe/60),ke=oe%60;return(J<=0?"+":"-")+$(X,2,"0")+":"+$(ke,2,"0")},m:function c(J,oe){if(J.date()<oe.date())return-c(oe,J);var X=12*(oe.year()-J.year())+(oe.month()-J.month()),ke=J.clone().add(X,C),_e=oe-ke<0,je=J.clone().add(X+(_e?-1:1),C);return+(-(X+(oe-ke)/(_e?ke-je:je-ke))||0)},a:function(c){return c<0?Math.ceil(c)||0:Math.floor(c)},p:function(c){return{M:C,y:w,w:U,d:M,D:F,h:x,m:f,s:v,ms:q,Q:j}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(c){return c===void 0}},Z="en",we={};we[Z]=P;var ge="$isDayjsObject",Ce=function(c){return c instanceof B||!(!c||!c[ge])},he=function c(J,oe,X){var ke;if(!J)return Z;if(typeof J=="string"){var _e=J.toLowerCase();we[_e]&&(ke=_e),oe&&(we[_e]=oe,ke=_e);var je=J.split("-");if(!ke&&je.length>1)return c(je[0])}else{var ne=J.name;we[ne]=J,ke=ne}return!X&&ke&&(Z=ke),ke||!X&&Z},Ie=function(c,J){if(Ce(c))return c.clone();var oe=typeof J=="object"?J:{};return oe.date=c,oe.args=arguments,new B(oe)},Ue=te;Ue.l=he,Ue.i=Ce,Ue.w=function(c,J){return Ie(c,{locale:J.$L,utc:J.$u,x:J.$x,$offset:J.$offset})};var B=function(){function c(oe){this.$L=he(oe.locale,null,!0),this.parse(oe),this.$x=this.$x||oe.x||{},this[ge]=!0}var J=c.prototype;return J.parse=function(oe){this.$d=function(X){var ke=X.date,_e=X.utc;if(ke===null)return new Date(NaN);if(Ue.u(ke))return new Date;if(ke instanceof Date)return new Date(ke);if(typeof ke=="string"&&!/Z$/i.test(ke)){var je=ke.match(T);if(je){var ne=je[2]-1||0,ee=(je[7]||"0").substring(0,3);return _e?new Date(Date.UTC(je[1],ne,je[3]||1,je[4]||0,je[5]||0,je[6]||0,ee)):new Date(je[1],ne,je[3]||1,je[4]||0,je[5]||0,je[6]||0,ee)}}return new Date(ke)}(oe),this.init()},J.init=function(){var oe=this.$d;this.$y=oe.getFullYear(),this.$M=oe.getMonth(),this.$D=oe.getDate(),this.$W=oe.getDay(),this.$H=oe.getHours(),this.$m=oe.getMinutes(),this.$s=oe.getSeconds(),this.$ms=oe.getMilliseconds()},J.$utils=function(){return Ue},J.isValid=function(){return this.$d.toString()!==d},J.isSame=function(oe,X){var ke=Ie(oe);return this.startOf(X)<=ke&&ke<=this.endOf(X)},J.isAfter=function(oe,X){return Ie(oe)<this.startOf(X)},J.isBefore=function(oe,X){return this.endOf(X)<Ie(oe)},J.$g=function(oe,X,ke){return Ue.u(oe)?this[X]:this.set(ke,oe)},J.unix=function(){return Math.floor(this.valueOf()/1e3)},J.valueOf=function(){return this.$d.getTime()},J.startOf=function(oe,X){var ke=this,_e=!!Ue.u(X)||X,je=Ue.p(oe),ne=function(ot,ft){var ht=Ue.w(ke.$u?Date.UTC(ke.$y,ft,ot):new Date(ke.$y,ft,ot),ke);return _e?ht:ht.endOf(M)},ee=function(ot,ft){return Ue.w(ke.toDate()[ot].apply(ke.toDate("s"),(_e?[0,0,0,0]:[23,59,59,999]).slice(ft)),ke)},$e=this.$W,Me=this.$M,Re=this.$D,mt="set"+(this.$u?"UTC":"");switch(je){case w:return _e?ne(1,0):ne(31,11);case C:return _e?ne(1,Me):ne(0,Me+1);case U:var wt=this.$locale().weekStart||0,lt=($e<wt?$e+7:$e)-wt;return ne(_e?Re-lt:Re+(6-lt),Me);case M:case F:return ee(mt+"Hours",0);case x:return ee(mt+"Minutes",1);case f:return ee(mt+"Seconds",2);case v:return ee(mt+"Milliseconds",3);default:return this.clone()}},J.endOf=function(oe){return this.startOf(oe,!1)},J.$set=function(oe,X){var ke,_e=Ue.p(oe),je="set"+(this.$u?"UTC":""),ne=(ke={},ke[M]=je+"Date",ke[F]=je+"Date",ke[C]=je+"Month",ke[w]=je+"FullYear",ke[x]=je+"Hours",ke[f]=je+"Minutes",ke[v]=je+"Seconds",ke[q]=je+"Milliseconds",ke)[_e],ee=_e===M?this.$D+(X-this.$W):X;if(_e===C||_e===w){var $e=this.clone().set(F,1);$e.$d[ne](ee),$e.init(),this.$d=$e.set(F,Math.min(this.$D,$e.daysInMonth())).$d}else ne&&this.$d[ne](ee);return this.init(),this},J.set=function(oe,X){return this.clone().$set(oe,X)},J.get=function(oe){return this[Ue.p(oe)]()},J.add=function(oe,X){var ke,_e=this;oe=Number(oe);var je=Ue.p(X),ne=function(Me){var Re=Ie(_e);return Ue.w(Re.date(Re.date()+Math.round(Me*oe)),_e)};if(je===C)return this.set(C,this.$M+oe);if(je===w)return this.set(w,this.$y+oe);if(je===M)return ne(1);if(je===U)return ne(7);var ee=(ke={},ke[f]=e,ke[x]=N,ke[v]=y,ke)[je]||1,$e=this.$d.getTime()+oe*ee;return Ue.w($e,this)},J.subtract=function(oe,X){return this.add(-1*oe,X)},J.format=function(oe){var X=this,ke=this.$locale();if(!this.isValid())return ke.invalidDate||d;var _e=oe||"YYYY-MM-DDTHH:mm:ssZ",je=Ue.z(this),ne=this.$H,ee=this.$m,$e=this.$M,Me=ke.weekdays,Re=ke.months,mt=ke.meridiem,wt=function(ft,ht,At,xt){return ft&&(ft[ht]||ft(X,_e))||At[ht].slice(0,xt)},lt=function(ft){return Ue.s(ne%12||12,ft,"0")},ot=mt||function(ft,ht,At){var xt=ft<12?"AM":"PM";return At?xt.toLowerCase():xt};return _e.replace(S,function(ft,ht){return ht||function(At){switch(At){case"YY":return String(X.$y).slice(-2);case"YYYY":return Ue.s(X.$y,4,"0");case"M":return $e+1;case"MM":return Ue.s($e+1,2,"0");case"MMM":return wt(ke.monthsShort,$e,Re,3);case"MMMM":return wt(Re,$e);case"D":return X.$D;case"DD":return Ue.s(X.$D,2,"0");case"d":return String(X.$W);case"dd":return wt(ke.weekdaysMin,X.$W,Me,2);case"ddd":return wt(ke.weekdaysShort,X.$W,Me,3);case"dddd":return Me[X.$W];case"H":return String(ne);case"HH":return Ue.s(ne,2,"0");case"h":return lt(1);case"hh":return lt(2);case"a":return ot(ne,ee,!0);case"A":return ot(ne,ee,!1);case"m":return String(ee);case"mm":return Ue.s(ee,2,"0");case"s":return String(X.$s);case"ss":return Ue.s(X.$s,2,"0");case"SSS":return Ue.s(X.$ms,3,"0");case"Z":return je}return null}(ft)||je.replace(":","")})},J.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},J.diff=function(oe,X,ke){var _e,je=this,ne=Ue.p(X),ee=Ie(oe),$e=(ee.utcOffset()-this.utcOffset())*e,Me=this-ee,Re=function(){return Ue.m(je,ee)};switch(ne){case w:_e=Re()/12;break;case C:_e=Re();break;case j:_e=Re()/3;break;case U:_e=(Me-$e)/6048e5;break;case M:_e=(Me-$e)/864e5;break;case x:_e=Me/N;break;case f:_e=Me/e;break;case v:_e=Me/y;break;default:_e=Me}return ke?_e:Ue.a(_e)},J.daysInMonth=function(){return this.endOf(C).$D},J.$locale=function(){return we[this.$L]},J.locale=function(oe,X){if(!oe)return this.$L;var ke=this.clone(),_e=he(oe,X,!0);return _e&&(ke.$L=_e),ke},J.clone=function(){return Ue.w(this.$d,this)},J.toDate=function(){return new Date(this.valueOf())},J.toJSON=function(){return this.isValid()?this.toISOString():null},J.toISOString=function(){return this.$d.toISOString()},J.toString=function(){return this.$d.toUTCString()},c}(),fe=B.prototype;return Ie.prototype=fe,[["$ms",q],["$s",v],["$m",f],["$H",x],["$W",M],["$M",C],["$y",w],["$D",F]].forEach(function(c){fe[c[1]]=function(J){return this.$g(J,c[0],c[1])}}),Ie.extend=function(c,J){return c.$i||(c(J,B,Ie),c.$i=!0),Ie},Ie.locale=he,Ie.isDayjs=Ce,Ie.unix=function(c){return Ie(1e3*c)},Ie.en=we[Z],Ie.Ls=we,Ie.p={},Ie})})(kt);var Zt=kt.exports,qt=Et(Zt);const En="YYYY-MM-DD HH:mm:ss.SSS";function jt(H){console.log(`${qt(new Date).format(En)} ${H}`)}function Vn(H){}function un(H){console.error(`${qt(new Date).format(En)} ${H}`),console.error(H)}const fn="OFFSCREEN",_n="WEB_WORKER";function Ft(H,ie){H.from=_n,H.to=fn,""+H.from+H.to+H.action+H.callbackId+H.error;let y=JSON.parse(JSON.stringify(H));y.data=ie,postMessage({data:y})}function Dt(H,ie){H.from=_n,H.to=fn,un("7.[worker][send]["+H.from+" -> "+H.to+"] message [action="+H.action+",callbackId="+H.callbackId+",error="+H.error+"]");let y=JSON.parse(JSON.stringify(H));y.error=ie,postMessage({data:y})}const dn=new Map,Gn={httpFetchGetText:async function(H,ie){try{const y=new AbortController,e=y.signal;dn.set(H.callbackId,y);const q=await(await fetch(ie,{signal:e})).text();Ft(H,q)}catch(y){Dt(H,"[worker] httpFetchGetText error : "+y.message)}},httpFetchGetTextAbort:async function(H,ie){try{let y=dn.get(ie);dn.delete(ie),y.abort("user abort"),Ft(H,{})}catch(y){Dt(H,"[worker] httpFetchGetTextAbort error : "+y.message)}}};class Yn{constructor(){Ve(this,"jobId");Ve(this,"jobPlatform");Ve(this,"jobUrl");Ve(this,"jobName");Ve(this,"jobCompanyName");Ve(this,"jobLocationName");Ve(this,"jobAddress");Ve(this,"jobLongitude");Ve(this,"jobLatitude");Ve(this,"jobDescription");Ve(this,"jobDegreeName");Ve(this,"jobYear");Ve(this,"jobSalaryMin");Ve(this,"jobSalaryMax");Ve(this,"jobSalaryTotalMonth");Ve(this,"jobFirstPublishDatetime");Ve(this,"bossName");Ve(this,"bossCompanyName");Ve(this,"bossPosition");Ve(this,"createDatetime");Ve(this,"updateDatetime")}}class qn extends Yn{constructor(){super(...arguments);Ve(this,"browseCount")}}function Sn(H){return H.replace(/\_(\w)/g,function(ie,y){return y.toUpperCase()})}function Ye(H){return Jn(H)?H:H?Kn(H)||Zn(H)?null:H:null}function Jn(H){return!isNaN(parseFloat(H))&&isFinite(H)}const Kn=H=>!(H!=null&&H.length);function Zn(H){return!H||/^\s*$/.test(H)}class Xn{constructor(){Ve(this,"todayBrowseCount");Ve(this,"totalBrowseCount");Ve(this,"totalJob")}}class er{constructor(){Ve(this,"<3k");Ve(this,"3k-6k");Ve(this,"6k-9k");Ve(this,"9k-12k");Ve(this,"12k-15k");Ve(this,"15k-18k");Ve(this,"18k-21k");Ve(this,"21k-24k");Ve(this,">24k")}}class tr{constructor(){Ve(this,"items");Ve(this,"total")}}class nr extends tr{}var pn=(()=>{var H=self.location.href;return function(ie){var y=ie||{},e=typeof y<"u"?y:{},N,q;e.ready=new Promise(function(n,t){N=n,q=t});const v=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,v.debugModule("globalThis.location =",globalThis.location);const f="emscripten-bug-17951";e[f]=function n(t,i){t.env.foo=function(){};const r=e.locateFile(n.uri,typeof j>"u"?"":j);v.debugModule("instantiateWasm() uri =",r);const s=()=>fetch(r,{credentials:"same-origin"});return(WebAssembly.instantiateStreaming?async()=>WebAssembly.instantiateStreaming(s(),t).then(E=>i(E.instance,E.module)):async()=>s().then(E=>E.arrayBuffer()).then(E=>WebAssembly.instantiate(E,t)).then(E=>i(E.instance,E.module)))(),{}},e[f].uri="sqlite3.wasm";var x=Object.assign({},e),M="./this.program",U=typeof window=="object",C=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;var j="";function w(n){return e.locateFile?e.locateFile(n,j):j+n}var F,d,T;(U||C)&&(C?j=self.location.href:typeof document<"u"&&document.currentScript&&(j=document.currentScript.src),H&&(j=H),j.indexOf("blob:")!==0?j=j.substr(0,j.replace(/[?#].*/,"").lastIndexOf("/")+1):j="",F=n=>{var t=new XMLHttpRequest;return t.open("GET",n,!1),t.send(null),t.responseText},C&&(T=n=>{var t=new XMLHttpRequest;return t.open("GET",n,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),d=(n,t,i)=>{var r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="arraybuffer",r.onload=()=>{if(r.status==200||r.status==0&&r.response){t(r.response);return}i()},r.onerror=i,r.send(null)});var S=e.print||console.log.bind(console),P=e.printErr||console.warn.bind(console);Object.assign(e,x),x=null,e.arguments&&e.arguments,e.thisProgram&&(M=e.thisProgram),e.quit&&e.quit;var $;e.wasmBinary&&($=e.wasmBinary),e.noExitRuntime,typeof WebAssembly!="object"&&l("no native wasm support detected");var te,Z=!1;function we(n,t){n||l(t)}var ge=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ce(n,t,i){for(var r=t+i,s=t;n[s]&&!(s>=r);)++s;if(s-t>16&&n.buffer&&ge)return ge.decode(n.subarray(t,s));for(var a="";t<s;){var E=n[t++];if(!(E&128)){a+=String.fromCharCode(E);continue}var W=n[t++]&63;if((E&224)==192){a+=String.fromCharCode((E&31)<<6|W);continue}var le=n[t++]&63;if((E&240)==224?E=(E&15)<<12|W<<6|le:E=(E&7)<<18|W<<12|le<<6|n[t++]&63,E<65536)a+=String.fromCharCode(E);else{var Pe=E-65536;a+=String.fromCharCode(55296|Pe>>10,56320|Pe&1023)}}return a}function he(n,t){return n?Ce(c,n,t):""}function Ie(n,t,i,r){if(!(r>0))return 0;for(var s=i,a=i+r-1,E=0;E<n.length;++E){var W=n.charCodeAt(E);if(W>=55296&&W<=57343){var le=n.charCodeAt(++E);W=65536+((W&1023)<<10)|le&1023}if(W<=127){if(i>=a)break;t[i++]=W}else if(W<=2047){if(i+1>=a)break;t[i++]=192|W>>6,t[i++]=128|W&63}else if(W<=65535){if(i+2>=a)break;t[i++]=224|W>>12,t[i++]=128|W>>6&63,t[i++]=128|W&63}else{if(i+3>=a)break;t[i++]=240|W>>18,t[i++]=128|W>>12&63,t[i++]=128|W>>6&63,t[i++]=128|W&63}}return t[i]=0,i-s}function Ue(n,t,i){return Ie(n,c,t,i)}function B(n){for(var t=0,i=0;i<n.length;++i){var r=n.charCodeAt(i);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++i):t+=3}return t}var fe,c,J,oe,X;function ke(){var n=te.buffer;e.HEAP8=fe=new Int8Array(n),e.HEAP16=J=new Int16Array(n),e.HEAP32=oe=new Int32Array(n),e.HEAPU8=c=new Uint8Array(n),e.HEAPU16=new Uint16Array(n),e.HEAPU32=X=new Uint32Array(n),e.HEAPF32=new Float32Array(n),e.HEAPF64=new Float64Array(n),e.HEAP64=new BigInt64Array(n),e.HEAPU64=new BigUint64Array(n)}var _e=e.INITIAL_MEMORY||16777216;e.wasmMemory?te=e.wasmMemory:te=new WebAssembly.Memory({initial:_e/65536,maximum:2147483648/65536}),ke(),_e=te.buffer.byteLength;var je=[],ne=[],ee=[];function $e(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)mt(e.preRun.shift());Ne(je)}function Me(){!e.noFSInit&&!o.init.initialized&&o.init(),o.ignorePermissions=!1,Ne(ne)}function Re(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)lt(e.postRun.shift());Ne(ee)}function mt(n){je.unshift(n)}function wt(n){ne.unshift(n)}function lt(n){ee.unshift(n)}var ot=0,ft=null;function ht(n){return n}function At(n){ot++,e.monitorRunDependencies&&e.monitorRunDependencies(ot)}function xt(n){if(ot--,e.monitorRunDependencies&&e.monitorRunDependencies(ot),ot==0&&ft){var t=ft;ft=null,t()}}function l(n){e.onAbort&&e.onAbort(n),n="Aborted("+n+")",P(n),Z=!0,n+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(n);throw q(t),t}var ve="data:application/octet-stream;base64,";function ue(n){return n.startsWith(ve)}var I;e.locateFile?(I="sqlite3.wasm",ue(I)||(I=w(I))):I=new URL("/assets/sqlite3-DHzLqiMp.wasm",self.location.href).href;function k(n){try{if(n==I&&$)return new Uint8Array($);if(T)return T(n);throw"both async and sync fetching of the wasm failed"}catch(t){l(t)}}function Y(){return!$&&(U||C)&&typeof fetch=="function"?fetch(I,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+I+"'";return n.arrayBuffer()}).catch(function(){return k(I)}):Promise.resolve().then(function(){return k(I)})}function Te(){var n={env:Bn,wasi_snapshot_preview1:Bn};function t(E,W){var le=E.exports;e.asm=le,e.asm.__indirect_function_table,wt(e.asm.__wasm_call_ctors),xt()}At();function i(E){t(E.instance)}function r(E){return Y().then(function(W){return WebAssembly.instantiate(W,n)}).then(function(W){return W}).then(E,function(W){P("failed to asynchronously prepare wasm: "+W),l(W)})}function s(){return!$&&typeof WebAssembly.instantiateStreaming=="function"&&!ue(I)&&typeof fetch=="function"?fetch(I,{credentials:"same-origin"}).then(function(E){var W=WebAssembly.instantiateStreaming(E,n);return W.then(i,function(le){return P("wasm streaming compile failed: "+le),P("falling back to ArrayBuffer instantiation"),r(i)})}):r(i)}if(e.instantiateWasm)try{var a=e.instantiateWasm(n,t);return a}catch(E){P("Module.instantiateWasm callback failed with error: "+E),q(E)}return s().catch(q),{}}var ce,K;function Ne(n){for(;n.length>0;)n.shift()(e)}var De={isAbs:n=>n.charAt(0)==="/",splitPath:n=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return t.exec(n).slice(1)},normalizeArray:(n,t)=>{for(var i=0,r=n.length-1;r>=0;r--){var s=n[r];s==="."?n.splice(r,1):s===".."?(n.splice(r,1),i++):i&&(n.splice(r,1),i--)}if(t)for(;i;i--)n.unshift("..");return n},normalize:n=>{var t=De.isAbs(n),i=n.substr(-1)==="/";return n=De.normalizeArray(n.split("/").filter(r=>!!r),!t).join("/"),!n&&!t&&(n="."),n&&i&&(n+="/"),(t?"/":"")+n},dirname:n=>{var t=De.splitPath(n),i=t[0],r=t[1];return!i&&!r?".":(r&&(r=r.substr(0,r.length-1)),i+r)},basename:n=>{if(n==="/")return"/";n=De.normalize(n),n=n.replace(/\/$/,"");var t=n.lastIndexOf("/");return t===-1?n:n.substr(t+1)},join:function(){var n=Array.prototype.slice.call(arguments);return De.normalize(n.join("/"))},join2:(n,t)=>De.normalize(n+"/"+t)};function Be(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var n=new Uint8Array(1);return()=>(crypto.getRandomValues(n),n[0])}else return()=>l("randomDevice")}var Qe={resolve:function(){for(var n="",t=!1,i=arguments.length-1;i>=-1&&!t;i--){var r=i>=0?arguments[i]:o.cwd();if(typeof r!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!r)return"";n=r+"/"+n,t=De.isAbs(r)}return n=De.normalizeArray(n.split("/").filter(s=>!!s),!t).join("/"),(t?"/":"")+n||"."},relative:(n,t)=>{n=Qe.resolve(n).substr(1),t=Qe.resolve(t).substr(1);function i(Pe){for(var ze=0;ze<Pe.length&&Pe[ze]==="";ze++);for(var Ze=Pe.length-1;Ze>=0&&Pe[Ze]==="";Ze--);return ze>Ze?[]:Pe.slice(ze,Ze-ze+1)}for(var r=i(n.split("/")),s=i(t.split("/")),a=Math.min(r.length,s.length),E=a,W=0;W<a;W++)if(r[W]!==s[W]){E=W;break}for(var le=[],W=E;W<r.length;W++)le.push("..");return le=le.concat(s.slice(E)),le.join("/")}};function gt(n,t,i){var r=B(n)+1,s=new Array(r),a=Ie(n,s,0,s.length);return s.length=a,s}var ct={ttys:[],init:function(){},shutdown:function(){},register:function(n,t){ct.ttys[n]={input:[],output:[],ops:t},o.registerDevice(n,ct.stream_ops)},stream_ops:{open:function(n){var t=ct.ttys[n.node.rdev];if(!t)throw new o.ErrnoError(43);n.tty=t,n.seekable=!1},close:function(n){n.tty.ops.fsync(n.tty)},fsync:function(n){n.tty.ops.fsync(n.tty)},read:function(n,t,i,r,s){if(!n.tty||!n.tty.ops.get_char)throw new o.ErrnoError(60);for(var a=0,E=0;E<r;E++){var W;try{W=n.tty.ops.get_char(n.tty)}catch{throw new o.ErrnoError(29)}if(W===void 0&&a===0)throw new o.ErrnoError(6);if(W==null)break;a++,t[i+E]=W}return a&&(n.node.timestamp=Date.now()),a},write:function(n,t,i,r,s){if(!n.tty||!n.tty.ops.put_char)throw new o.ErrnoError(60);try{for(var a=0;a<r;a++)n.tty.ops.put_char(n.tty,t[i+a])}catch{throw new o.ErrnoError(29)}return r&&(n.node.timestamp=Date.now()),a}},default_tty_ops:{get_char:function(n){if(!n.input.length){var t=null;if(typeof window<"u"&&typeof window.prompt=="function"?(t=window.prompt("Input: "),t!==null&&(t+=`
`)):typeof readline=="function"&&(t=readline(),t!==null&&(t+=`
`)),!t)return null;n.input=gt(t)}return n.input.shift()},put_char:function(n,t){t===null||t===10?(S(Ce(n.output,0)),n.output=[]):t!=0&&n.output.push(t)},fsync:function(n){n.output&&n.output.length>0&&(S(Ce(n.output,0)),n.output=[])}},default_tty1_ops:{put_char:function(n,t){t===null||t===10?(P(Ce(n.output,0)),n.output=[]):t!=0&&n.output.push(t)},fsync:function(n){n.output&&n.output.length>0&&(P(Ce(n.output,0)),n.output=[])}}};function Pt(n,t){return c.fill(0,n,n+t),n}function Wt(n,t){return Math.ceil(n/t)*t}function Rt(n){n=Wt(n,65536);var t=Wn(65536,n);return t?Pt(t,n):0}var st={ops_table:null,mount:function(n){return st.createNode(null,"/",16895,0)},createNode:function(n,t,i,r){if(o.isBlkdev(i)||o.isFIFO(i))throw new o.ErrnoError(63);st.ops_table||(st.ops_table={dir:{node:{getattr:st.node_ops.getattr,setattr:st.node_ops.setattr,lookup:st.node_ops.lookup,mknod:st.node_ops.mknod,rename:st.node_ops.rename,unlink:st.node_ops.unlink,rmdir:st.node_ops.rmdir,readdir:st.node_ops.readdir,symlink:st.node_ops.symlink},stream:{llseek:st.stream_ops.llseek}},file:{node:{getattr:st.node_ops.getattr,setattr:st.node_ops.setattr},stream:{llseek:st.stream_ops.llseek,read:st.stream_ops.read,write:st.stream_ops.write,allocate:st.stream_ops.allocate,mmap:st.stream_ops.mmap,msync:st.stream_ops.msync}},link:{node:{getattr:st.node_ops.getattr,setattr:st.node_ops.setattr,readlink:st.node_ops.readlink},stream:{}},chrdev:{node:{getattr:st.node_ops.getattr,setattr:st.node_ops.setattr},stream:o.chrdev_stream_ops}});var s=o.createNode(n,t,i,r);return o.isDir(s.mode)?(s.node_ops=st.ops_table.dir.node,s.stream_ops=st.ops_table.dir.stream,s.contents={}):o.isFile(s.mode)?(s.node_ops=st.ops_table.file.node,s.stream_ops=st.ops_table.file.stream,s.usedBytes=0,s.contents=null):o.isLink(s.mode)?(s.node_ops=st.ops_table.link.node,s.stream_ops=st.ops_table.link.stream):o.isChrdev(s.mode)&&(s.node_ops=st.ops_table.chrdev.node,s.stream_ops=st.ops_table.chrdev.stream),s.timestamp=Date.now(),n&&(n.contents[t]=s,n.timestamp=s.timestamp),s},getFileDataAsTypedArray:function(n){return n.contents?n.contents.subarray?n.contents.subarray(0,n.usedBytes):new Uint8Array(n.contents):new Uint8Array(0)},expandFileStorage:function(n,t){var i=n.contents?n.contents.length:0;if(!(i>=t)){var r=1024*1024;t=Math.max(t,i*(i<r?2:1.125)>>>0),i!=0&&(t=Math.max(t,256));var s=n.contents;n.contents=new Uint8Array(t),n.usedBytes>0&&n.contents.set(s.subarray(0,n.usedBytes),0)}},resizeFileStorage:function(n,t){if(n.usedBytes!=t)if(t==0)n.contents=null,n.usedBytes=0;else{var i=n.contents;n.contents=new Uint8Array(t),i&&n.contents.set(i.subarray(0,Math.min(t,n.usedBytes))),n.usedBytes=t}},node_ops:{getattr:function(n){var t={};return t.dev=o.isChrdev(n.mode)?n.id:1,t.ino=n.id,t.mode=n.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=n.rdev,o.isDir(n.mode)?t.size=4096:o.isFile(n.mode)?t.size=n.usedBytes:o.isLink(n.mode)?t.size=n.link.length:t.size=0,t.atime=new Date(n.timestamp),t.mtime=new Date(n.timestamp),t.ctime=new Date(n.timestamp),t.blksize=4096,t.blocks=Math.ceil(t.size/t.blksize),t},setattr:function(n,t){t.mode!==void 0&&(n.mode=t.mode),t.timestamp!==void 0&&(n.timestamp=t.timestamp),t.size!==void 0&&st.resizeFileStorage(n,t.size)},lookup:function(n,t){throw o.genericErrors[44]},mknod:function(n,t,i,r){return st.createNode(n,t,i,r)},rename:function(n,t,i){if(o.isDir(n.mode)){var r;try{r=o.lookupNode(t,i)}catch{}if(r)for(var s in r.contents)throw new o.ErrnoError(55)}delete n.parent.contents[n.name],n.parent.timestamp=Date.now(),n.name=i,t.contents[i]=n,t.timestamp=n.parent.timestamp,n.parent=t},unlink:function(n,t){delete n.contents[t],n.timestamp=Date.now()},rmdir:function(n,t){var i=o.lookupNode(n,t);for(var r in i.contents)throw new o.ErrnoError(55);delete n.contents[t],n.timestamp=Date.now()},readdir:function(n){var t=[".",".."];for(var i in n.contents)n.contents.hasOwnProperty(i)&&t.push(i);return t},symlink:function(n,t,i){var r=st.createNode(n,t,41471,0);return r.link=i,r},readlink:function(n){if(!o.isLink(n.mode))throw new o.ErrnoError(28);return n.link}},stream_ops:{read:function(n,t,i,r,s){var a=n.node.contents;if(s>=n.node.usedBytes)return 0;var E=Math.min(n.node.usedBytes-s,r);if(E>8&&a.subarray)t.set(a.subarray(s,s+E),i);else for(var W=0;W<E;W++)t[i+W]=a[s+W];return E},write:function(n,t,i,r,s,a){if(t.buffer===fe.buffer&&(a=!1),!r)return 0;var E=n.node;if(E.timestamp=Date.now(),t.subarray&&(!E.contents||E.contents.subarray)){if(a)return E.contents=t.subarray(i,i+r),E.usedBytes=r,r;if(E.usedBytes===0&&s===0)return E.contents=t.slice(i,i+r),E.usedBytes=r,r;if(s+r<=E.usedBytes)return E.contents.set(t.subarray(i,i+r),s),r}if(st.expandFileStorage(E,s+r),E.contents.subarray&&t.subarray)E.contents.set(t.subarray(i,i+r),s);else for(var W=0;W<r;W++)E.contents[s+W]=t[i+W];return E.usedBytes=Math.max(E.usedBytes,s+r),r},llseek:function(n,t,i){var r=t;if(i===1?r+=n.position:i===2&&o.isFile(n.node.mode)&&(r+=n.node.usedBytes),r<0)throw new o.ErrnoError(28);return r},allocate:function(n,t,i){st.expandFileStorage(n.node,t+i),n.node.usedBytes=Math.max(n.node.usedBytes,t+i)},mmap:function(n,t,i,r,s){if(!o.isFile(n.node.mode))throw new o.ErrnoError(43);var a,E,W=n.node.contents;if(!(s&2)&&W.buffer===fe.buffer)E=!1,a=W.byteOffset;else{if((i>0||i+t<W.length)&&(W.subarray?W=W.subarray(i,i+t):W=Array.prototype.slice.call(W,i,i+t)),E=!0,a=Rt(t),!a)throw new o.ErrnoError(48);fe.set(W,a)}return{ptr:a,allocated:E}},msync:function(n,t,i,r,s){return st.stream_ops.write(n,t,0,r,i,!1),0}}};function St(n,t,i,r){var s="al "+n;d(n,a=>{we(a,'Loading data file "'+n+'" failed (no arrayBuffer).'),t(new Uint8Array(a)),s&&xt()},a=>{if(i)i();else throw'Loading data file "'+n+'" failed.'}),s&&At()}var o={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(n,t={})=>{if(n=Qe.resolve(n),!n)return{path:"",node:null};var i={follow_mount:!0,recurse_count:0};if(t=Object.assign(i,t),t.recurse_count>8)throw new o.ErrnoError(32);for(var r=n.split("/").filter(Ze=>!!Ze),s=o.root,a="/",E=0;E<r.length;E++){var W=E===r.length-1;if(W&&t.parent)break;if(s=o.lookupNode(s,r[E]),a=De.join2(a,r[E]),o.isMountpoint(s)&&(!W||W&&t.follow_mount)&&(s=s.mounted.root),!W||t.follow)for(var le=0;o.isLink(s.mode);){var Pe=o.readlink(a);a=Qe.resolve(De.dirname(a),Pe);var ze=o.lookupPath(a,{recurse_count:t.recurse_count+1});if(s=ze.node,le++>40)throw new o.ErrnoError(32)}}return{path:a,node:s}},getPath:n=>{for(var t;;){if(o.isRoot(n)){var i=n.mount.mountpoint;return t?i[i.length-1]!=="/"?i+"/"+t:i+t:i}t=t?n.name+"/"+t:n.name,n=n.parent}},hashName:(n,t)=>{for(var i=0,r=0;r<t.length;r++)i=(i<<5)-i+t.charCodeAt(r)|0;return(n+i>>>0)%o.nameTable.length},hashAddNode:n=>{var t=o.hashName(n.parent.id,n.name);n.name_next=o.nameTable[t],o.nameTable[t]=n},hashRemoveNode:n=>{var t=o.hashName(n.parent.id,n.name);if(o.nameTable[t]===n)o.nameTable[t]=n.name_next;else for(var i=o.nameTable[t];i;){if(i.name_next===n){i.name_next=n.name_next;break}i=i.name_next}},lookupNode:(n,t)=>{var i=o.mayLookup(n);if(i)throw new o.ErrnoError(i,n);for(var r=o.hashName(n.id,t),s=o.nameTable[r];s;s=s.name_next){var a=s.name;if(s.parent.id===n.id&&a===t)return s}return o.lookup(n,t)},createNode:(n,t,i,r)=>{var s=new o.FSNode(n,t,i,r);return o.hashAddNode(s),s},destroyNode:n=>{o.hashRemoveNode(n)},isRoot:n=>n===n.parent,isMountpoint:n=>!!n.mounted,isFile:n=>(n&61440)===32768,isDir:n=>(n&61440)===16384,isLink:n=>(n&61440)===40960,isChrdev:n=>(n&61440)===8192,isBlkdev:n=>(n&61440)===24576,isFIFO:n=>(n&61440)===4096,isSocket:n=>(n&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:n=>{var t=o.flagModes[n];if(typeof t>"u")throw new Error("Unknown file open mode: "+n);return t},flagsToPermissionString:n=>{var t=["r","w","rw"][n&3];return n&512&&(t+="w"),t},nodePermissions:(n,t)=>o.ignorePermissions?0:t.includes("r")&&!(n.mode&292)||t.includes("w")&&!(n.mode&146)||t.includes("x")&&!(n.mode&73)?2:0,mayLookup:n=>{var t=o.nodePermissions(n,"x");return t||(n.node_ops.lookup?0:2)},mayCreate:(n,t)=>{try{var i=o.lookupNode(n,t);return 20}catch{}return o.nodePermissions(n,"wx")},mayDelete:(n,t,i)=>{var r;try{r=o.lookupNode(n,t)}catch(a){return a.errno}var s=o.nodePermissions(n,"wx");if(s)return s;if(i){if(!o.isDir(r.mode))return 54;if(o.isRoot(r)||o.getPath(r)===o.cwd())return 10}else if(o.isDir(r.mode))return 31;return 0},mayOpen:(n,t)=>n?o.isLink(n.mode)?32:o.isDir(n.mode)&&(o.flagsToPermissionString(t)!=="r"||t&512)?31:o.nodePermissions(n,o.flagsToPermissionString(t)):44,MAX_OPEN_FDS:4096,nextfd:(n=0,t=o.MAX_OPEN_FDS)=>{for(var i=n;i<=t;i++)if(!o.streams[i])return i;throw new o.ErrnoError(33)},getStream:n=>o.streams[n],createStream:(n,t,i)=>{o.FSStream||(o.FSStream=function(){this.shared={}},o.FSStream.prototype={},Object.defineProperties(o.FSStream.prototype,{object:{get:function(){return this.node},set:function(s){this.node=s}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(s){this.shared.flags=s}},position:{get:function(){return this.shared.position},set:function(s){this.shared.position=s}}})),n=Object.assign(new o.FSStream,n);var r=o.nextfd(t,i);return n.fd=r,o.streams[r]=n,n},closeStream:n=>{o.streams[n]=null},chrdev_stream_ops:{open:n=>{var t=o.getDevice(n.node.rdev);n.stream_ops=t.stream_ops,n.stream_ops.open&&n.stream_ops.open(n)},llseek:()=>{throw new o.ErrnoError(70)}},major:n=>n>>8,minor:n=>n&255,makedev:(n,t)=>n<<8|t,registerDevice:(n,t)=>{o.devices[n]={stream_ops:t}},getDevice:n=>o.devices[n],getMounts:n=>{for(var t=[],i=[n];i.length;){var r=i.pop();t.push(r),i.push.apply(i,r.mounts)}return t},syncfs:(n,t)=>{typeof n=="function"&&(t=n,n=!1),o.syncFSRequests++,o.syncFSRequests>1&&P("warning: "+o.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var i=o.getMounts(o.root.mount),r=0;function s(E){return o.syncFSRequests--,t(E)}function a(E){if(E)return a.errored?void 0:(a.errored=!0,s(E));++r>=i.length&&s(null)}i.forEach(E=>{if(!E.type.syncfs)return a(null);E.type.syncfs(E,n,a)})},mount:(n,t,i)=>{var r=i==="/",s=!i,a;if(r&&o.root)throw new o.ErrnoError(10);if(!r&&!s){var E=o.lookupPath(i,{follow_mount:!1});if(i=E.path,a=E.node,o.isMountpoint(a))throw new o.ErrnoError(10);if(!o.isDir(a.mode))throw new o.ErrnoError(54)}var W={type:n,opts:t,mountpoint:i,mounts:[]},le=n.mount(W);return le.mount=W,W.root=le,r?o.root=le:a&&(a.mounted=W,a.mount&&a.mount.mounts.push(W)),le},unmount:n=>{var t=o.lookupPath(n,{follow_mount:!1});if(!o.isMountpoint(t.node))throw new o.ErrnoError(28);var i=t.node,r=i.mounted,s=o.getMounts(r);Object.keys(o.nameTable).forEach(E=>{for(var W=o.nameTable[E];W;){var le=W.name_next;s.includes(W.mount)&&o.destroyNode(W),W=le}}),i.mounted=null;var a=i.mount.mounts.indexOf(r);i.mount.mounts.splice(a,1)},lookup:(n,t)=>n.node_ops.lookup(n,t),mknod:(n,t,i)=>{var r=o.lookupPath(n,{parent:!0}),s=r.node,a=De.basename(n);if(!a||a==="."||a==="..")throw new o.ErrnoError(28);var E=o.mayCreate(s,a);if(E)throw new o.ErrnoError(E);if(!s.node_ops.mknod)throw new o.ErrnoError(63);return s.node_ops.mknod(s,a,t,i)},create:(n,t)=>(t=t!==void 0?t:438,t&=4095,t|=32768,o.mknod(n,t,0)),mkdir:(n,t)=>(t=t!==void 0?t:511,t&=1023,t|=16384,o.mknod(n,t,0)),mkdirTree:(n,t)=>{for(var i=n.split("/"),r="",s=0;s<i.length;++s)if(i[s]){r+="/"+i[s];try{o.mkdir(r,t)}catch(a){if(a.errno!=20)throw a}}},mkdev:(n,t,i)=>(typeof i>"u"&&(i=t,t=438),t|=8192,o.mknod(n,t,i)),symlink:(n,t)=>{if(!Qe.resolve(n))throw new o.ErrnoError(44);var i=o.lookupPath(t,{parent:!0}),r=i.node;if(!r)throw new o.ErrnoError(44);var s=De.basename(t),a=o.mayCreate(r,s);if(a)throw new o.ErrnoError(a);if(!r.node_ops.symlink)throw new o.ErrnoError(63);return r.node_ops.symlink(r,s,n)},rename:(n,t)=>{var i=De.dirname(n),r=De.dirname(t),s=De.basename(n),a=De.basename(t),E,W,le;if(E=o.lookupPath(n,{parent:!0}),W=E.node,E=o.lookupPath(t,{parent:!0}),le=E.node,!W||!le)throw new o.ErrnoError(44);if(W.mount!==le.mount)throw new o.ErrnoError(75);var Pe=o.lookupNode(W,s),ze=Qe.relative(n,r);if(ze.charAt(0)!==".")throw new o.ErrnoError(28);if(ze=Qe.relative(t,i),ze.charAt(0)!==".")throw new o.ErrnoError(55);var Ze;try{Ze=o.lookupNode(le,a)}catch{}if(Pe!==Ze){var G=o.isDir(Pe.mode),g=o.mayDelete(W,s,G);if(g)throw new o.ErrnoError(g);if(g=Ze?o.mayDelete(le,a,G):o.mayCreate(le,a),g)throw new o.ErrnoError(g);if(!W.node_ops.rename)throw new o.ErrnoError(63);if(o.isMountpoint(Pe)||Ze&&o.isMountpoint(Ze))throw new o.ErrnoError(10);if(le!==W&&(g=o.nodePermissions(W,"w"),g))throw new o.ErrnoError(g);o.hashRemoveNode(Pe);try{W.node_ops.rename(Pe,le,a)}catch(b){throw b}finally{o.hashAddNode(Pe)}}},rmdir:n=>{var t=o.lookupPath(n,{parent:!0}),i=t.node,r=De.basename(n),s=o.lookupNode(i,r),a=o.mayDelete(i,r,!0);if(a)throw new o.ErrnoError(a);if(!i.node_ops.rmdir)throw new o.ErrnoError(63);if(o.isMountpoint(s))throw new o.ErrnoError(10);i.node_ops.rmdir(i,r),o.destroyNode(s)},readdir:n=>{var t=o.lookupPath(n,{follow:!0}),i=t.node;if(!i.node_ops.readdir)throw new o.ErrnoError(54);return i.node_ops.readdir(i)},unlink:n=>{var t=o.lookupPath(n,{parent:!0}),i=t.node;if(!i)throw new o.ErrnoError(44);var r=De.basename(n),s=o.lookupNode(i,r),a=o.mayDelete(i,r,!1);if(a)throw new o.ErrnoError(a);if(!i.node_ops.unlink)throw new o.ErrnoError(63);if(o.isMountpoint(s))throw new o.ErrnoError(10);i.node_ops.unlink(i,r),o.destroyNode(s)},readlink:n=>{var t=o.lookupPath(n),i=t.node;if(!i)throw new o.ErrnoError(44);if(!i.node_ops.readlink)throw new o.ErrnoError(28);return Qe.resolve(o.getPath(i.parent),i.node_ops.readlink(i))},stat:(n,t)=>{var i=o.lookupPath(n,{follow:!t}),r=i.node;if(!r)throw new o.ErrnoError(44);if(!r.node_ops.getattr)throw new o.ErrnoError(63);return r.node_ops.getattr(r)},lstat:n=>o.stat(n,!0),chmod:(n,t,i)=>{var r;if(typeof n=="string"){var s=o.lookupPath(n,{follow:!i});r=s.node}else r=n;if(!r.node_ops.setattr)throw new o.ErrnoError(63);r.node_ops.setattr(r,{mode:t&4095|r.mode&-4096,timestamp:Date.now()})},lchmod:(n,t)=>{o.chmod(n,t,!0)},fchmod:(n,t)=>{var i=o.getStream(n);if(!i)throw new o.ErrnoError(8);o.chmod(i.node,t)},chown:(n,t,i,r)=>{var s;if(typeof n=="string"){var a=o.lookupPath(n,{follow:!r});s=a.node}else s=n;if(!s.node_ops.setattr)throw new o.ErrnoError(63);s.node_ops.setattr(s,{timestamp:Date.now()})},lchown:(n,t,i)=>{o.chown(n,t,i,!0)},fchown:(n,t,i)=>{var r=o.getStream(n);if(!r)throw new o.ErrnoError(8);o.chown(r.node,t,i)},truncate:(n,t)=>{if(t<0)throw new o.ErrnoError(28);var i;if(typeof n=="string"){var r=o.lookupPath(n,{follow:!0});i=r.node}else i=n;if(!i.node_ops.setattr)throw new o.ErrnoError(63);if(o.isDir(i.mode))throw new o.ErrnoError(31);if(!o.isFile(i.mode))throw new o.ErrnoError(28);var s=o.nodePermissions(i,"w");if(s)throw new o.ErrnoError(s);i.node_ops.setattr(i,{size:t,timestamp:Date.now()})},ftruncate:(n,t)=>{var i=o.getStream(n);if(!i)throw new o.ErrnoError(8);if(!(i.flags&2097155))throw new o.ErrnoError(28);o.truncate(i.node,t)},utime:(n,t,i)=>{var r=o.lookupPath(n,{follow:!0}),s=r.node;s.node_ops.setattr(s,{timestamp:Math.max(t,i)})},open:(n,t,i)=>{if(n==="")throw new o.ErrnoError(44);t=typeof t=="string"?o.modeStringToFlags(t):t,i=typeof i>"u"?438:i,t&64?i=i&4095|32768:i=0;var r;if(typeof n=="object")r=n;else{n=De.normalize(n);try{var s=o.lookupPath(n,{follow:!(t&131072)});r=s.node}catch{}}var a=!1;if(t&64)if(r){if(t&128)throw new o.ErrnoError(20)}else r=o.mknod(n,i,0),a=!0;if(!r)throw new o.ErrnoError(44);if(o.isChrdev(r.mode)&&(t&=-513),t&65536&&!o.isDir(r.mode))throw new o.ErrnoError(54);if(!a){var E=o.mayOpen(r,t);if(E)throw new o.ErrnoError(E)}t&512&&!a&&o.truncate(r,0),t&=-131713;var W=o.createStream({node:r,path:o.getPath(r),flags:t,seekable:!0,position:0,stream_ops:r.stream_ops,ungotten:[],error:!1});return W.stream_ops.open&&W.stream_ops.open(W),e.logReadFiles&&!(t&1)&&(o.readFiles||(o.readFiles={}),n in o.readFiles||(o.readFiles[n]=1)),W},close:n=>{if(o.isClosed(n))throw new o.ErrnoError(8);n.getdents&&(n.getdents=null);try{n.stream_ops.close&&n.stream_ops.close(n)}catch(t){throw t}finally{o.closeStream(n.fd)}n.fd=null},isClosed:n=>n.fd===null,llseek:(n,t,i)=>{if(o.isClosed(n))throw new o.ErrnoError(8);if(!n.seekable||!n.stream_ops.llseek)throw new o.ErrnoError(70);if(i!=0&&i!=1&&i!=2)throw new o.ErrnoError(28);return n.position=n.stream_ops.llseek(n,t,i),n.ungotten=[],n.position},read:(n,t,i,r,s)=>{if(r<0||s<0)throw new o.ErrnoError(28);if(o.isClosed(n))throw new o.ErrnoError(8);if((n.flags&2097155)===1)throw new o.ErrnoError(8);if(o.isDir(n.node.mode))throw new o.ErrnoError(31);if(!n.stream_ops.read)throw new o.ErrnoError(28);var a=typeof s<"u";if(!a)s=n.position;else if(!n.seekable)throw new o.ErrnoError(70);var E=n.stream_ops.read(n,t,i,r,s);return a||(n.position+=E),E},write:(n,t,i,r,s,a)=>{if(r<0||s<0)throw new o.ErrnoError(28);if(o.isClosed(n))throw new o.ErrnoError(8);if(!(n.flags&2097155))throw new o.ErrnoError(8);if(o.isDir(n.node.mode))throw new o.ErrnoError(31);if(!n.stream_ops.write)throw new o.ErrnoError(28);n.seekable&&n.flags&1024&&o.llseek(n,0,2);var E=typeof s<"u";if(!E)s=n.position;else if(!n.seekable)throw new o.ErrnoError(70);var W=n.stream_ops.write(n,t,i,r,s,a);return E||(n.position+=W),W},allocate:(n,t,i)=>{if(o.isClosed(n))throw new o.ErrnoError(8);if(t<0||i<=0)throw new o.ErrnoError(28);if(!(n.flags&2097155))throw new o.ErrnoError(8);if(!o.isFile(n.node.mode)&&!o.isDir(n.node.mode))throw new o.ErrnoError(43);if(!n.stream_ops.allocate)throw new o.ErrnoError(138);n.stream_ops.allocate(n,t,i)},mmap:(n,t,i,r,s)=>{if(r&2&&!(s&2)&&(n.flags&2097155)!==2)throw new o.ErrnoError(2);if((n.flags&2097155)===1)throw new o.ErrnoError(2);if(!n.stream_ops.mmap)throw new o.ErrnoError(43);return n.stream_ops.mmap(n,t,i,r,s)},msync:(n,t,i,r,s)=>n.stream_ops.msync?n.stream_ops.msync(n,t,i,r,s):0,munmap:n=>0,ioctl:(n,t,i)=>{if(!n.stream_ops.ioctl)throw new o.ErrnoError(59);return n.stream_ops.ioctl(n,t,i)},readFile:(n,t={})=>{if(t.flags=t.flags||0,t.encoding=t.encoding||"binary",t.encoding!=="utf8"&&t.encoding!=="binary")throw new Error('Invalid encoding type "'+t.encoding+'"');var i,r=o.open(n,t.flags),s=o.stat(n),a=s.size,E=new Uint8Array(a);return o.read(r,E,0,a,0),t.encoding==="utf8"?i=Ce(E,0):t.encoding==="binary"&&(i=E),o.close(r),i},writeFile:(n,t,i={})=>{i.flags=i.flags||577;var r=o.open(n,i.flags,i.mode);if(typeof t=="string"){var s=new Uint8Array(B(t)+1),a=Ie(t,s,0,s.length);o.write(r,s,0,a,void 0,i.canOwn)}else if(ArrayBuffer.isView(t))o.write(r,t,0,t.byteLength,void 0,i.canOwn);else throw new Error("Unsupported data type");o.close(r)},cwd:()=>o.currentPath,chdir:n=>{var t=o.lookupPath(n,{follow:!0});if(t.node===null)throw new o.ErrnoError(44);if(!o.isDir(t.node.mode))throw new o.ErrnoError(54);var i=o.nodePermissions(t.node,"x");if(i)throw new o.ErrnoError(i);o.currentPath=t.path},createDefaultDirectories:()=>{o.mkdir("/tmp"),o.mkdir("/home"),o.mkdir("/home/web_user")},createDefaultDevices:()=>{o.mkdir("/dev"),o.registerDevice(o.makedev(1,3),{read:()=>0,write:(t,i,r,s,a)=>s}),o.mkdev("/dev/null",o.makedev(1,3)),ct.register(o.makedev(5,0),ct.default_tty_ops),ct.register(o.makedev(6,0),ct.default_tty1_ops),o.mkdev("/dev/tty",o.makedev(5,0)),o.mkdev("/dev/tty1",o.makedev(6,0));var n=Be();o.createDevice("/dev","random",n),o.createDevice("/dev","urandom",n),o.mkdir("/dev/shm"),o.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{o.mkdir("/proc");var n=o.mkdir("/proc/self");o.mkdir("/proc/self/fd"),o.mount({mount:()=>{var t=o.createNode(n,"fd",16895,73);return t.node_ops={lookup:(i,r)=>{var s=+r,a=o.getStream(s);if(!a)throw new o.ErrnoError(8);var E={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>a.path}};return E.parent=E,E}},t}},{},"/proc/self/fd")},createStandardStreams:()=>{e.stdin?o.createDevice("/dev","stdin",e.stdin):o.symlink("/dev/tty","/dev/stdin"),e.stdout?o.createDevice("/dev","stdout",null,e.stdout):o.symlink("/dev/tty","/dev/stdout"),e.stderr?o.createDevice("/dev","stderr",null,e.stderr):o.symlink("/dev/tty1","/dev/stderr"),o.open("/dev/stdin",0),o.open("/dev/stdout",1),o.open("/dev/stderr",1)},ensureErrnoError:()=>{o.ErrnoError||(o.ErrnoError=function(t,i){this.node=i,this.setErrno=function(r){this.errno=r},this.setErrno(t),this.message="FS error"},o.ErrnoError.prototype=new Error,o.ErrnoError.prototype.constructor=o.ErrnoError,[44].forEach(n=>{o.genericErrors[n]=new o.ErrnoError(n),o.genericErrors[n].stack="<generic error, no stack>"}))},staticInit:()=>{o.ensureErrnoError(),o.nameTable=new Array(4096),o.mount(st,{},"/"),o.createDefaultDirectories(),o.createDefaultDevices(),o.createSpecialDirectories(),o.filesystems={MEMFS:st}},init:(n,t,i)=>{o.init.initialized=!0,o.ensureErrnoError(),e.stdin=n||e.stdin,e.stdout=t||e.stdout,e.stderr=i||e.stderr,o.createStandardStreams()},quit:()=>{o.init.initialized=!1;for(var n=0;n<o.streams.length;n++){var t=o.streams[n];t&&o.close(t)}},getMode:(n,t)=>{var i=0;return n&&(i|=365),t&&(i|=146),i},findObject:(n,t)=>{var i=o.analyzePath(n,t);return i.exists?i.object:null},analyzePath:(n,t)=>{try{var i=o.lookupPath(n,{follow:!t});n=i.path}catch{}var r={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var i=o.lookupPath(n,{parent:!0});r.parentExists=!0,r.parentPath=i.path,r.parentObject=i.node,r.name=De.basename(n),i=o.lookupPath(n,{follow:!t}),r.exists=!0,r.path=i.path,r.object=i.node,r.name=i.node.name,r.isRoot=i.path==="/"}catch(s){r.error=s.errno}return r},createPath:(n,t,i,r)=>{n=typeof n=="string"?n:o.getPath(n);for(var s=t.split("/").reverse();s.length;){var a=s.pop();if(a){var E=De.join2(n,a);try{o.mkdir(E)}catch{}n=E}}return E},createFile:(n,t,i,r,s)=>{var a=De.join2(typeof n=="string"?n:o.getPath(n),t),E=o.getMode(r,s);return o.create(a,E)},createDataFile:(n,t,i,r,s,a)=>{var E=t;n&&(n=typeof n=="string"?n:o.getPath(n),E=t?De.join2(n,t):n);var W=o.getMode(r,s),le=o.create(E,W);if(i){if(typeof i=="string"){for(var Pe=new Array(i.length),ze=0,Ze=i.length;ze<Ze;++ze)Pe[ze]=i.charCodeAt(ze);i=Pe}o.chmod(le,W|146);var G=o.open(le,577);o.write(G,i,0,i.length,0,a),o.close(G),o.chmod(le,W)}return le},createDevice:(n,t,i,r)=>{var s=De.join2(typeof n=="string"?n:o.getPath(n),t),a=o.getMode(!!i,!!r);o.createDevice.major||(o.createDevice.major=64);var E=o.makedev(o.createDevice.major++,0);return o.registerDevice(E,{open:W=>{W.seekable=!1},close:W=>{r&&r.buffer&&r.buffer.length&&r(10)},read:(W,le,Pe,ze,Ze)=>{for(var G=0,g=0;g<ze;g++){var b;try{b=i()}catch{throw new o.ErrnoError(29)}if(b===void 0&&G===0)throw new o.ErrnoError(6);if(b==null)break;G++,le[Pe+g]=b}return G&&(W.node.timestamp=Date.now()),G},write:(W,le,Pe,ze,Ze)=>{for(var G=0;G<ze;G++)try{r(le[Pe+G])}catch{throw new o.ErrnoError(29)}return ze&&(W.node.timestamp=Date.now()),G}}),o.mkdev(s,a,E)},forceLoadFile:n=>{if(n.isDevice||n.isFolder||n.link||n.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(F)try{n.contents=gt(F(n.url),!0),n.usedBytes=n.contents.length}catch{throw new o.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(n,t,i,r,s)=>{function a(){this.lengthKnown=!1,this.chunks=[]}if(a.prototype.get=function(g){if(!(g>this.length-1||g<0)){var b=g%this.chunkSize,R=g/this.chunkSize|0;return this.getter(R)[b]}},a.prototype.setDataGetter=function(g){this.getter=g},a.prototype.cacheLength=function(){var g=new XMLHttpRequest;if(g.open("HEAD",i,!1),g.send(null),!(g.status>=200&&g.status<300||g.status===304))throw new Error("Couldn't load "+i+". Status: "+g.status);var b=Number(g.getResponseHeader("Content-length")),R,z=(R=g.getResponseHeader("Accept-Ranges"))&&R==="bytes",A=(R=g.getResponseHeader("Content-Encoding"))&&R==="gzip",ye=1024*1024;z||(ye=b);var Oe=(be,et)=>{if(be>et)throw new Error("invalid range ("+be+", "+et+") or no bytes requested!");if(et>b-1)throw new Error("only "+b+" bytes available! programmer error!");var h=new XMLHttpRequest;if(h.open("GET",i,!1),b!==ye&&h.setRequestHeader("Range","bytes="+be+"-"+et),h.responseType="arraybuffer",h.overrideMimeType&&h.overrideMimeType("text/plain; charset=x-user-defined"),h.send(null),!(h.status>=200&&h.status<300||h.status===304))throw new Error("Couldn't load "+i+". Status: "+h.status);return h.response!==void 0?new Uint8Array(h.response||[]):gt(h.responseText||"")},Ae=this;Ae.setDataGetter(be=>{var et=be*ye,h=(be+1)*ye-1;if(h=Math.min(h,b-1),typeof Ae.chunks[be]>"u"&&(Ae.chunks[be]=Oe(et,h)),typeof Ae.chunks[be]>"u")throw new Error("doXHR failed!");return Ae.chunks[be]}),(A||!b)&&(ye=b=1,b=this.getter(0).length,ye=b,S("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=b,this._chunkSize=ye,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!C)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var E=new a;Object.defineProperties(E,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var W={isDevice:!1,contents:E}}else var W={isDevice:!1,url:i};var le=o.createFile(n,t,W,r,s);W.contents?le.contents=W.contents:W.url&&(le.contents=null,le.url=W.url),Object.defineProperties(le,{usedBytes:{get:function(){return this.contents.length}}});var Pe={},ze=Object.keys(le.stream_ops);ze.forEach(G=>{var g=le.stream_ops[G];Pe[G]=function(){return o.forceLoadFile(le),g.apply(null,arguments)}});function Ze(G,g,b,R,z){var A=G.node.contents;if(z>=A.length)return 0;var ye=Math.min(A.length-z,R);if(A.slice)for(var Oe=0;Oe<ye;Oe++)g[b+Oe]=A[z+Oe];else for(var Oe=0;Oe<ye;Oe++)g[b+Oe]=A.get(z+Oe);return ye}return Pe.read=(G,g,b,R,z)=>(o.forceLoadFile(le),Ze(G,g,b,R,z)),Pe.mmap=(G,g,b,R,z)=>{o.forceLoadFile(le);var A=Rt(g);if(!A)throw new o.ErrnoError(48);return Ze(G,fe,A,g,b),{ptr:A,allocated:!0}},le.stream_ops=Pe,le},createPreloadedFile:(n,t,i,r,s,a,E,W,le,Pe)=>{var ze=t?Qe.resolve(De.join2(n,t)):n;function Ze(G){function g(b){Pe&&Pe(),W||o.createDataFile(n,t,b,r,s,le),a&&a(),xt()}Browser.handledByPreloadPlugin(G,ze,g,()=>{E&&E(),xt()})||g(G)}At(),typeof i=="string"?St(i,G=>Ze(G),E):Ze(i)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(n,t,i)=>{t=t||(()=>{}),i=i||(()=>{});var r=o.indexedDB();try{var s=r.open(o.DB_NAME(),o.DB_VERSION)}catch(a){return i(a)}s.onupgradeneeded=()=>{S("creating db");var a=s.result;a.createObjectStore(o.DB_STORE_NAME)},s.onsuccess=()=>{var a=s.result,E=a.transaction([o.DB_STORE_NAME],"readwrite"),W=E.objectStore(o.DB_STORE_NAME),le=0,Pe=0,ze=n.length;function Ze(){Pe==0?t():i()}n.forEach(G=>{var g=W.put(o.analyzePath(G).object.contents,G);g.onsuccess=()=>{le++,le+Pe==ze&&Ze()},g.onerror=()=>{Pe++,le+Pe==ze&&Ze()}}),E.onerror=i},s.onerror=i},loadFilesFromDB:(n,t,i)=>{t=t||(()=>{}),i=i||(()=>{});var r=o.indexedDB();try{var s=r.open(o.DB_NAME(),o.DB_VERSION)}catch(a){return i(a)}s.onupgradeneeded=i,s.onsuccess=()=>{var a=s.result;try{var E=a.transaction([o.DB_STORE_NAME],"readonly")}catch(G){i(G);return}var W=E.objectStore(o.DB_STORE_NAME),le=0,Pe=0,ze=n.length;function Ze(){Pe==0?t():i()}n.forEach(G=>{var g=W.get(G);g.onsuccess=()=>{o.analyzePath(G).exists&&o.unlink(G),o.createDataFile(De.dirname(G),De.basename(G),g.result,!0,!0,!0),le++,le+Pe==ze&&Ze()},g.onerror=()=>{Pe++,le+Pe==ze&&Ze()}}),E.onerror=i},s.onerror=i}},rt={DEFAULT_POLLMASK:5,calculateAt:function(n,t,i){if(De.isAbs(t))return t;var r;if(n===-100)r=o.cwd();else{var s=rt.getStreamFromFD(n);r=s.path}if(t.length==0){if(!i)throw new o.ErrnoError(44);return r}return De.join2(r,t)},doStat:function(n,t,i){try{var r=n(t)}catch(W){if(W&&W.node&&De.normalize(t)!==De.normalize(o.getPath(W.node)))return-54;throw W}oe[i>>2]=r.dev,oe[i+8>>2]=r.ino,oe[i+12>>2]=r.mode,X[i+16>>2]=r.nlink,oe[i+20>>2]=r.uid,oe[i+24>>2]=r.gid,oe[i+28>>2]=r.rdev,K=[r.size>>>0,(ce=r.size,+Math.abs(ce)>=1?ce>0?(Math.min(+Math.floor(ce/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ce-+(~~ce>>>0))/4294967296)>>>0:0)],oe[i+40>>2]=K[0],oe[i+44>>2]=K[1],oe[i+48>>2]=4096,oe[i+52>>2]=r.blocks;var s=r.atime.getTime(),a=r.mtime.getTime(),E=r.ctime.getTime();return K=[Math.floor(s/1e3)>>>0,(ce=Math.floor(s/1e3),+Math.abs(ce)>=1?ce>0?(Math.min(+Math.floor(ce/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ce-+(~~ce>>>0))/4294967296)>>>0:0)],oe[i+56>>2]=K[0],oe[i+60>>2]=K[1],X[i+64>>2]=s%1e3*1e3,K=[Math.floor(a/1e3)>>>0,(ce=Math.floor(a/1e3),+Math.abs(ce)>=1?ce>0?(Math.min(+Math.floor(ce/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ce-+(~~ce>>>0))/4294967296)>>>0:0)],oe[i+72>>2]=K[0],oe[i+76>>2]=K[1],X[i+80>>2]=a%1e3*1e3,K=[Math.floor(E/1e3)>>>0,(ce=Math.floor(E/1e3),+Math.abs(ce)>=1?ce>0?(Math.min(+Math.floor(ce/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ce-+(~~ce>>>0))/4294967296)>>>0:0)],oe[i+88>>2]=K[0],oe[i+92>>2]=K[1],X[i+96>>2]=E%1e3*1e3,K=[r.ino>>>0,(ce=r.ino,+Math.abs(ce)>=1?ce>0?(Math.min(+Math.floor(ce/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ce-+(~~ce>>>0))/4294967296)>>>0:0)],oe[i+104>>2]=K[0],oe[i+108>>2]=K[1],0},doMsync:function(n,t,i,r,s){if(!o.isFile(t.node.mode))throw new o.ErrnoError(43);if(r&2)return 0;var a=c.slice(n,n+i);o.msync(t,a,s,i,r)},varargs:void 0,get:function(){rt.varargs+=4;var n=oe[rt.varargs-4>>2];return n},getStr:function(n){var t=he(n);return t},getStreamFromFD:function(n){var t=o.getStream(n);if(!t)throw new o.ErrnoError(8);return t}};function Nt(n,t){try{return n=rt.getStr(n),o.chmod(n,t),0}catch(i){if(typeof o>"u"||!(i instanceof o.ErrnoError))throw i;return-i.errno}}function nn(n,t,i,r){try{if(t=rt.getStr(t),t=rt.calculateAt(n,t),i&-8)return-28;var s=o.lookupPath(t,{follow:!0}),a=s.node;if(!a)return-44;var E="";return i&4&&(E+="r"),i&2&&(E+="w"),i&1&&(E+="x"),E&&o.nodePermissions(a,E)?-2:0}catch(W){if(typeof o>"u"||!(W instanceof o.ErrnoError))throw W;return-W.errno}}function hn(n,t){try{return o.fchmod(n,t),0}catch(i){if(typeof o>"u"||!(i instanceof o.ErrnoError))throw i;return-i.errno}}function mn(n,t,i){try{return o.fchown(n,t,i),0}catch(r){if(typeof o>"u"||!(r instanceof o.ErrnoError))throw r;return-r.errno}}function gn(n){return oe[zn()>>2]=n,n}function rn(n,t,i){rt.varargs=i;try{var r=rt.getStreamFromFD(n);switch(t){case 0:{var s=rt.get();if(s<0)return-28;var a;return a=o.createStream(r,s),a.fd}case 1:case 2:return 0;case 3:return r.flags;case 4:{var s=rt.get();return r.flags|=s,0}case 5:{var s=rt.get(),E=0;return J[s+E>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return gn(28),-1;default:return-28}}catch(W){if(typeof o>"u"||!(W instanceof o.ErrnoError))throw W;return-W.errno}}function $t(n,t){try{var i=rt.getStreamFromFD(n);return rt.doStat(o.stat,i.path,t)}catch(r){if(typeof o>"u"||!(r instanceof o.ErrnoError))throw r;return-r.errno}}var Qt=9007199254740992,Er=-9007199254740992;function Rn(n){return n<Er||n>Qt?NaN:Number(n)}function qr(n,t){try{return t=Rn(t),isNaN(t)?-61:(o.ftruncate(n,t),0)}catch(i){if(typeof o>"u"||!(i instanceof o.ErrnoError))throw i;return-i.errno}}function Sr(n,t){try{if(t===0)return-28;var i=o.cwd(),r=B(i)+1;return t<r?-68:(Ue(i,n,t),r)}catch(s){if(typeof o>"u"||!(s instanceof o.ErrnoError))throw s;return-s.errno}}function xr(n,t,i){rt.varargs=i;try{var r=rt.getStreamFromFD(n);switch(t){case 21509:case 21505:return r.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return r.tty?0:-59;case 21519:{if(!r.tty)return-59;var s=rt.get();return oe[s>>2]=0,0}case 21520:return r.tty?-28:-59;case 21531:{var s=rt.get();return o.ioctl(r,t,s)}case 21523:return r.tty?0:-59;case 21524:return r.tty?0:-59;default:return-28}}catch(a){if(typeof o>"u"||!(a instanceof o.ErrnoError))throw a;return-a.errno}}function kr(n,t){try{return n=rt.getStr(n),rt.doStat(o.lstat,n,t)}catch(i){if(typeof o>"u"||!(i instanceof o.ErrnoError))throw i;return-i.errno}}function Ar(n,t,i){try{return t=rt.getStr(t),t=rt.calculateAt(n,t),t=De.normalize(t),t[t.length-1]==="/"&&(t=t.substr(0,t.length-1)),o.mkdir(t,i,0),0}catch(r){if(typeof o>"u"||!(r instanceof o.ErrnoError))throw r;return-r.errno}}function Ir(n,t,i,r){try{t=rt.getStr(t);var s=r&256,a=r&4096;return r=r&-6401,t=rt.calculateAt(n,t,a),rt.doStat(s?o.lstat:o.stat,t,i)}catch(E){if(typeof o>"u"||!(E instanceof o.ErrnoError))throw E;return-E.errno}}function Tr(n,t,i,r){rt.varargs=r;try{t=rt.getStr(t),t=rt.calculateAt(n,t);var s=r?rt.get():0;return o.open(t,i,s).fd}catch(a){if(typeof o>"u"||!(a instanceof o.ErrnoError))throw a;return-a.errno}}function Or(n,t,i,r){try{if(t=rt.getStr(t),t=rt.calculateAt(n,t),r<=0)return-28;var s=o.readlink(t),a=Math.min(r,B(s)),E=fe[i+a];return Ue(s,i,r+1),fe[i+a]=E,a}catch(W){if(typeof o>"u"||!(W instanceof o.ErrnoError))throw W;return-W.errno}}function Fr(n){try{return n=rt.getStr(n),o.rmdir(n),0}catch(t){if(typeof o>"u"||!(t instanceof o.ErrnoError))throw t;return-t.errno}}function Cr(n,t){try{return n=rt.getStr(n),rt.doStat(o.stat,n,t)}catch(i){if(typeof o>"u"||!(i instanceof o.ErrnoError))throw i;return-i.errno}}function Dr(n,t,i){try{return t=rt.getStr(t),t=rt.calculateAt(n,t),i===0?o.unlink(t):i===512?o.rmdir(t):l("Invalid flags passed to unlinkat"),0}catch(r){if(typeof o>"u"||!(r instanceof o.ErrnoError))throw r;return-r.errno}}function yn(n){return X[n>>2]+oe[n+4>>2]*4294967296}function Pr(n,t,i,r){try{if(t=rt.getStr(t),t=rt.calculateAt(n,t,!0),i){var E=yn(i),W=oe[i+8>>2];s=E*1e3+W/(1e3*1e3),i+=16,E=yn(i),W=oe[i+8>>2],a=E*1e3+W/(1e3*1e3)}else var s=Date.now(),a=s;return o.utime(t,s,a),0}catch(le){if(typeof o>"u"||!(le instanceof o.ErrnoError))throw le;return-le.errno}}var Lr=!0;function Rr(){return Lr}function jr(n){return n%4===0&&(n%100!==0||n%400===0)}var Nr=[0,31,60,91,121,152,182,213,244,274,305,335],Mr=[0,31,59,90,120,151,181,212,243,273,304,334];function Br(n){var t=jr(n.getFullYear()),i=t?Nr:Mr,r=i[n.getMonth()]+n.getDate()-1;return r}function zr(n,t){var i=new Date(yn(n)*1e3);oe[t>>2]=i.getSeconds(),oe[t+4>>2]=i.getMinutes(),oe[t+8>>2]=i.getHours(),oe[t+12>>2]=i.getDate(),oe[t+16>>2]=i.getMonth(),oe[t+20>>2]=i.getFullYear()-1900,oe[t+24>>2]=i.getDay();var r=Br(i)|0;oe[t+28>>2]=r,oe[t+36>>2]=-(i.getTimezoneOffset()*60);var s=new Date(i.getFullYear(),0,1),a=new Date(i.getFullYear(),6,1).getTimezoneOffset(),E=s.getTimezoneOffset(),W=(a!=E&&i.getTimezoneOffset()==Math.min(E,a))|0;oe[t+32>>2]=W}function Ur(n,t,i,r,s,a,E){try{var W=rt.getStreamFromFD(r),le=o.mmap(W,n,s,t,i),Pe=le.ptr;return oe[a>>2]=le.allocated,X[E>>2]=Pe,0}catch(ze){if(typeof o>"u"||!(ze instanceof o.ErrnoError))throw ze;return-ze.errno}}function Wr(n,t,i,r,s,a){try{var E=rt.getStreamFromFD(s);i&2&&rt.doMsync(n,E,t,r,a),o.munmap(E)}catch(W){if(typeof o>"u"||!(W instanceof o.ErrnoError))throw W;return-W.errno}}function jn(n){var t=B(n)+1,i=Un(t);return i&&Ie(n,fe,i,t),i}function $r(n,t,i){var r=new Date().getFullYear(),s=new Date(r,0,1),a=new Date(r,6,1),E=s.getTimezoneOffset(),W=a.getTimezoneOffset(),le=Math.max(E,W);X[n>>2]=le*60,oe[t>>2]=+(E!=W);function Pe(b){var R=b.toTimeString().match(/\(([A-Za-z ]+)\)$/);return R?R[1]:"GMT"}var ze=Pe(s),Ze=Pe(a),G=jn(ze),g=jn(Ze);W<E?(X[i>>2]=G,X[i+4>>2]=g):(X[i>>2]=g,X[i+4>>2]=G)}function Hr(){return Date.now()}var Nn;Nn=()=>performance.now();function Qr(){return 2147483648}function Vr(n){var t=te.buffer;try{return te.grow(n-t.byteLength+65535>>>16),ke(),1}catch{}}function Gr(n){var t=c.length;n=n>>>0;var i=Qr();if(n>i)return!1;let r=(le,Pe)=>le+(Pe-le%Pe)%Pe;for(var s=1;s<=4;s*=2){var a=t*(1+.2/s);a=Math.min(a,n+100663296);var E=Math.min(i,r(Math.max(n,a),65536)),W=Vr(E);if(W)return!0}return!1}var bn={};function Yr(){return M||"./this.program"}function Kt(){if(!Kt.strings){var n=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:n,_:Yr()};for(var i in bn)bn[i]===void 0?delete t[i]:t[i]=bn[i];var r=[];for(var i in t)r.push(i+"="+t[i]);Kt.strings=r}return Kt.strings}function Jr(n,t,i){for(var r=0;r<n.length;++r)fe[t++>>0]=n.charCodeAt(r);fe[t>>0]=0}function Kr(n,t){var i=0;return Kt().forEach(function(r,s){var a=t+i;X[n+s*4>>2]=a,Jr(r,a),i+=r.length+1}),0}function Zr(n,t){var i=Kt();X[n>>2]=i.length;var r=0;return i.forEach(function(s){r+=s.length+1}),X[t>>2]=r,0}function Xr(n){try{var t=rt.getStreamFromFD(n);return o.close(t),0}catch(i){if(typeof o>"u"||!(i instanceof o.ErrnoError))throw i;return i.errno}}function ei(n,t){try{var i=rt.getStreamFromFD(n),r=i.tty?2:o.isDir(i.mode)?3:o.isLink(i.mode)?7:4;return fe[t>>0]=r,0}catch(s){if(typeof o>"u"||!(s instanceof o.ErrnoError))throw s;return s.errno}}function ti(n,t,i,r){for(var s=0,a=0;a<i;a++){var E=X[t>>2],W=X[t+4>>2];t+=8;var le=o.read(n,fe,E,W,r);if(le<0)return-1;if(s+=le,le<W)break}return s}function ni(n,t,i,r){try{var s=rt.getStreamFromFD(n),a=ti(s,t,i);return X[r>>2]=a,0}catch(E){if(typeof o>"u"||!(E instanceof o.ErrnoError))throw E;return E.errno}}function ri(n,t,i,r){try{if(t=Rn(t),isNaN(t))return 61;var s=rt.getStreamFromFD(n);return o.llseek(s,t,i),K=[s.position>>>0,(ce=s.position,+Math.abs(ce)>=1?ce>0?(Math.min(+Math.floor(ce/4294967296),4294967295)|0)>>>0:~~+Math.ceil((ce-+(~~ce>>>0))/4294967296)>>>0:0)],oe[r>>2]=K[0],oe[r+4>>2]=K[1],s.getdents&&t===0&&i===0&&(s.getdents=null),0}catch(a){if(typeof o>"u"||!(a instanceof o.ErrnoError))throw a;return a.errno}}function ii(n){try{var t=rt.getStreamFromFD(n);return t.stream_ops&&t.stream_ops.fsync?t.stream_ops.fsync(t):0}catch(i){if(typeof o>"u"||!(i instanceof o.ErrnoError))throw i;return i.errno}}function si(n,t,i,r){for(var s=0,a=0;a<i;a++){var E=X[t>>2],W=X[t+4>>2];t+=8;var le=o.write(n,fe,E,W,r);if(le<0)return-1;s+=le}return s}function oi(n,t,i,r){try{var s=rt.getStreamFromFD(n),a=si(s,t,i);return X[r>>2]=a,0}catch(E){if(typeof o>"u"||!(E instanceof o.ErrnoError))throw E;return E.errno}}var Mn=function(n,t,i,r){n||(n=this),this.parent=n,this.mount=n.mount,this.mounted=null,this.id=o.nextInode++,this.name=t,this.mode=i,this.node_ops={},this.stream_ops={},this.rdev=r},sn=365,on=146;Object.defineProperties(Mn.prototype,{read:{get:function(){return(this.mode&sn)===sn},set:function(n){n?this.mode|=sn:this.mode&=~sn}},write:{get:function(){return(this.mode&on)===on},set:function(n){n?this.mode|=on:this.mode&=~on}},isFolder:{get:function(){return o.isDir(this.mode)}},isDevice:{get:function(){return o.isChrdev(this.mode)}}}),o.FSNode=Mn,o.staticInit();var Bn={__syscall_chmod:Nt,__syscall_faccessat:nn,__syscall_fchmod:hn,__syscall_fchown32:mn,__syscall_fcntl64:rn,__syscall_fstat64:$t,__syscall_ftruncate64:qr,__syscall_getcwd:Sr,__syscall_ioctl:xr,__syscall_lstat64:kr,__syscall_mkdirat:Ar,__syscall_newfstatat:Ir,__syscall_openat:Tr,__syscall_readlinkat:Or,__syscall_rmdir:Fr,__syscall_stat64:Cr,__syscall_unlinkat:Dr,__syscall_utimensat:Pr,_emscripten_get_now_is_monotonic:Rr,_localtime_js:zr,_mmap_js:Ur,_munmap_js:Wr,_tzset_js:$r,emscripten_date_now:Hr,emscripten_get_now:Nn,emscripten_resize_heap:Gr,environ_get:Kr,environ_sizes_get:Zr,fd_close:Xr,fd_fdstat_get:ei,fd_read:ni,fd_seek:ri,fd_sync:ii,fd_write:oi,memory:te};Te(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.__wasm_call_ctors).apply(null,arguments)},e._sqlite3_status64=function(){return(e._sqlite3_status64=e.asm.sqlite3_status64).apply(null,arguments)},e._sqlite3_status=function(){return(e._sqlite3_status=e.asm.sqlite3_status).apply(null,arguments)},e._sqlite3_db_status=function(){return(e._sqlite3_db_status=e.asm.sqlite3_db_status).apply(null,arguments)},e._sqlite3_msize=function(){return(e._sqlite3_msize=e.asm.sqlite3_msize).apply(null,arguments)},e._sqlite3_vfs_find=function(){return(e._sqlite3_vfs_find=e.asm.sqlite3_vfs_find).apply(null,arguments)},e._sqlite3_initialize=function(){return(e._sqlite3_initialize=e.asm.sqlite3_initialize).apply(null,arguments)},e._sqlite3_malloc=function(){return(e._sqlite3_malloc=e.asm.sqlite3_malloc).apply(null,arguments)},e._sqlite3_free=function(){return(e._sqlite3_free=e.asm.sqlite3_free).apply(null,arguments)},e._sqlite3_vfs_register=function(){return(e._sqlite3_vfs_register=e.asm.sqlite3_vfs_register).apply(null,arguments)},e._sqlite3_vfs_unregister=function(){return(e._sqlite3_vfs_unregister=e.asm.sqlite3_vfs_unregister).apply(null,arguments)},e._sqlite3_malloc64=function(){return(e._sqlite3_malloc64=e.asm.sqlite3_malloc64).apply(null,arguments)},e._sqlite3_realloc=function(){return(e._sqlite3_realloc=e.asm.sqlite3_realloc).apply(null,arguments)},e._sqlite3_realloc64=function(){return(e._sqlite3_realloc64=e.asm.sqlite3_realloc64).apply(null,arguments)},e._sqlite3_value_text=function(){return(e._sqlite3_value_text=e.asm.sqlite3_value_text).apply(null,arguments)},e._sqlite3_randomness=function(){return(e._sqlite3_randomness=e.asm.sqlite3_randomness).apply(null,arguments)},e._sqlite3_stricmp=function(){return(e._sqlite3_stricmp=e.asm.sqlite3_stricmp).apply(null,arguments)},e._sqlite3_strnicmp=function(){return(e._sqlite3_strnicmp=e.asm.sqlite3_strnicmp).apply(null,arguments)},e._sqlite3_uri_parameter=function(){return(e._sqlite3_uri_parameter=e.asm.sqlite3_uri_parameter).apply(null,arguments)};var zn=e.___errno_location=function(){return(zn=e.___errno_location=e.asm.__errno_location).apply(null,arguments)};e._sqlite3_uri_boolean=function(){return(e._sqlite3_uri_boolean=e.asm.sqlite3_uri_boolean).apply(null,arguments)},e._sqlite3_serialize=function(){return(e._sqlite3_serialize=e.asm.sqlite3_serialize).apply(null,arguments)},e._sqlite3_prepare_v2=function(){return(e._sqlite3_prepare_v2=e.asm.sqlite3_prepare_v2).apply(null,arguments)},e._sqlite3_step=function(){return(e._sqlite3_step=e.asm.sqlite3_step).apply(null,arguments)},e._sqlite3_column_int64=function(){return(e._sqlite3_column_int64=e.asm.sqlite3_column_int64).apply(null,arguments)},e._sqlite3_column_int=function(){return(e._sqlite3_column_int=e.asm.sqlite3_column_int).apply(null,arguments)},e._sqlite3_finalize=function(){return(e._sqlite3_finalize=e.asm.sqlite3_finalize).apply(null,arguments)},e._sqlite3_file_control=function(){return(e._sqlite3_file_control=e.asm.sqlite3_file_control).apply(null,arguments)},e._sqlite3_reset=function(){return(e._sqlite3_reset=e.asm.sqlite3_reset).apply(null,arguments)},e._sqlite3_deserialize=function(){return(e._sqlite3_deserialize=e.asm.sqlite3_deserialize).apply(null,arguments)},e._sqlite3_clear_bindings=function(){return(e._sqlite3_clear_bindings=e.asm.sqlite3_clear_bindings).apply(null,arguments)},e._sqlite3_value_blob=function(){return(e._sqlite3_value_blob=e.asm.sqlite3_value_blob).apply(null,arguments)},e._sqlite3_value_bytes=function(){return(e._sqlite3_value_bytes=e.asm.sqlite3_value_bytes).apply(null,arguments)},e._sqlite3_value_double=function(){return(e._sqlite3_value_double=e.asm.sqlite3_value_double).apply(null,arguments)},e._sqlite3_value_int=function(){return(e._sqlite3_value_int=e.asm.sqlite3_value_int).apply(null,arguments)},e._sqlite3_value_int64=function(){return(e._sqlite3_value_int64=e.asm.sqlite3_value_int64).apply(null,arguments)},e._sqlite3_value_subtype=function(){return(e._sqlite3_value_subtype=e.asm.sqlite3_value_subtype).apply(null,arguments)},e._sqlite3_value_pointer=function(){return(e._sqlite3_value_pointer=e.asm.sqlite3_value_pointer).apply(null,arguments)},e._sqlite3_value_type=function(){return(e._sqlite3_value_type=e.asm.sqlite3_value_type).apply(null,arguments)},e._sqlite3_value_nochange=function(){return(e._sqlite3_value_nochange=e.asm.sqlite3_value_nochange).apply(null,arguments)},e._sqlite3_value_frombind=function(){return(e._sqlite3_value_frombind=e.asm.sqlite3_value_frombind).apply(null,arguments)},e._sqlite3_value_dup=function(){return(e._sqlite3_value_dup=e.asm.sqlite3_value_dup).apply(null,arguments)},e._sqlite3_value_free=function(){return(e._sqlite3_value_free=e.asm.sqlite3_value_free).apply(null,arguments)},e._sqlite3_result_blob=function(){return(e._sqlite3_result_blob=e.asm.sqlite3_result_blob).apply(null,arguments)},e._sqlite3_result_error_nomem=function(){return(e._sqlite3_result_error_nomem=e.asm.sqlite3_result_error_nomem).apply(null,arguments)},e._sqlite3_result_error_toobig=function(){return(e._sqlite3_result_error_toobig=e.asm.sqlite3_result_error_toobig).apply(null,arguments)},e._sqlite3_result_double=function(){return(e._sqlite3_result_double=e.asm.sqlite3_result_double).apply(null,arguments)},e._sqlite3_result_error=function(){return(e._sqlite3_result_error=e.asm.sqlite3_result_error).apply(null,arguments)},e._sqlite3_result_int=function(){return(e._sqlite3_result_int=e.asm.sqlite3_result_int).apply(null,arguments)},e._sqlite3_result_int64=function(){return(e._sqlite3_result_int64=e.asm.sqlite3_result_int64).apply(null,arguments)},e._sqlite3_result_null=function(){return(e._sqlite3_result_null=e.asm.sqlite3_result_null).apply(null,arguments)},e._sqlite3_result_pointer=function(){return(e._sqlite3_result_pointer=e.asm.sqlite3_result_pointer).apply(null,arguments)},e._sqlite3_result_subtype=function(){return(e._sqlite3_result_subtype=e.asm.sqlite3_result_subtype).apply(null,arguments)},e._sqlite3_result_text=function(){return(e._sqlite3_result_text=e.asm.sqlite3_result_text).apply(null,arguments)},e._sqlite3_result_zeroblob=function(){return(e._sqlite3_result_zeroblob=e.asm.sqlite3_result_zeroblob).apply(null,arguments)},e._sqlite3_result_zeroblob64=function(){return(e._sqlite3_result_zeroblob64=e.asm.sqlite3_result_zeroblob64).apply(null,arguments)},e._sqlite3_result_error_code=function(){return(e._sqlite3_result_error_code=e.asm.sqlite3_result_error_code).apply(null,arguments)},e._sqlite3_user_data=function(){return(e._sqlite3_user_data=e.asm.sqlite3_user_data).apply(null,arguments)},e._sqlite3_context_db_handle=function(){return(e._sqlite3_context_db_handle=e.asm.sqlite3_context_db_handle).apply(null,arguments)},e._sqlite3_vtab_nochange=function(){return(e._sqlite3_vtab_nochange=e.asm.sqlite3_vtab_nochange).apply(null,arguments)},e._sqlite3_vtab_in_first=function(){return(e._sqlite3_vtab_in_first=e.asm.sqlite3_vtab_in_first).apply(null,arguments)},e._sqlite3_vtab_in_next=function(){return(e._sqlite3_vtab_in_next=e.asm.sqlite3_vtab_in_next).apply(null,arguments)},e._sqlite3_aggregate_context=function(){return(e._sqlite3_aggregate_context=e.asm.sqlite3_aggregate_context).apply(null,arguments)},e._sqlite3_get_auxdata=function(){return(e._sqlite3_get_auxdata=e.asm.sqlite3_get_auxdata).apply(null,arguments)},e._sqlite3_set_auxdata=function(){return(e._sqlite3_set_auxdata=e.asm.sqlite3_set_auxdata).apply(null,arguments)},e._sqlite3_column_count=function(){return(e._sqlite3_column_count=e.asm.sqlite3_column_count).apply(null,arguments)},e._sqlite3_data_count=function(){return(e._sqlite3_data_count=e.asm.sqlite3_data_count).apply(null,arguments)},e._sqlite3_column_blob=function(){return(e._sqlite3_column_blob=e.asm.sqlite3_column_blob).apply(null,arguments)},e._sqlite3_column_bytes=function(){return(e._sqlite3_column_bytes=e.asm.sqlite3_column_bytes).apply(null,arguments)},e._sqlite3_column_double=function(){return(e._sqlite3_column_double=e.asm.sqlite3_column_double).apply(null,arguments)},e._sqlite3_column_text=function(){return(e._sqlite3_column_text=e.asm.sqlite3_column_text).apply(null,arguments)},e._sqlite3_column_value=function(){return(e._sqlite3_column_value=e.asm.sqlite3_column_value).apply(null,arguments)},e._sqlite3_column_type=function(){return(e._sqlite3_column_type=e.asm.sqlite3_column_type).apply(null,arguments)},e._sqlite3_column_name=function(){return(e._sqlite3_column_name=e.asm.sqlite3_column_name).apply(null,arguments)},e._sqlite3_bind_blob=function(){return(e._sqlite3_bind_blob=e.asm.sqlite3_bind_blob).apply(null,arguments)},e._sqlite3_bind_double=function(){return(e._sqlite3_bind_double=e.asm.sqlite3_bind_double).apply(null,arguments)},e._sqlite3_bind_int=function(){return(e._sqlite3_bind_int=e.asm.sqlite3_bind_int).apply(null,arguments)},e._sqlite3_bind_int64=function(){return(e._sqlite3_bind_int64=e.asm.sqlite3_bind_int64).apply(null,arguments)},e._sqlite3_bind_null=function(){return(e._sqlite3_bind_null=e.asm.sqlite3_bind_null).apply(null,arguments)},e._sqlite3_bind_pointer=function(){return(e._sqlite3_bind_pointer=e.asm.sqlite3_bind_pointer).apply(null,arguments)},e._sqlite3_bind_text=function(){return(e._sqlite3_bind_text=e.asm.sqlite3_bind_text).apply(null,arguments)},e._sqlite3_bind_parameter_count=function(){return(e._sqlite3_bind_parameter_count=e.asm.sqlite3_bind_parameter_count).apply(null,arguments)},e._sqlite3_bind_parameter_index=function(){return(e._sqlite3_bind_parameter_index=e.asm.sqlite3_bind_parameter_index).apply(null,arguments)},e._sqlite3_db_handle=function(){return(e._sqlite3_db_handle=e.asm.sqlite3_db_handle).apply(null,arguments)},e._sqlite3_stmt_readonly=function(){return(e._sqlite3_stmt_readonly=e.asm.sqlite3_stmt_readonly).apply(null,arguments)},e._sqlite3_stmt_isexplain=function(){return(e._sqlite3_stmt_isexplain=e.asm.sqlite3_stmt_isexplain).apply(null,arguments)},e._sqlite3_stmt_status=function(){return(e._sqlite3_stmt_status=e.asm.sqlite3_stmt_status).apply(null,arguments)},e._sqlite3_sql=function(){return(e._sqlite3_sql=e.asm.sqlite3_sql).apply(null,arguments)},e._sqlite3_expanded_sql=function(){return(e._sqlite3_expanded_sql=e.asm.sqlite3_expanded_sql).apply(null,arguments)},e._sqlite3_preupdate_old=function(){return(e._sqlite3_preupdate_old=e.asm.sqlite3_preupdate_old).apply(null,arguments)},e._sqlite3_preupdate_count=function(){return(e._sqlite3_preupdate_count=e.asm.sqlite3_preupdate_count).apply(null,arguments)},e._sqlite3_preupdate_depth=function(){return(e._sqlite3_preupdate_depth=e.asm.sqlite3_preupdate_depth).apply(null,arguments)},e._sqlite3_preupdate_blobwrite=function(){return(e._sqlite3_preupdate_blobwrite=e.asm.sqlite3_preupdate_blobwrite).apply(null,arguments)},e._sqlite3_preupdate_new=function(){return(e._sqlite3_preupdate_new=e.asm.sqlite3_preupdate_new).apply(null,arguments)},e._sqlite3_value_numeric_type=function(){return(e._sqlite3_value_numeric_type=e.asm.sqlite3_value_numeric_type).apply(null,arguments)},e._sqlite3_errmsg=function(){return(e._sqlite3_errmsg=e.asm.sqlite3_errmsg).apply(null,arguments)},e._sqlite3_set_authorizer=function(){return(e._sqlite3_set_authorizer=e.asm.sqlite3_set_authorizer).apply(null,arguments)},e._sqlite3_strglob=function(){return(e._sqlite3_strglob=e.asm.sqlite3_strglob).apply(null,arguments)},e._sqlite3_strlike=function(){return(e._sqlite3_strlike=e.asm.sqlite3_strlike).apply(null,arguments)},e._sqlite3_exec=function(){return(e._sqlite3_exec=e.asm.sqlite3_exec).apply(null,arguments)},e._sqlite3_auto_extension=function(){return(e._sqlite3_auto_extension=e.asm.sqlite3_auto_extension).apply(null,arguments)},e._sqlite3_cancel_auto_extension=function(){return(e._sqlite3_cancel_auto_extension=e.asm.sqlite3_cancel_auto_extension).apply(null,arguments)},e._sqlite3_reset_auto_extension=function(){return(e._sqlite3_reset_auto_extension=e.asm.sqlite3_reset_auto_extension).apply(null,arguments)},e._sqlite3_prepare_v3=function(){return(e._sqlite3_prepare_v3=e.asm.sqlite3_prepare_v3).apply(null,arguments)},e._sqlite3_create_module=function(){return(e._sqlite3_create_module=e.asm.sqlite3_create_module).apply(null,arguments)},e._sqlite3_create_module_v2=function(){return(e._sqlite3_create_module_v2=e.asm.sqlite3_create_module_v2).apply(null,arguments)},e._sqlite3_drop_modules=function(){return(e._sqlite3_drop_modules=e.asm.sqlite3_drop_modules).apply(null,arguments)},e._sqlite3_declare_vtab=function(){return(e._sqlite3_declare_vtab=e.asm.sqlite3_declare_vtab).apply(null,arguments)},e._sqlite3_vtab_on_conflict=function(){return(e._sqlite3_vtab_on_conflict=e.asm.sqlite3_vtab_on_conflict).apply(null,arguments)},e._sqlite3_vtab_collation=function(){return(e._sqlite3_vtab_collation=e.asm.sqlite3_vtab_collation).apply(null,arguments)},e._sqlite3_vtab_in=function(){return(e._sqlite3_vtab_in=e.asm.sqlite3_vtab_in).apply(null,arguments)},e._sqlite3_vtab_rhs_value=function(){return(e._sqlite3_vtab_rhs_value=e.asm.sqlite3_vtab_rhs_value).apply(null,arguments)},e._sqlite3_vtab_distinct=function(){return(e._sqlite3_vtab_distinct=e.asm.sqlite3_vtab_distinct).apply(null,arguments)},e._sqlite3_keyword_name=function(){return(e._sqlite3_keyword_name=e.asm.sqlite3_keyword_name).apply(null,arguments)},e._sqlite3_keyword_count=function(){return(e._sqlite3_keyword_count=e.asm.sqlite3_keyword_count).apply(null,arguments)},e._sqlite3_keyword_check=function(){return(e._sqlite3_keyword_check=e.asm.sqlite3_keyword_check).apply(null,arguments)},e._sqlite3_complete=function(){return(e._sqlite3_complete=e.asm.sqlite3_complete).apply(null,arguments)},e._sqlite3_libversion=function(){return(e._sqlite3_libversion=e.asm.sqlite3_libversion).apply(null,arguments)},e._sqlite3_libversion_number=function(){return(e._sqlite3_libversion_number=e.asm.sqlite3_libversion_number).apply(null,arguments)},e._sqlite3_shutdown=function(){return(e._sqlite3_shutdown=e.asm.sqlite3_shutdown).apply(null,arguments)},e._sqlite3_last_insert_rowid=function(){return(e._sqlite3_last_insert_rowid=e.asm.sqlite3_last_insert_rowid).apply(null,arguments)},e._sqlite3_set_last_insert_rowid=function(){return(e._sqlite3_set_last_insert_rowid=e.asm.sqlite3_set_last_insert_rowid).apply(null,arguments)},e._sqlite3_changes64=function(){return(e._sqlite3_changes64=e.asm.sqlite3_changes64).apply(null,arguments)},e._sqlite3_changes=function(){return(e._sqlite3_changes=e.asm.sqlite3_changes).apply(null,arguments)},e._sqlite3_total_changes64=function(){return(e._sqlite3_total_changes64=e.asm.sqlite3_total_changes64).apply(null,arguments)},e._sqlite3_total_changes=function(){return(e._sqlite3_total_changes=e.asm.sqlite3_total_changes).apply(null,arguments)},e._sqlite3_txn_state=function(){return(e._sqlite3_txn_state=e.asm.sqlite3_txn_state).apply(null,arguments)},e._sqlite3_close_v2=function(){return(e._sqlite3_close_v2=e.asm.sqlite3_close_v2).apply(null,arguments)},e._sqlite3_busy_handler=function(){return(e._sqlite3_busy_handler=e.asm.sqlite3_busy_handler).apply(null,arguments)},e._sqlite3_progress_handler=function(){return(e._sqlite3_progress_handler=e.asm.sqlite3_progress_handler).apply(null,arguments)},e._sqlite3_busy_timeout=function(){return(e._sqlite3_busy_timeout=e.asm.sqlite3_busy_timeout).apply(null,arguments)},e._sqlite3_create_function=function(){return(e._sqlite3_create_function=e.asm.sqlite3_create_function).apply(null,arguments)},e._sqlite3_create_function_v2=function(){return(e._sqlite3_create_function_v2=e.asm.sqlite3_create_function_v2).apply(null,arguments)},e._sqlite3_create_window_function=function(){return(e._sqlite3_create_window_function=e.asm.sqlite3_create_window_function).apply(null,arguments)},e._sqlite3_overload_function=function(){return(e._sqlite3_overload_function=e.asm.sqlite3_overload_function).apply(null,arguments)},e._sqlite3_trace_v2=function(){return(e._sqlite3_trace_v2=e.asm.sqlite3_trace_v2).apply(null,arguments)},e._sqlite3_commit_hook=function(){return(e._sqlite3_commit_hook=e.asm.sqlite3_commit_hook).apply(null,arguments)},e._sqlite3_update_hook=function(){return(e._sqlite3_update_hook=e.asm.sqlite3_update_hook).apply(null,arguments)},e._sqlite3_rollback_hook=function(){return(e._sqlite3_rollback_hook=e.asm.sqlite3_rollback_hook).apply(null,arguments)},e._sqlite3_preupdate_hook=function(){return(e._sqlite3_preupdate_hook=e.asm.sqlite3_preupdate_hook).apply(null,arguments)},e._sqlite3_error_offset=function(){return(e._sqlite3_error_offset=e.asm.sqlite3_error_offset).apply(null,arguments)},e._sqlite3_errcode=function(){return(e._sqlite3_errcode=e.asm.sqlite3_errcode).apply(null,arguments)},e._sqlite3_extended_errcode=function(){return(e._sqlite3_extended_errcode=e.asm.sqlite3_extended_errcode).apply(null,arguments)},e._sqlite3_errstr=function(){return(e._sqlite3_errstr=e.asm.sqlite3_errstr).apply(null,arguments)},e._sqlite3_limit=function(){return(e._sqlite3_limit=e.asm.sqlite3_limit).apply(null,arguments)},e._sqlite3_open=function(){return(e._sqlite3_open=e.asm.sqlite3_open).apply(null,arguments)},e._sqlite3_open_v2=function(){return(e._sqlite3_open_v2=e.asm.sqlite3_open_v2).apply(null,arguments)},e._sqlite3_create_collation=function(){return(e._sqlite3_create_collation=e.asm.sqlite3_create_collation).apply(null,arguments)},e._sqlite3_create_collation_v2=function(){return(e._sqlite3_create_collation_v2=e.asm.sqlite3_create_collation_v2).apply(null,arguments)},e._sqlite3_collation_needed=function(){return(e._sqlite3_collation_needed=e.asm.sqlite3_collation_needed).apply(null,arguments)},e._sqlite3_table_column_metadata=function(){return(e._sqlite3_table_column_metadata=e.asm.sqlite3_table_column_metadata).apply(null,arguments)},e._sqlite3_extended_result_codes=function(){return(e._sqlite3_extended_result_codes=e.asm.sqlite3_extended_result_codes).apply(null,arguments)},e._sqlite3_uri_key=function(){return(e._sqlite3_uri_key=e.asm.sqlite3_uri_key).apply(null,arguments)},e._sqlite3_uri_int64=function(){return(e._sqlite3_uri_int64=e.asm.sqlite3_uri_int64).apply(null,arguments)},e._sqlite3_db_name=function(){return(e._sqlite3_db_name=e.asm.sqlite3_db_name).apply(null,arguments)},e._sqlite3_db_filename=function(){return(e._sqlite3_db_filename=e.asm.sqlite3_db_filename).apply(null,arguments)},e._sqlite3_compileoption_used=function(){return(e._sqlite3_compileoption_used=e.asm.sqlite3_compileoption_used).apply(null,arguments)},e._sqlite3_compileoption_get=function(){return(e._sqlite3_compileoption_get=e.asm.sqlite3_compileoption_get).apply(null,arguments)},e._sqlite3session_diff=function(){return(e._sqlite3session_diff=e.asm.sqlite3session_diff).apply(null,arguments)},e._sqlite3session_attach=function(){return(e._sqlite3session_attach=e.asm.sqlite3session_attach).apply(null,arguments)},e._sqlite3session_create=function(){return(e._sqlite3session_create=e.asm.sqlite3session_create).apply(null,arguments)},e._sqlite3session_delete=function(){return(e._sqlite3session_delete=e.asm.sqlite3session_delete).apply(null,arguments)},e._sqlite3session_table_filter=function(){return(e._sqlite3session_table_filter=e.asm.sqlite3session_table_filter).apply(null,arguments)},e._sqlite3session_changeset=function(){return(e._sqlite3session_changeset=e.asm.sqlite3session_changeset).apply(null,arguments)},e._sqlite3session_changeset_strm=function(){return(e._sqlite3session_changeset_strm=e.asm.sqlite3session_changeset_strm).apply(null,arguments)},e._sqlite3session_patchset_strm=function(){return(e._sqlite3session_patchset_strm=e.asm.sqlite3session_patchset_strm).apply(null,arguments)},e._sqlite3session_patchset=function(){return(e._sqlite3session_patchset=e.asm.sqlite3session_patchset).apply(null,arguments)},e._sqlite3session_enable=function(){return(e._sqlite3session_enable=e.asm.sqlite3session_enable).apply(null,arguments)},e._sqlite3session_indirect=function(){return(e._sqlite3session_indirect=e.asm.sqlite3session_indirect).apply(null,arguments)},e._sqlite3session_isempty=function(){return(e._sqlite3session_isempty=e.asm.sqlite3session_isempty).apply(null,arguments)},e._sqlite3session_memory_used=function(){return(e._sqlite3session_memory_used=e.asm.sqlite3session_memory_used).apply(null,arguments)},e._sqlite3session_object_config=function(){return(e._sqlite3session_object_config=e.asm.sqlite3session_object_config).apply(null,arguments)},e._sqlite3session_changeset_size=function(){return(e._sqlite3session_changeset_size=e.asm.sqlite3session_changeset_size).apply(null,arguments)},e._sqlite3changeset_start=function(){return(e._sqlite3changeset_start=e.asm.sqlite3changeset_start).apply(null,arguments)},e._sqlite3changeset_start_v2=function(){return(e._sqlite3changeset_start_v2=e.asm.sqlite3changeset_start_v2).apply(null,arguments)},e._sqlite3changeset_start_strm=function(){return(e._sqlite3changeset_start_strm=e.asm.sqlite3changeset_start_strm).apply(null,arguments)},e._sqlite3changeset_start_v2_strm=function(){return(e._sqlite3changeset_start_v2_strm=e.asm.sqlite3changeset_start_v2_strm).apply(null,arguments)},e._sqlite3changeset_next=function(){return(e._sqlite3changeset_next=e.asm.sqlite3changeset_next).apply(null,arguments)},e._sqlite3changeset_op=function(){return(e._sqlite3changeset_op=e.asm.sqlite3changeset_op).apply(null,arguments)},e._sqlite3changeset_pk=function(){return(e._sqlite3changeset_pk=e.asm.sqlite3changeset_pk).apply(null,arguments)},e._sqlite3changeset_old=function(){return(e._sqlite3changeset_old=e.asm.sqlite3changeset_old).apply(null,arguments)},e._sqlite3changeset_new=function(){return(e._sqlite3changeset_new=e.asm.sqlite3changeset_new).apply(null,arguments)},e._sqlite3changeset_conflict=function(){return(e._sqlite3changeset_conflict=e.asm.sqlite3changeset_conflict).apply(null,arguments)},e._sqlite3changeset_fk_conflicts=function(){return(e._sqlite3changeset_fk_conflicts=e.asm.sqlite3changeset_fk_conflicts).apply(null,arguments)},e._sqlite3changeset_finalize=function(){return(e._sqlite3changeset_finalize=e.asm.sqlite3changeset_finalize).apply(null,arguments)},e._sqlite3changeset_invert=function(){return(e._sqlite3changeset_invert=e.asm.sqlite3changeset_invert).apply(null,arguments)},e._sqlite3changeset_invert_strm=function(){return(e._sqlite3changeset_invert_strm=e.asm.sqlite3changeset_invert_strm).apply(null,arguments)},e._sqlite3changeset_apply_v2=function(){return(e._sqlite3changeset_apply_v2=e.asm.sqlite3changeset_apply_v2).apply(null,arguments)},e._sqlite3changeset_apply=function(){return(e._sqlite3changeset_apply=e.asm.sqlite3changeset_apply).apply(null,arguments)},e._sqlite3changeset_apply_v2_strm=function(){return(e._sqlite3changeset_apply_v2_strm=e.asm.sqlite3changeset_apply_v2_strm).apply(null,arguments)},e._sqlite3changeset_apply_strm=function(){return(e._sqlite3changeset_apply_strm=e.asm.sqlite3changeset_apply_strm).apply(null,arguments)},e._sqlite3changegroup_new=function(){return(e._sqlite3changegroup_new=e.asm.sqlite3changegroup_new).apply(null,arguments)},e._sqlite3changegroup_add=function(){return(e._sqlite3changegroup_add=e.asm.sqlite3changegroup_add).apply(null,arguments)},e._sqlite3changegroup_output=function(){return(e._sqlite3changegroup_output=e.asm.sqlite3changegroup_output).apply(null,arguments)},e._sqlite3changegroup_add_strm=function(){return(e._sqlite3changegroup_add_strm=e.asm.sqlite3changegroup_add_strm).apply(null,arguments)},e._sqlite3changegroup_output_strm=function(){return(e._sqlite3changegroup_output_strm=e.asm.sqlite3changegroup_output_strm).apply(null,arguments)},e._sqlite3changegroup_delete=function(){return(e._sqlite3changegroup_delete=e.asm.sqlite3changegroup_delete).apply(null,arguments)},e._sqlite3changeset_concat=function(){return(e._sqlite3changeset_concat=e.asm.sqlite3changeset_concat).apply(null,arguments)},e._sqlite3changeset_concat_strm=function(){return(e._sqlite3changeset_concat_strm=e.asm.sqlite3changeset_concat_strm).apply(null,arguments)},e._sqlite3session_config=function(){return(e._sqlite3session_config=e.asm.sqlite3session_config).apply(null,arguments)},e._sqlite3_sourceid=function(){return(e._sqlite3_sourceid=e.asm.sqlite3_sourceid).apply(null,arguments)},e._sqlite3_wasm_pstack_ptr=function(){return(e._sqlite3_wasm_pstack_ptr=e.asm.sqlite3_wasm_pstack_ptr).apply(null,arguments)},e._sqlite3_wasm_pstack_restore=function(){return(e._sqlite3_wasm_pstack_restore=e.asm.sqlite3_wasm_pstack_restore).apply(null,arguments)},e._sqlite3_wasm_pstack_alloc=function(){return(e._sqlite3_wasm_pstack_alloc=e.asm.sqlite3_wasm_pstack_alloc).apply(null,arguments)},e._sqlite3_wasm_pstack_remaining=function(){return(e._sqlite3_wasm_pstack_remaining=e.asm.sqlite3_wasm_pstack_remaining).apply(null,arguments)},e._sqlite3_wasm_pstack_quota=function(){return(e._sqlite3_wasm_pstack_quota=e.asm.sqlite3_wasm_pstack_quota).apply(null,arguments)},e._sqlite3_wasm_db_error=function(){return(e._sqlite3_wasm_db_error=e.asm.sqlite3_wasm_db_error).apply(null,arguments)},e._sqlite3_wasm_test_struct=function(){return(e._sqlite3_wasm_test_struct=e.asm.sqlite3_wasm_test_struct).apply(null,arguments)},e._sqlite3_wasm_enum_json=function(){return(e._sqlite3_wasm_enum_json=e.asm.sqlite3_wasm_enum_json).apply(null,arguments)},e._sqlite3_wasm_vfs_unlink=function(){return(e._sqlite3_wasm_vfs_unlink=e.asm.sqlite3_wasm_vfs_unlink).apply(null,arguments)},e._sqlite3_wasm_db_vfs=function(){return(e._sqlite3_wasm_db_vfs=e.asm.sqlite3_wasm_db_vfs).apply(null,arguments)},e._sqlite3_wasm_db_reset=function(){return(e._sqlite3_wasm_db_reset=e.asm.sqlite3_wasm_db_reset).apply(null,arguments)},e._sqlite3_wasm_db_export_chunked=function(){return(e._sqlite3_wasm_db_export_chunked=e.asm.sqlite3_wasm_db_export_chunked).apply(null,arguments)},e._sqlite3_wasm_db_serialize=function(){return(e._sqlite3_wasm_db_serialize=e.asm.sqlite3_wasm_db_serialize).apply(null,arguments)},e._sqlite3_wasm_vfs_create_file=function(){return(e._sqlite3_wasm_vfs_create_file=e.asm.sqlite3_wasm_vfs_create_file).apply(null,arguments)},e._sqlite3_wasm_posix_create_file=function(){return(e._sqlite3_wasm_posix_create_file=e.asm.sqlite3_wasm_posix_create_file).apply(null,arguments)},e._sqlite3_wasm_kvvfsMakeKeyOnPstack=function(){return(e._sqlite3_wasm_kvvfsMakeKeyOnPstack=e.asm.sqlite3_wasm_kvvfsMakeKeyOnPstack).apply(null,arguments)},e._sqlite3_wasm_kvvfs_methods=function(){return(e._sqlite3_wasm_kvvfs_methods=e.asm.sqlite3_wasm_kvvfs_methods).apply(null,arguments)},e._sqlite3_wasm_vtab_config=function(){return(e._sqlite3_wasm_vtab_config=e.asm.sqlite3_wasm_vtab_config).apply(null,arguments)},e._sqlite3_wasm_db_config_ip=function(){return(e._sqlite3_wasm_db_config_ip=e.asm.sqlite3_wasm_db_config_ip).apply(null,arguments)},e._sqlite3_wasm_db_config_pii=function(){return(e._sqlite3_wasm_db_config_pii=e.asm.sqlite3_wasm_db_config_pii).apply(null,arguments)},e._sqlite3_wasm_db_config_s=function(){return(e._sqlite3_wasm_db_config_s=e.asm.sqlite3_wasm_db_config_s).apply(null,arguments)},e._sqlite3_wasm_config_i=function(){return(e._sqlite3_wasm_config_i=e.asm.sqlite3_wasm_config_i).apply(null,arguments)},e._sqlite3_wasm_config_ii=function(){return(e._sqlite3_wasm_config_ii=e.asm.sqlite3_wasm_config_ii).apply(null,arguments)},e._sqlite3_wasm_config_j=function(){return(e._sqlite3_wasm_config_j=e.asm.sqlite3_wasm_config_j).apply(null,arguments)},e._sqlite3_wasm_init_wasmfs=function(){return(e._sqlite3_wasm_init_wasmfs=e.asm.sqlite3_wasm_init_wasmfs).apply(null,arguments)},e._sqlite3_wasm_test_intptr=function(){return(e._sqlite3_wasm_test_intptr=e.asm.sqlite3_wasm_test_intptr).apply(null,arguments)},e._sqlite3_wasm_test_voidptr=function(){return(e._sqlite3_wasm_test_voidptr=e.asm.sqlite3_wasm_test_voidptr).apply(null,arguments)},e._sqlite3_wasm_test_int64_max=function(){return(e._sqlite3_wasm_test_int64_max=e.asm.sqlite3_wasm_test_int64_max).apply(null,arguments)},e._sqlite3_wasm_test_int64_min=function(){return(e._sqlite3_wasm_test_int64_min=e.asm.sqlite3_wasm_test_int64_min).apply(null,arguments)},e._sqlite3_wasm_test_int64_times2=function(){return(e._sqlite3_wasm_test_int64_times2=e.asm.sqlite3_wasm_test_int64_times2).apply(null,arguments)},e._sqlite3_wasm_test_int64_minmax=function(){return(e._sqlite3_wasm_test_int64_minmax=e.asm.sqlite3_wasm_test_int64_minmax).apply(null,arguments)},e._sqlite3_wasm_test_int64ptr=function(){return(e._sqlite3_wasm_test_int64ptr=e.asm.sqlite3_wasm_test_int64ptr).apply(null,arguments)},e._sqlite3_wasm_test_stack_overflow=function(){return(e._sqlite3_wasm_test_stack_overflow=e.asm.sqlite3_wasm_test_stack_overflow).apply(null,arguments)},e._sqlite3_wasm_test_str_hello=function(){return(e._sqlite3_wasm_test_str_hello=e.asm.sqlite3_wasm_test_str_hello).apply(null,arguments)};var Un=e._malloc=function(){return(Un=e._malloc=e.asm.malloc).apply(null,arguments)};e._free=function(){return(e._free=e.asm.free).apply(null,arguments)},e._realloc=function(){return(e._realloc=e.asm.realloc).apply(null,arguments)};var Wn=e._emscripten_builtin_memalign=function(){return(Wn=e._emscripten_builtin_memalign=e.asm.emscripten_builtin_memalign).apply(null,arguments)};e.stackSave=function(){return(e.stackSave=e.asm.stackSave).apply(null,arguments)},e.stackRestore=function(){return(e.stackRestore=e.asm.stackRestore).apply(null,arguments)},e.stackAlloc=function(){return(e.stackAlloc=e.asm.stackAlloc).apply(null,arguments)},e.wasmMemory=te;var an;ft=function n(){an||$n(),an||(ft=n)};function $n(n){if(ot>0||($e(),ot>0))return;function t(){an||(an=!0,e.calledRun=!0,!Z&&(Me(),N(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),Re()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),t()},1)):t()}if(e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return $n(),e.postRun||(e.postRun=[]),e.postRun.push(function(n){if(globalThis.sqlite3ApiBootstrap=function t(i=globalThis.sqlite3ApiConfig||t.defaultConfig){if(t.sqlite3)return console.warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),t.sqlite3;const r=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof n<"u"?!!n.HEAPU64:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},i||{});Object.assign(r,{allocExportName:r.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:r.useStdAlloc?"free":"sqlite3_free",reallocExportName:r.useStdAlloc?"realloc":"sqlite3_realloc"},r),["exports","memory","wasmfsOpfsDir"].forEach(u=>{typeof r[u]=="function"&&(r[u]=r[u]())});const s=Object.create(null),a=Object.create(null),E=u=>s.sqlite3_js_rc_str&&s.sqlite3_js_rc_str(u)||"Unknown result code #"+u,W=u=>typeof u=="number"&&u===(u|0);class le extends Error{constructor(..._){let p;if(_.length)if(W(_[0]))if(p=_[0],_.length===1)super(E(_[0]));else{const ae=E(p);typeof _[1]=="object"?super(ae,_[1]):(_[0]=ae+":",super(_.join(" ")))}else _.length===2&&typeof _[1]=="object"?super(..._):super(_.join(" "));this.resultCode=p||s.SQLITE_ERROR,this.name="SQLite3Error"}}le.toss=(...u)=>{throw new le(...u)};const Pe=le.toss;r.wasmfsOpfsDir&&!/^\/[^/]+$/.test(r.wasmfsOpfsDir)&&Pe("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const ze=u=>typeof u!="bigint"&&u===(u|0)&&u<=2147483647&&u>=-2147483648,Ze=function u(_){return u._max||(u._max=BigInt("0x7fffffffffffffff"),u._min=~u._max),_>=u._min&&_<=u._max},G=u=>u>=-0x7fffffffn-1n&&u<=0x7fffffffn,g=function u(_){return u._min||(u._min=Number.MIN_SAFE_INTEGER,u._max=Number.MAX_SAFE_INTEGER),_>=u._min&&_<=u._max},b=u=>u&&u.constructor&&ze(u.constructor.BYTES_PER_ELEMENT)?u:!1,R=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,z=u=>u.buffer instanceof R,A=(u,_,p)=>z(u)?u.slice(_,p):u.subarray(_,p),ye=u=>u&&(u instanceof Uint8Array||u instanceof Int8Array||u instanceof ArrayBuffer),Oe=u=>u&&(u instanceof Uint8Array||u instanceof Int8Array||u instanceof ArrayBuffer),Ae=u=>ye(u)||Pe("Value is not of a supported TypedArray type."),be=new TextDecoder("utf-8"),et=function(u,_,p){return be.decode(A(u,_,p))},h=function(u){return Oe(u)?et(u instanceof ArrayBuffer?new Uint8Array(u):u):Array.isArray(u)?u.join(""):(a.isPtr(u)&&(u=a.cstrToJs(u)),u)};class O extends Error{constructor(..._){_.length===2&&typeof _[1]=="object"?super(..._):_.length?super(_.join(" ")):super("Allocation failed."),this.resultCode=s.SQLITE_NOMEM,this.name="WasmAllocError"}}O.toss=(...u)=>{throw new O(...u)},Object.assign(s,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(u,_,p,ae,Fe,Ge,Xe,Je,tt)=>{},sqlite3_create_function:(u,_,p,ae,Fe,Ge,Xe,Je)=>{},sqlite3_create_window_function:(u,_,p,ae,Fe,Ge,Xe,Je,tt,nt)=>{},sqlite3_prepare_v3:(u,_,p,ae,Fe,Ge)=>{},sqlite3_prepare_v2:(u,_,p,ae,Fe)=>{},sqlite3_exec:(u,_,p,ae,Fe)=>{},sqlite3_randomness:(u,_)=>{}});const V={affirmBindableTypedArray:Ae,flexibleString:h,bigIntFits32:G,bigIntFits64:Ze,bigIntFitsDouble:g,isBindableTypedArray:ye,isInt32:ze,isSQLableTypedArray:Oe,isTypedArray:b,typedArrayToString:et,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:z,toss:function(...u){throw new Error(u.join(" "))},toss3:Pe,typedArrayPart:A};Object.assign(a,{ptrSizeof:r.wasmPtrSizeof||4,ptrIR:r.wasmPtrIR||"i32",bigIntEnabled:!!r.bigIntEnabled,exports:r.exports||Pe("Missing API config.exports (WASM module exports)."),memory:r.memory||r.exports.memory||Pe("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),a.allocFromTypedArray=function(u){u instanceof ArrayBuffer&&(u=new Uint8Array(u)),Ae(u);const _=a.alloc(u.byteLength||1);return a.heapForSize(u.constructor).set(u.byteLength?u:[0],_),_};{const u=r.allocExportName,_=r.deallocExportName,p=r.reallocExportName;for(const ae of[u,_,p])a.exports[ae]instanceof Function||Pe("Missing required exports[",ae,"] function.");a.alloc=function ae(Fe){return ae.impl(Fe)||O.toss("Failed to allocate",Fe," bytes.")},a.alloc.impl=a.exports[u],a.realloc=function ae(Fe,Ge){const Xe=ae.impl(Fe,Ge);return Ge?Xe||O.toss("Failed to reallocate",Ge," bytes."):0},a.realloc.impl=a.exports[p],a.dealloc=a.exports[_]}a.compileOptionUsed=function u(_){if(arguments.length){if(Array.isArray(_)){const p={};return _.forEach(ae=>{p[ae]=s.sqlite3_compileoption_used(ae)}),p}else if(typeof _=="object")return Object.keys(_).forEach(p=>{_[p]=s.sqlite3_compileoption_used(p)}),_}else{if(u._result)return u._result;u._opt||(u._rx=/^([^=]+)=(.+)/,u._rxInt=/^-?\d+$/,u._opt=function(Xe,Je){const tt=u._rx.exec(Xe);Je[0]=tt?tt[1]:Xe,Je[1]=tt?u._rxInt.test(tt[2])?+tt[2]:tt[2]:!0});const p={},ae=[0,0];let Fe=0,Ge;for(;Ge=s.sqlite3_compileoption_get(Fe++);)u._opt(Ge,ae),p[ae[0]]=ae[1];return u._result=p}return typeof _=="string"?!!s.sqlite3_compileoption_used(_):!1},a.pstack=Object.assign(Object.create(null),{restore:a.exports.sqlite3_wasm_pstack_restore,alloc:function(u){return typeof u=="string"&&!(u=a.sizeofIR(u))&&O.toss("Invalid value for pstack.alloc(",arguments[0],")"),a.exports.sqlite3_wasm_pstack_alloc(u)||O.toss("Could not allocate",u,"bytes from the pstack.")},allocChunks:function(u,_){typeof _=="string"&&!(_=a.sizeofIR(_))&&O.toss("Invalid size value for allocChunks(",arguments[1],")");const p=a.pstack.alloc(u*_),ae=[];let Fe=0,Ge=0;for(;Fe<u;++Fe,Ge+=_)ae.push(p+Ge);return ae},allocPtr:(u=1,_=!0)=>u===1?a.pstack.alloc(_?8:a.ptrSizeof):a.pstack.allocChunks(u,_?8:a.ptrSizeof)}),Object.defineProperties(a.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:a.exports.sqlite3_wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:a.exports.sqlite3_wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:a.exports.sqlite3_wasm_pstack_remaining}}),s.sqlite3_randomness=(...u)=>{if(u.length===1&&V.isTypedArray(u[0])&&u[0].BYTES_PER_ELEMENT===1){const _=u[0];if(_.byteLength===0)return a.exports.sqlite3_randomness(0,0),_;const p=a.pstack.pointer;try{let ae=_.byteLength,Fe=0;const Ge=a.exports.sqlite3_randomness,Xe=a.heap8u(),Je=ae<512?ae:512,tt=a.pstack.alloc(Je);do{const nt=ae>Je?Je:ae;Ge(nt,tt),_.set(A(Xe,tt,tt+nt),Fe),ae-=nt,Fe+=nt}while(ae>0)}catch(ae){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",ae)}finally{a.pstack.restore(p)}return _}a.exports.sqlite3_randomness(...u)};let qe;if(s.sqlite3_wasmfs_opfs_dir=function(){if(qe!==void 0)return qe;const u=r.wasmfsOpfsDir;if(!u||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return qe="";try{return u&&a.xCallWrapped("sqlite3_wasm_init_wasmfs","i32",["string"],u)===0?qe=u:qe=""}catch{return qe=""}},s.sqlite3_wasmfs_filename_is_persistent=function(u){const _=s.sqlite3_wasmfs_opfs_dir();return _&&u?u.startsWith(_+"/"):!1},s.sqlite3_js_db_uses_vfs=function(u,_,p=0){try{const ae=s.sqlite3_vfs_find(_);return ae?u?ae===s.sqlite3_js_db_vfs(u,p)?ae:!1:ae===s.sqlite3_vfs_find(0)?ae:!1:!1}catch{return!1}},s.sqlite3_js_vfs_list=function(){const u=[];let _=s.sqlite3_vfs_find(0);for(;_;){const p=new s.sqlite3_vfs(_);u.push(a.cstrToJs(p.$zName)),_=p.$pNext,p.dispose()}return u},s.sqlite3_js_db_export=function(u,_=0){u=a.xWrap.testConvertArg("sqlite3*",u),u||Pe("Invalid sqlite3* argument."),a.bigIntEnabled||Pe("BigInt64 support is not enabled.");const p=a.scopedAllocPush();let ae;try{const Fe=a.scopedAlloc(8+a.ptrSizeof),Ge=Fe+8,Xe=_?a.isPtr(_)?_:a.scopedAllocCString(""+_):0;let Je=a.exports.sqlite3_wasm_db_serialize(u,Xe,Ge,Fe,0);Je&&Pe("Database serialization failed with code",D.capi.sqlite3_js_rc_str(Je)),ae=a.peekPtr(Ge);const tt=a.peek(Fe,"i64");return Je=tt?a.heap8u().slice(ae,ae+Number(tt)):new Uint8Array,Je}finally{ae&&a.exports.sqlite3_free(ae),a.scopedAllocPop(p)}},s.sqlite3_js_db_vfs=(u,_=0)=>a.sqlite3_wasm_db_vfs(u,_),s.sqlite3_js_aggregate_context=(u,_)=>s.sqlite3_aggregate_context(u,_)||(_?O.toss("Cannot allocate",_,"bytes for sqlite3_aggregate_context()"):0),s.sqlite3_js_posix_create_file=function(u,_,p){let ae;_&&a.isPtr(_)?ae=_:_ instanceof ArrayBuffer||_ instanceof Uint8Array?(ae=a.allocFromTypedArray(_),(arguments.length<3||!V.isInt32(p)||p<0)&&(p=_.byteLength)):le.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!V.isInt32(p)||p<0)&&le.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const Fe=a.sqlite3_wasm_posix_create_file(u,ae,p);Fe&&le.toss("Creation of file failed with sqlite3 result code",s.sqlite3_js_rc_str(Fe))}finally{a.dealloc(ae)}},s.sqlite3_js_vfs_create_file=function(u,_,p,ae){r.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let Fe;p?(a.isPtr(p)?Fe=p:p instanceof ArrayBuffer&&(p=new Uint8Array(p)),p instanceof Uint8Array?(Fe=a.allocFromTypedArray(p),(arguments.length<4||!V.isInt32(ae)||ae<0)&&(ae=p.byteLength)):le.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):Fe=0,(!V.isInt32(ae)||ae<0)&&(a.dealloc(Fe),le.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const Ge=a.sqlite3_wasm_vfs_create_file(u,_,Fe,ae);Ge&&le.toss("Creation of file failed with sqlite3 result code",s.sqlite3_js_rc_str(Ge))}finally{a.dealloc(Fe)}},V.isUIThread()){const u=function(_){const p=Object.create(null);return p.prefix="kvvfs-"+_,p.stores=[],(_==="session"||_==="")&&p.stores.push(globalThis.sessionStorage),(_==="local"||_==="")&&p.stores.push(globalThis.localStorage),p};s.sqlite3_js_kvvfs_clear=function(_=""){let p=0;const ae=u(_);return ae.stores.forEach(Fe=>{const Ge=[];let Xe;for(Xe=0;Xe<Fe.length;++Xe){const Je=Fe.key(Xe);Je.startsWith(ae.prefix)&&Ge.push(Je)}Ge.forEach(Je=>Fe.removeItem(Je)),p+=Ge.length}),p},s.sqlite3_js_kvvfs_size=function(_=""){let p=0;const ae=u(_);return ae.stores.forEach(Fe=>{let Ge;for(Ge=0;Ge<Fe.length;++Ge){const Xe=Fe.key(Ge);Xe.startsWith(ae.prefix)&&(p+=Xe.length,p+=Fe.getItem(Xe).length)}}),p*2}}s.sqlite3_db_config=(function(u,_,...p){switch(this.s||(this.s=a.xWrap("sqlite3_wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=a.xWrap("sqlite3_wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=a.xWrap("sqlite3_wasm_db_config_ip","int",["sqlite3*","int","int","*"])),_){case s.SQLITE_DBCONFIG_ENABLE_FKEY:case s.SQLITE_DBCONFIG_ENABLE_TRIGGER:case s.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case s.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case s.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case s.SQLITE_DBCONFIG_ENABLE_QPSG:case s.SQLITE_DBCONFIG_TRIGGER_EQP:case s.SQLITE_DBCONFIG_RESET_DATABASE:case s.SQLITE_DBCONFIG_DEFENSIVE:case s.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case s.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case s.SQLITE_DBCONFIG_DQS_DML:case s.SQLITE_DBCONFIG_DQS_DDL:case s.SQLITE_DBCONFIG_ENABLE_VIEW:case s.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case s.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case s.SQLITE_DBCONFIG_STMT_SCANSTATUS:case s.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(u,_,p[0],p[1]||0);case s.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(u,_,p[0],p[1],p[2]);case s.SQLITE_DBCONFIG_MAINDBNAME:return this.s(u,_,p[0]);default:return s.SQLITE_MISUSE}}).bind(Object.create(null)),s.sqlite3_value_to_js=function(u,_=!0){let p;const ae=s.sqlite3_value_type(u);switch(ae){case s.SQLITE_INTEGER:a.bigIntEnabled?(p=s.sqlite3_value_int64(u),V.bigIntFitsDouble(p)&&(p=Number(p))):p=s.sqlite3_value_double(u);break;case s.SQLITE_FLOAT:p=s.sqlite3_value_double(u);break;case s.SQLITE_TEXT:p=s.sqlite3_value_text(u);break;case s.SQLITE_BLOB:{const Fe=s.sqlite3_value_bytes(u),Ge=s.sqlite3_value_blob(u);Fe&&!Ge&&D.WasmAllocError.toss("Cannot allocate memory for blob argument of",Fe,"byte(s)"),p=Fe?a.heap8u().slice(Ge,Ge+Number(Fe)):null;break}case s.SQLITE_NULL:p=null;break;default:_&&Pe(s.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",ae),p=void 0}return p},s.sqlite3_values_to_js=function(u,_,p=!0){let ae;const Fe=[];for(ae=0;ae<u;++ae)Fe.push(s.sqlite3_value_to_js(a.peekPtr(_+a.ptrSizeof*ae),p));return Fe},s.sqlite3_result_error_js=function(u,_){_ instanceof O?s.sqlite3_result_error_nomem(u):s.sqlite3_result_error(u,""+_,-1)},s.sqlite3_result_js=function(u,_){if(_ instanceof Error){s.sqlite3_result_error_js(u,_);return}try{switch(typeof _){case"undefined":break;case"boolean":s.sqlite3_result_int(u,_?1:0);break;case"bigint":V.bigIntFits32(_)?s.sqlite3_result_int(u,Number(_)):V.bigIntFitsDouble(_)?s.sqlite3_result_double(u,Number(_)):a.bigIntEnabled?V.bigIntFits64(_)?s.sqlite3_result_int64(u,_):Pe("BigInt value",_.toString(),"is too BigInt for int64."):Pe("BigInt value",_.toString(),"is too BigInt.");break;case"number":{let p;V.isInt32(_)?p=s.sqlite3_result_int:a.bigIntEnabled&&Number.isInteger(_)&&V.bigIntFits64(BigInt(_))?p=s.sqlite3_result_int64:p=s.sqlite3_result_double,p(u,_);break}case"string":{const[p,ae]=a.allocCString(_,!0);s.sqlite3_result_text(u,p,ae,s.SQLITE_WASM_DEALLOC);break}case"object":if(_===null){s.sqlite3_result_null(u);break}else if(V.isBindableTypedArray(_)){const p=a.allocFromTypedArray(_);s.sqlite3_result_blob(u,p,_.byteLength,s.SQLITE_WASM_DEALLOC);break}default:Pe("Don't not how to handle this UDF result value:",typeof _,_)}}catch(p){s.sqlite3_result_error_js(u,p)}},s.sqlite3_column_js=function(u,_,p=!0){const ae=s.sqlite3_column_value(u,_);return ae===0?void 0:s.sqlite3_value_to_js(ae,p)};const m=(function(u,_,p){p=s[p],this.ptr?a.pokePtr(this.ptr,0):this.ptr=a.allocPtr();const ae=p(u,_,this.ptr);if(ae)return le.toss(ae,arguments[2]+"() failed with code "+ae);const Fe=a.peekPtr(this.ptr);return Fe?s.sqlite3_value_to_js(Fe,!0):void 0}).bind(Object.create(null));s.sqlite3_preupdate_new_js=(u,_)=>m(u,_,"sqlite3_preupdate_new"),s.sqlite3_preupdate_old_js=(u,_)=>m(u,_,"sqlite3_preupdate_old"),s.sqlite3changeset_new_js=(u,_)=>m(u,_,"sqlite3changeset_new"),s.sqlite3changeset_old_js=(u,_)=>m(u,_,"sqlite3changeset_old");const D={WasmAllocError:O,SQLite3Error:le,capi:s,util:V,wasm:a,config:r,version:Object.create(null),client:void 0,asyncPostInit:async function u(){if(u.isReady instanceof Promise)return u.isReady;let _=t.initializersAsync;delete t.initializersAsync;const p=async()=>(D.__isUnderTest||(delete D.util,delete D.StructBinder),D),ae=Ge=>{throw r.error("an async sqlite3 initializer failed:",Ge),Ge};if(!_||!_.length)return u.isReady=p().catch(ae);_=_.map(Ge=>Ge instanceof Function?async Xe=>Ge(D):Ge),_.push(p);let Fe=Promise.resolve(D);for(;_.length;)Fe=Fe.then(_.shift());return u.isReady=Fe.catch(ae)},scriptInfo:void 0};try{t.initializers.forEach(u=>{u(D)})}catch(u){throw console.error("sqlite3 bootstrap initializer threw:",u),u}return delete t.initializers,t.sqlite3=D,D},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(t){t.bigIntEnabled===void 0&&(t.bigIntEnabled=!!globalThis.BigInt64Array);const i=(...h)=>{throw new Error(h.join(" "))};t.exports||Object.defineProperty(t,"exports",{enumerable:!0,configurable:!0,get:()=>t.instance&&t.instance.exports});const r=t.pointerIR||"i32",s=t.ptrSizeof=r==="i32"?4:r==="i64"?8:i("Unhandled ptrSizeof:",r),a=Object.create(null);a.heapSize=0,a.memory=null,a.freeFuncIndexes=[],a.scopedAlloc=[],a.utf8Decoder=new TextDecoder,a.utf8Encoder=new TextEncoder("utf-8"),t.sizeofIR=h=>{switch(h){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return s;default:return(""+h).endsWith("*")?s:void 0}};const E=function(){if(!a.memory)a.memory=t.memory instanceof WebAssembly.Memory?t.memory:t.exports.memory;else if(a.heapSize===a.memory.buffer.byteLength)return a;const h=a.memory.buffer;return a.HEAP8=new Int8Array(h),a.HEAP8U=new Uint8Array(h),a.HEAP16=new Int16Array(h),a.HEAP16U=new Uint16Array(h),a.HEAP32=new Int32Array(h),a.HEAP32U=new Uint32Array(h),t.bigIntEnabled&&(a.HEAP64=new BigInt64Array(h),a.HEAP64U=new BigUint64Array(h)),a.HEAP32F=new Float32Array(h),a.HEAP64F=new Float64Array(h),a.heapSize=h.byteLength,a};t.heap8=()=>E().HEAP8,t.heap8u=()=>E().HEAP8U,t.heap16=()=>E().HEAP16,t.heap16u=()=>E().HEAP16U,t.heap32=()=>E().HEAP32,t.heap32u=()=>E().HEAP32U,t.heapForSize=function(h,O=!0){const V=a.memory&&a.heapSize===a.memory.buffer.byteLength?a:E();switch(h){case Int8Array:return V.HEAP8;case Uint8Array:return V.HEAP8U;case Int16Array:return V.HEAP16;case Uint16Array:return V.HEAP16U;case Int32Array:return V.HEAP32;case Uint32Array:return V.HEAP32U;case 8:return O?V.HEAP8U:V.HEAP8;case 16:return O?V.HEAP16U:V.HEAP16;case 32:return O?V.HEAP32U:V.HEAP32;case 64:if(V.HEAP64)return O?V.HEAP64U:V.HEAP64;break;default:if(t.bigIntEnabled){if(h===globalThis.BigUint64Array)return V.HEAP64U;if(h===globalThis.BigInt64Array)return V.HEAP64;break}}i("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},t.functionTable=function(){return t.exports.__indirect_function_table},t.functionEntry=function(h){const O=t.functionTable();return h<O.length?O.get(h):void 0},t.jsFuncToWasm=function h(O,V){if(h._||(h._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(D,u,_){_<128?D[u](_):D[u](_%128|128,_>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(D){const u=h._.rxJSig.exec(D);return u?u[2]:D.substr(1)},letterType:D=>h._.sigTypes[D]||i("Invalid signature letter:",D),pushSigType:(D,u)=>D.push(h._.typeCodes[h._.letterType(u)])}),typeof O=="string"){const D=V;V=O,O=D}const qe=h._.sigParams(V),m=[1,96];h._.uleb128Encode(m,"push",qe.length);for(const D of qe)h._.pushSigType(m,D);return V[0]==="v"?m.push(0):(m.push(1),h._.pushSigType(m,V[0])),h._.uleb128Encode(m,"unshift",m.length),m.unshift(0,97,115,109,1,0,0,0,1),m.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(m)),{e:{f:O}}).exports.f};const W=function(O,V,qe){if(qe&&!a.scopedAlloc.length&&i("No scopedAllocPush() scope is active."),typeof O=="string"){const _=V;V=O,O=_}(typeof V!="string"||!(O instanceof Function))&&i("Invalid arguments: expecting (function,signature) or (signature,function).");const m=t.functionTable(),D=m.length;let u;for(;a.freeFuncIndexes.length&&(u=a.freeFuncIndexes.pop(),m.get(u));){u=null;continue}u||(u=D,m.grow(1));try{return m.set(u,O),qe&&a.scopedAlloc[a.scopedAlloc.length-1].push(u),u}catch(_){if(!(_ instanceof TypeError))throw u===D&&a.freeFuncIndexes.push(D),_}try{const _=t.jsFuncToWasm(O,V);m.set(u,_),qe&&a.scopedAlloc[a.scopedAlloc.length-1].push(u)}catch(_){throw u===D&&a.freeFuncIndexes.push(D),_}return u};t.installFunction=(h,O)=>W(h,O,!1),t.scopedInstallFunction=(h,O)=>W(h,O,!0),t.uninstallFunction=function(h){if(!h&&h!==0)return;const O=a.freeFuncIndexes,V=t.functionTable();O.push(h);const qe=V.get(h);return V.set(h,null),qe},t.peek=function(O,V="i8"){V.endsWith("*")&&(V=r);const qe=a.memory&&a.heapSize===a.memory.buffer.byteLength?a:E(),m=Array.isArray(O)?[]:void 0;let D;do{switch(m&&(O=arguments[0].shift()),V){case"i1":case"i8":D=qe.HEAP8[O>>0];break;case"i16":D=qe.HEAP16[O>>1];break;case"i32":D=qe.HEAP32[O>>2];break;case"float":case"f32":D=qe.HEAP32F[O>>2];break;case"double":case"f64":D=Number(qe.HEAP64F[O>>3]);break;case"i64":if(t.bigIntEnabled){D=BigInt(qe.HEAP64[O>>3]);break}default:i("Invalid type for peek():",V)}m&&m.push(D)}while(m&&arguments[0].length);return m||D},t.poke=function(h,O,V="i8"){V.endsWith("*")&&(V=r);const qe=a.memory&&a.heapSize===a.memory.buffer.byteLength?a:E();for(const m of Array.isArray(h)?h:[h])switch(V){case"i1":case"i8":qe.HEAP8[m>>0]=O;continue;case"i16":qe.HEAP16[m>>1]=O;continue;case"i32":qe.HEAP32[m>>2]=O;continue;case"float":case"f32":qe.HEAP32F[m>>2]=O;continue;case"double":case"f64":qe.HEAP64F[m>>3]=O;continue;case"i64":if(qe.HEAP64){qe.HEAP64[m>>3]=BigInt(O);continue}default:i("Invalid type for poke(): "+V)}return this},t.peekPtr=(...h)=>t.peek(h.length===1?h[0]:h,r),t.pokePtr=(h,O=0)=>t.poke(h,O,r),t.peek8=(...h)=>t.peek(h.length===1?h[0]:h,"i8"),t.poke8=(h,O)=>t.poke(h,O,"i8"),t.peek16=(...h)=>t.peek(h.length===1?h[0]:h,"i16"),t.poke16=(h,O)=>t.poke(h,O,"i16"),t.peek32=(...h)=>t.peek(h.length===1?h[0]:h,"i32"),t.poke32=(h,O)=>t.poke(h,O,"i32"),t.peek64=(...h)=>t.peek(h.length===1?h[0]:h,"i64"),t.poke64=(h,O)=>t.poke(h,O,"i64"),t.peek32f=(...h)=>t.peek(h.length===1?h[0]:h,"f32"),t.poke32f=(h,O)=>t.poke(h,O,"f32"),t.peek64f=(...h)=>t.peek(h.length===1?h[0]:h,"f64"),t.poke64f=(h,O)=>t.poke(h,O,"f64"),t.getMemValue=t.peek,t.getPtrValue=t.peekPtr,t.setMemValue=t.poke,t.setPtrValue=t.pokePtr,t.isPtr32=h=>typeof h=="number"&&h===(h|0)&&h>=0,t.isPtr=t.isPtr32,t.cstrlen=function(h){if(!h||!t.isPtr(h))return null;const O=E().HEAP8U;let V=h;for(;O[V]!==0;++V);return V-h};const le=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Pe=function(h,O,V){return a.utf8Decoder.decode(h.buffer instanceof le?h.slice(O,V):h.subarray(O,V))};t.cstrToJs=function(h){const O=t.cstrlen(h);return O?Pe(E().HEAP8U,h,h+O):O===null?O:""},t.jstrlen=function(h){if(typeof h!="string")return null;const O=h.length;let V=0;for(let qe=0;qe<O;++qe){let m=h.charCodeAt(qe);m>=55296&&m<=57343&&(m=65536+((m&1023)<<10)|h.charCodeAt(++qe)&1023),m<=127?++V:m<=2047?V+=2:m<=65535?V+=3:V+=4}return V},t.jstrcpy=function(h,O,V=0,qe=-1,m=!0){if((!O||!(O instanceof Int8Array)&&!(O instanceof Uint8Array))&&i("jstrcpy() target must be an Int8Array or Uint8Array."),qe<0&&(qe=O.length-V),!(qe>0)||!(V>=0))return 0;let D=0,u=h.length;const _=V,p=V+qe-(m?1:0);for(;D<u&&V<p;++D){let ae=h.charCodeAt(D);if(ae>=55296&&ae<=57343&&(ae=65536+((ae&1023)<<10)|h.charCodeAt(++D)&1023),ae<=127){if(V>=p)break;O[V++]=ae}else if(ae<=2047){if(V+1>=p)break;O[V++]=192|ae>>6,O[V++]=128|ae&63}else if(ae<=65535){if(V+2>=p)break;O[V++]=224|ae>>12,O[V++]=128|ae>>6&63,O[V++]=128|ae&63}else{if(V+3>=p)break;O[V++]=240|ae>>18,O[V++]=128|ae>>12&63,O[V++]=128|ae>>6&63,O[V++]=128|ae&63}}return m&&(O[V++]=0),V-_},t.cstrncpy=function(h,O,V){if((!h||!O)&&i("cstrncpy() does not accept NULL strings."),V<0)V=t.cstrlen(strPtr)+1;else if(!(V>0))return 0;const qe=t.heap8u();let m=0,D;for(;m<V&&(D=qe[O+m]);++m)qe[h+m]=D;return m<V&&(qe[h+m++]=0),m},t.jstrToUintArray=(h,O=!1)=>a.utf8Encoder.encode(O?h+"\0":h);const ze=(h,O)=>{(!(h.alloc instanceof Function)||!(h.dealloc instanceof Function))&&i("Object is missing alloc() and/or dealloc() function(s)","required by",O+"().")},Ze=function(h,O,V,qe){if(ze(t,qe),typeof h!="string")return null;{const m=a.utf8Encoder.encode(h),D=V(m.length+1),u=E().HEAP8U;return u.set(m,D),u[D+m.length]=0,O?[D,m.length]:D}};t.allocCString=(h,O=!1)=>Ze(h,O,t.alloc,"allocCString()"),t.scopedAllocPush=function(){ze(t,"scopedAllocPush");const h=[];return a.scopedAlloc.push(h),h},t.scopedAllocPop=function(h){ze(t,"scopedAllocPop");const O=arguments.length?a.scopedAlloc.indexOf(h):a.scopedAlloc.length-1;O<0&&i("Invalid state object for scopedAllocPop()."),arguments.length===0&&(h=a.scopedAlloc[O]),a.scopedAlloc.splice(O,1);for(let V;V=h.pop();)t.functionEntry(V)?t.uninstallFunction(V):t.dealloc(V)},t.scopedAlloc=function(h){a.scopedAlloc.length||i("No scopedAllocPush() scope is active.");const O=t.alloc(h);return a.scopedAlloc[a.scopedAlloc.length-1].push(O),O},Object.defineProperty(t.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>a.scopedAlloc.length,set:()=>i("The 'active' property is read-only.")}),t.scopedAllocCString=(h,O=!1)=>Ze(h,O,t.scopedAlloc,"scopedAllocCString()");const G=function(h,O){const V=t[h?"scopedAlloc":"alloc"]((O.length+1)*t.ptrSizeof);let qe=0;return O.forEach(m=>{t.pokePtr(V+t.ptrSizeof*qe++,t[h?"scopedAllocCString":"allocCString"](""+m))}),t.pokePtr(V+t.ptrSizeof*qe,0),V};t.scopedAllocMainArgv=h=>G(!0,h),t.allocMainArgv=h=>G(!1,h),t.cArgvToJs=(h,O)=>{const V=[];for(let qe=0;qe<h;++qe){const m=t.peekPtr(O+t.ptrSizeof*qe);V.push(m?t.cstrToJs(m):null)}return V},t.scopedAllocCall=function(h){t.scopedAllocPush();try{return h()}finally{t.scopedAllocPop()}};const g=function(h,O,V){ze(t,V);const qe=O?"i64":r;let m=t[V](h*(O?8:s));if(t.poke(m,0,qe),h===1)return m;const D=[m];for(let u=1;u<h;++u)m+=O?8:s,D[u]=m,t.poke(m,0,qe);return D};t.allocPtr=(h=1,O=!0)=>g(h,O,"alloc"),t.scopedAllocPtr=(h=1,O=!0)=>g(h,O,"scopedAlloc"),t.xGet=function(h){return t.exports[h]||i("Cannot find exported symbol:",h)};const b=(h,O)=>i(h+"() requires",O,"argument(s).");t.xCall=function(h,...O){const V=t.xGet(h);return V instanceof Function||i("Exported symbol",h,"is not a function."),V.length!==O.length&&b(h,V.length),arguments.length===2&&Array.isArray(arguments[1])?V.apply(null,arguments[1]):V.apply(null,O)},a.xWrap=Object.create(null),a.xWrap.convert=Object.create(null),a.xWrap.convert.arg=new Map,a.xWrap.convert.result=new Map;const R=a.xWrap.convert.arg,z=a.xWrap.convert.result;t.bigIntEnabled&&R.set("i64",h=>BigInt(h));const A=r==="i32"?h=>h|0:h=>BigInt(h)|BigInt(0);R.set("i32",A).set("i16",h=>(h|0)&65535).set("i8",h=>(h|0)&255).set("f32",h=>Number(h).valueOf()).set("float",R.get("f32")).set("f64",R.get("f32")).set("double",R.get("f64")).set("int",R.get("i32")).set("null",h=>h).set(null,R.get("null")).set("**",A).set("*",A),z.set("*",A).set("pointer",A).set("number",h=>Number(h)).set("void",h=>{}).set("null",h=>h).set(null,z.get("null"));{const h=["i8","i16","i32","int","f32","float","f64","double"];t.bigIntEnabled&&h.push("i64");const O=R.get(r);for(const V of h)R.set(V+"*",O),z.set(V+"*",O),z.set(V,R.get(V)||i("Missing arg converter:",V))}const ye=function(h){return typeof h=="string"?t.scopedAllocCString(h):h?A(h):null};R.set("string",ye).set("utf8",ye).set("pointer",ye),z.set("string",h=>t.cstrToJs(h)).set("utf8",z.get("string")).set("string:dealloc",h=>{try{return h?t.cstrToJs(h):null}finally{t.dealloc(h)}}).set("utf8:dealloc",z.get("string:dealloc")).set("json",h=>JSON.parse(t.cstrToJs(h))).set("json:dealloc",h=>{try{return h?JSON.parse(t.cstrToJs(h)):null}finally{t.dealloc(h)}});const Oe=class{constructor(h){this.name=h.name||"unnamed adapter"}convertArg(h,O,V){i("AbstractArgAdapter must be subclassed.")}};R.FuncPtrAdapter=class Ut extends Oe{constructor(O){super(O),R.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",O),this.name=O.name||"unnamed",this.signature=O.signature,O.contextKey instanceof Function&&(this.contextKey=O.contextKey,O.bindScope||(O.bindScope="context")),this.bindScope=O.bindScope||i("FuncPtrAdapter options requires a bindScope (explicit or implied)."),Ut.bindScopes.indexOf(O.bindScope)<0&&i("Invalid options.bindScope ("+O.bindMod+") for FuncPtrAdapter. Expecting one of: ("+Ut.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=O.callProxy instanceof Function?O.callProxy:void 0}contextKey(O,V){return this}contextMap(O){const V=this.__cmap||(this.__cmap=new Map);let qe=V.get(O);return qe===void 0&&V.set(O,qe=[]),qe}convertArg(O,V,qe){let m=this.singleton;if(!m&&this.isContext&&(m=this.contextMap(this.contextKey(V,qe))),m&&m[0]===O)return m[1];if(O instanceof Function){this.callProxy&&(O=this.callProxy(O));const D=W(O,this.signature,this.isTransient);if(Ut.debugFuncInstall&&Ut.debugOut("FuncPtrAdapter installed",this,this.contextKey(V,qe),"@"+D,O),m){if(m[1]){Ut.debugFuncInstall&&Ut.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(V,qe),"@"+m[1],O);try{a.scopedAlloc[a.scopedAlloc.length-1].push(m[1])}catch{}}m[0]=O,m[1]=D}return D}else if(t.isPtr(O)||O===null||O===void 0){if(m&&m[1]&&m[1]!==O){Ut.debugFuncInstall&&Ut.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(V,qe),"@"+m[1],O);try{a.scopedAlloc[a.scopedAlloc.length-1].push(m[1])}catch{}m[0]=m[1]=O|0}return O||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},R.FuncPtrAdapter.warnOnUse=!1,R.FuncPtrAdapter.debugFuncInstall=!1,R.FuncPtrAdapter.debugOut=console.debug.bind(console),R.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const Ae=h=>R.get(h)||i("Argument adapter not found:",h),be=h=>z.get(h)||i("Result adapter not found:",h);a.xWrap.convertArg=(h,...O)=>Ae(h)(...O),a.xWrap.convertArgNoCheck=(h,...O)=>R.get(h)(...O),a.xWrap.convertResult=(h,O)=>h===null?O:h?be(h)(O):void 0,a.xWrap.convertResultNoCheck=(h,O)=>h===null?O:h?z.get(h)(O):void 0,t.xWrap=function(h,O,...V){arguments.length===3&&Array.isArray(arguments[2])&&(V=arguments[2]),t.isPtr(h)&&(h=t.functionEntry(h)||i("Function pointer not found in WASM function table."));const qe=h instanceof Function,m=qe?h:t.xGet(h);if(qe&&(h=m.name||"unnamed function"),V.length!==m.length&&b(h,m.length),O===null&&m.length===0)return m;O!=null&&be(O);for(const u of V)u instanceof Oe?R.set(u,(..._)=>u.convertArg(..._)):Ae(u);const D=a.xWrap;return m.length===0?(...u)=>u.length?b(h,m.length):D.convertResult(O,m.call(null)):function(...u){u.length!==m.length&&b(h,m.length);const _=t.scopedAllocPush();try{for(const p in u)u[p]=D.convertArgNoCheck(V[p],u[p],u,p);return D.convertResultNoCheck(O,m.apply(null,u))}finally{t.scopedAllocPop(_)}}};const et=function(h,O,V,qe,m,D){if(typeof V=="string"){if(O===1)return D.get(V);if(O===2){if(qe)qe instanceof Function||i(m,"requires a function argument.");else return delete D.get(V),h;return D.set(V,qe),h}}i("Invalid arguments to",m)};return t.xWrap.resultAdapter=function h(O,V){return et(h,arguments.length,O,V,"resultAdapter()",z)},t.xWrap.argAdapter=function h(O,V){return et(h,arguments.length,O,V,"argAdapter()",R)},t.xWrap.FuncPtrAdapter=R.FuncPtrAdapter,t.xCallWrapped=function(h,O,V,...qe){return Array.isArray(arguments[3])&&(qe=arguments[3]),t.xWrap(h,O,V||[]).apply(null,qe||[])},t.xWrap.testConvertArg=a.xWrap.convertArg,t.xWrap.testConvertResult=a.xWrap.convertResult,t},globalThis.WhWasmUtilInstaller.yawl=(function(t){const i=()=>fetch(t.uri,{credentials:"same-origin"}),r=this,s=function(E){if(t.wasmUtilTarget){const W=(...Pe)=>{throw new Error(Pe.join(" "))},le=t.wasmUtilTarget;if(le.module=E.module,le.instance=E.instance,le.instance.exports.memory||(le.memory=t.imports&&t.imports.env&&t.imports.env.memory||W("Missing 'memory' object!")),!le.alloc&&E.instance.exports.malloc){const Pe=E.instance.exports;le.alloc=function(ze){return Pe.malloc(ze)||W("Allocation of",ze,"bytes failed.")},le.dealloc=function(ze){Pe.free(ze)}}r(le)}return t.onload&&t.onload(E,t),E};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(i(),t.imports||{}).then(s)}:function(){return i().then(W=>W.arrayBuffer()).then(W=>WebAssembly.instantiate(W,t.imports||{})).then(s)}}).bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function t(i){const r=(...L)=>{throw new Error(L.join(" "))};!(i.heap instanceof WebAssembly.Memory)&&!(i.heap instanceof Function)&&r("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(L){i[L]instanceof Function||r("Config option '"+L+"' must be a function.")});const s=t,a=i.heap instanceof Function?i.heap:()=>new Uint8Array(i.heap.buffer),E=i.alloc,W=i.dealloc,le=i.log||console.log.bind(console),Pe=i.memberPrefix||"",ze=i.memberSuffix||"",Ze=i.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!i.bigIntEnabled,G=globalThis.BigInt,g=globalThis.BigInt64Array,b=i.ptrSizeof||4,R=i.ptrIR||"i32";s.debugFlags||(s.__makeDebugFlags=function(L=null){L&&L.__flags&&(L=L.__flags);const se=function de(xe){return arguments.length===0?de.__flags:(xe<0?(delete de.__flags.getter,delete de.__flags.setter,delete de.__flags.alloc,delete de.__flags.dealloc):(de.__flags.getter=(1&xe)!==0,de.__flags.setter=(2&xe)!==0,de.__flags.alloc=(4&xe)!==0,de.__flags.dealloc=(8&xe)!==0),de._flags)};return Object.defineProperty(se,"__flags",{iterable:!1,writable:!1,value:Object.create(L)}),L||se(0),se},s.debugFlags=s.__makeDebugFlags());const z=function(){const L=new ArrayBuffer(2);return new DataView(L).setInt16(0,256,!0),new Int16Array(L)[0]===256}(),A=L=>L[1]==="(",ye=L=>L==="P",Oe=L=>A(L)?"p":L[0],Ae=function(L){switch(Oe(L)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return R;case"j":return"i64";case"f":return"float";case"d":return"double"}r("Unhandled signature IR:",L)},be=g?()=>!0:()=>r("BigInt64Array is not available."),et=function(L){switch(Oe(L)){case"p":case"P":case"s":{switch(b){case 4:return"getInt32";case 8:return be()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return be()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}r("Unhandled DataView getter for signature:",L)},h=function(L){switch(Oe(L)){case"p":case"P":case"s":{switch(b){case 4:return"setInt32";case 8:return be()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return be()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}r("Unhandled DataView setter for signature:",L)},O=function(L){switch(Oe(L)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return be()&&G;case"p":case"P":case"s":switch(b){case 4:return Number;case 8:return be()&&G}break}r("Unhandled DataView set wrapper for signature:",L)},V=(L,se)=>L+"::"+se,qe=function(L,se){return()=>r(V(L,se),"is read-only.")},m=new WeakMap,D="(pointer-is-external)",u=function(L,se,de){if(de||(de=m.get(se)),de){if(m.delete(se),Array.isArray(se.ondispose)){let xe;for(;xe=se.ondispose.shift();)try{xe instanceof Function?xe.call(se):xe instanceof Ke?xe.dispose():typeof xe=="number"&&W(xe)}catch(it){console.warn("ondispose() for",L.structName,"@",de,"threw. NOT propagating it.",it)}}else if(se.ondispose instanceof Function)try{se.ondispose()}catch(xe){console.warn("ondispose() for",L.structName,"@",de,"threw. NOT propagating it.",xe)}delete se.ondispose,L.debugFlags.__flags.dealloc&&le("debug.dealloc:",se[D]?"EXTERNAL":"",L.structName,"instance:",L.structInfo.sizeof,"bytes @"+de),se[D]||W(de)}},_=L=>({configurable:!1,writable:!1,iterable:!1,value:L}),p=function(L,se,de){let xe=!de;de?Object.defineProperty(se,D,_(de)):(de=E(L.structInfo.sizeof),de||r("Allocation of",L.structName,"structure failed."));try{L.debugFlags.__flags.alloc&&le("debug.alloc:",xe?"":"EXTERNAL",L.structName,"instance:",L.structInfo.sizeof,"bytes @"+de),xe&&a().fill(0,de,de+L.structInfo.sizeof),m.set(se,de)}catch(it){throw u(L,se,de),it}},ae=function(){const L=this.pointer;return L?new Uint8Array(a().slice(L,L+this.structInfo.sizeof)):null},Ge=_(L=>Pe+L+ze),Xe=function(L,se,de=!0){let xe=L.members[se];if(!xe&&(Pe||ze)){for(const it of Object.values(L.members))if(it.key===se){xe=it;break}!xe&&de&&r(V(L.name,se),"is not a mapped struct member.")}return xe},Je=function L(se,de,xe=!1){L._||(L._=ut=>ut.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const it=Xe(se.structInfo,de,!0);return xe?L._(it.signature):it.signature},tt={configurable:!1,enumerable:!1,get:function(){return m.get(this)},set:()=>r("Cannot assign the 'pointer' property of a struct.")},nt=_(function(){const L=[];for(const se of Object.keys(this.structInfo.members))L.push(this.memberKey(se));return L}),at=new TextDecoder("utf-8"),_t=new TextEncoder,bt=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Tt=function(L,se,de){return at.decode(L.buffer instanceof bt?L.slice(se,de):L.subarray(se,de))},re=function(L,se,de=!1){const xe=Xe(L.structInfo,se,de);return xe&&xe.signature.length===1&&xe.signature[0]==="s"?xe:!1},Ee=function(L){L.signature!=="s"&&r("Invalid member type signature for C-string value:",JSON.stringify(L))},Se=function(se,de){const xe=Xe(se.structInfo,de,!0);Ee(xe);const it=se[xe.key];if(!it)return null;let ut=it;const pt=a();for(;pt[ut]!==0;++ut);return it===ut?"":Tt(pt,it,ut)},We=function(L,...se){L.ondispose?Array.isArray(L.ondispose)||(L.ondispose=[L.ondispose]):L.ondispose=[],L.ondispose.push(...se)},Le=function(L){const se=_t.encode(L),de=E(se.length+1);de||r("Allocation error while duplicating string:",L);const xe=a();return xe.set(se,de),xe[de+se.length]=0,de},dt=function(L,se,de){const xe=Xe(L.structInfo,se,!0);Ee(xe);const it=Le(de);return L[xe.key]=it,We(L,it),L},Ke=function(se,de){arguments[2]!==_&&r("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:_(se),structInfo:_(de)})};Ke.prototype=Object.create(null,{dispose:_(function(){u(this.constructor,this)}),lookupMember:_(function(L,se=!0){return Xe(this.structInfo,L,se)}),memberToJsString:_(function(L){return Se(this,L)}),memberIsString:_(function(L,se=!0){return re(this,L,se)}),memberKey:Ge,memberKeys:nt,memberSignature:_(function(L,se=!1){return Je(this,L,se)}),memoryDump:_(ae),pointer:tt,setMemberCString:_(function(L,se){return dt(this,L,se)})}),Object.assign(Ke.prototype,{addOnDispose:function(...L){return We(this,...L),this}}),Object.defineProperties(Ke,{allocCString:_(Le),isA:_(L=>L instanceof Ke),hasExternalPointer:_(L=>L instanceof Ke&&!!L[D]),memberKey:Ge});const me=L=>Number.isFinite(L)||L instanceof(G||Number),Q=function L(se,de,xe){if(!L._){L._={getters:{},setters:{},sw:{}};const Ct=["i","c","C","p","P","s","f","d","v()"];Ze&&Ct.push("j"),Ct.forEach(function(Bt){L._.getters[Bt]=et(Bt),L._.setters[Bt]=h(Bt),L._.sw[Bt]=O(Bt)});const ai=/^[ipPsjfdcC]$/,li=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;L.sigCheck=function(Bt,ci,Hn,wn){Object.prototype.hasOwnProperty.call(Bt,Hn)&&r(Bt.structName,"already has a property named",Hn+"."),ai.test(wn)||li.test(wn)||r("Malformed signature for",V(Bt.structName,ci)+":",wn)}}const it=se.memberKey(de);L.sigCheck(se.prototype,de,it,xe.signature),xe.key=it,xe.name=de;const ut=Oe(xe.signature),pt=V(se.prototype.structName,it),vt=se.prototype.debugFlags.__flags,Vt=Object.create(null);Vt.configurable=!1,Vt.enumerable=!1,Vt.get=function(){vt.getter&&le("debug.getter:",L._.getters[ut],"for",Ae(ut),pt,"@",this.pointer,"+",xe.offset,"sz",xe.sizeof);let Ct=new DataView(a().buffer,this.pointer+xe.offset,xe.sizeof)[L._.getters[ut]](0,z);return vt.getter&&le("debug.getter:",pt,"result =",Ct),Ct},xe.readOnly?Vt.set=qe(se.prototype.structName,it):Vt.set=function(Ct){if(vt.setter&&le("debug.setter:",L._.setters[ut],"for",Ae(ut),pt,"@",this.pointer,"+",xe.offset,"sz",xe.sizeof,Ct),this.pointer||r("Cannot set struct property on disposed instance."),Ct===null)Ct=0;else for(;!me(Ct);){if(ye(xe.signature)&&Ct instanceof Ke){Ct=Ct.pointer||0,vt.setter&&le("debug.setter:",pt,"resolved to",Ct);break}r("Invalid value for pointer-type",pt+".")}new DataView(a().buffer,this.pointer+xe.offset,xe.sizeof)[L._.setters[ut]](0,L._.sw[ut](Ct),z)},Object.defineProperty(se.prototype,it,Vt)},pe=function L(se,de){arguments.length===1?(de=se,se=de.name):de.name||(de.name=se),se||r("Struct name is required.");let xe=!1;Object.keys(de.members).forEach(pt=>{const vt=de.members[pt];vt.sizeof?vt.sizeof===1?vt.signature==="c"||vt.signature==="C"||r("Unexpected sizeof==1 member",V(de.name,pt),"with signature",vt.signature):(vt.sizeof%4!==0&&(console.warn("Invalid struct member description =",vt,"from",de),r(se,"member",pt,"sizeof is not aligned. sizeof="+vt.sizeof)),vt.offset%4!==0&&(console.warn("Invalid struct member description =",vt,"from",de),r(se,"member",pt,"offset is not aligned. offset="+vt.offset))):r(se,"member",pt,"is missing sizeof."),(!xe||xe.offset<vt.offset)&&(xe=vt)}),xe?de.sizeof<xe.offset+xe.sizeof&&r("Invalid struct config:",se,"max member offset ("+xe.offset+") ","extends past end of struct (sizeof="+de.sizeof+")."):r("No member property descriptions found.");const it=_(s.__makeDebugFlags(L.debugFlags)),ut=function pt(vt){this instanceof pt?arguments.length?((vt!==(vt|0)||vt<=0)&&r("Invalid pointer value for",se,"constructor."),p(pt,this,vt)):p(pt,this):r("The",se,"constructor may only be called via 'new'.")};return Object.defineProperties(ut,{debugFlags:it,isA:_(pt=>pt instanceof ut),memberKey:Ge,memberKeys:nt,methodInfoForKey:_(function(pt){}),structInfo:_(de),structName:_(se)}),ut.prototype=new Ke(se,de,_),Object.defineProperties(ut.prototype,{debugFlags:it,constructor:_(ut)}),Object.keys(de.members).forEach(pt=>Q(ut,pt,de.members[pt])),ut};return pe.StructType=Ke,pe.config=i,pe.allocCString=Le,pe.debugFlags||(pe.debugFlags=s.__makeDebugFlags(s.debugFlags)),pe},globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const i=(...G)=>{throw new Error(G.join(" "))};t.SQLite3Error.toss;const r=t.capi,s=t.wasm,a=t.util;if(globalThis.WhWasmUtilInstaller(s),delete globalThis.WhWasmUtilInstaller,s.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(G,g)=>G[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:G=>G[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new s.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:G=>{let g;return(b,R,z,A)=>{try{const ye=s.cArgvToJs(R,z);return g||(g=s.cArgvToJs(R,A)),G(ye,g)|0}catch(ye){return ye.resultCode||r.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_progress_handler",void 0,["sqlite3*","int",new s.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(G,g)=>G[0]}),"*"]],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:G=>G[0]}),"*"]],["sqlite3_set_authorizer","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(G,g)=>G[0],callProxy:G=>(g,b,R,z,A,ye)=>{try{return R=R&&s.cstrToJs(R),z=z&&s.cstrToJs(z),A=A&&s.cstrToJs(A),ye=ye&&s.cstrToJs(ye),G(g,b,R,z,A,ye)||0}catch(Oe){return Oe.resultCode||r.SQLITE_ERROR}}}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new s.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(G,g)=>G[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_isexplain","int",["sqlite3_stmt*"]],["sqlite3_stmt_readonly","int",["sqlite3_stmt*"]],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new s.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(G,g)=>G[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],s.exports.sqlite3_activate_see instanceof Function&&s.bindingSignatures.push(["sqlite3_key","int","sqlite3*","string","int"],["sqlite3_key_v2","int","sqlite3*","string","*","int"],["sqlite3_rekey","int","sqlite3*","string","int"],["sqlite3_rekey_v2","int","sqlite3*","string","*","int"],["sqlite3_activate_see",void 0,"string"]),s.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:G=>G[0],callProxy:G=>(g,b,R,z,A,ye,Oe)=>{G(g,b,R,s.cstrToJs(z),s.cstrToJs(A),ye,Oe)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:G=>G[0],callProxy:G=>(g,b,R,z,A)=>{G(g,b,s.cstrToJs(R),s.cstrToJs(z),A)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]],s.bigIntEnabled&&s.exports.sqlite3changegroup_add){const G={signature:"i(ps)",callProxy:g=>(b,R)=>{try{return g(b,s.cstrToJs(R))|0}catch(z){return z.resultCode||r.SQLITE_ERROR}}};s.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...G}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...G}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...G}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...G}),new s.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new s.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new s.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new s.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new s.xWrap.FuncPtrAdapter({name:"xFilter",...G,contextKey:(g,b)=>g[0]}),"*"]])}s.bindingSignatures.wasm=[["sqlite3_wasm_db_reset","int","sqlite3*"],["sqlite3_wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3_wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3_wasm_posix_create_file","int","string","*","int"],["sqlite3_wasm_vfs_unlink","int","sqlite3_vfs*","string"]],t.StructBinder=globalThis.Jaccwabyt({heap:s.heap8u,alloc:s.alloc,dealloc:s.dealloc,bigIntEnabled:s.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const G=s.xWrap.argAdapter("string");s.xWrap.argAdapter("string:flexible",A=>G(a.flexibleString(A))),s.xWrap.argAdapter("string:static",(function(A){return s.isPtr(A)?A:(A=""+A,this[A]||(this[A]=s.allocCString(A)))}).bind(Object.create(null)));const g=s.xWrap.argAdapter("*"),b=function(){};s.xWrap.argAdapter("sqlite3_filename",g)("sqlite3_context*",g)("sqlite3_value*",g)("void*",g)("sqlite3_changegroup*",g)("sqlite3_changeset_iter*",g)("sqlite3_session*",g)("sqlite3_stmt*",A=>{var ye;return g(A instanceof(((ye=t==null?void 0:t.oo1)==null?void 0:ye.Stmt)||b)?A.pointer:A)})("sqlite3*",A=>{var ye;return g(A instanceof(((ye=t==null?void 0:t.oo1)==null?void 0:ye.DB)||b)?A.pointer:A)})("sqlite3_index_info*",A=>g(A instanceof(r.sqlite3_index_info||b)?A.pointer:A))("sqlite3_module*",A=>g(A instanceof(r.sqlite3_module||b)?A.pointer:A))("sqlite3_vfs*",A=>typeof A=="string"?r.sqlite3_vfs_find(A)||t.SQLite3Error.toss(r.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",A):g(A instanceof(r.sqlite3_vfs||b)?A.pointer:A));const R=s.xWrap.resultAdapter("*");s.xWrap.resultAdapter("sqlite3*",R)("sqlite3_context*",R)("sqlite3_stmt*",R)("sqlite3_value*",R)("sqlite3_vfs*",R)("void*",R),s.exports.sqlite3_step.length===0&&(s.xWrap.doArgcCheck=!1,t.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const A of s.bindingSignatures)r[A[0]]=s.xWrap.apply(null,A);for(const A of s.bindingSignatures.wasm)s[A[0]]=s.xWrap.apply(null,A);const z=function(A){return()=>i(A+"() is unavailable due to lack","of BigInt support in this build.")};for(const A of s.bindingSignatures.int64)r[A[0]]=s.bigIntEnabled?s.xWrap.apply(null,A):z(A[0]);if(delete s.bindingSignatures,s.exports.sqlite3_wasm_db_error){const A=s.xWrap("sqlite3_wasm_db_error","int","sqlite3*","int","string");a.sqlite3_wasm_db_error=function(ye,Oe,Ae){return Oe instanceof t.WasmAllocError?(Oe=r.SQLITE_NOMEM,Ae=0):Oe instanceof Error&&(Ae=Ae||""+Oe,Oe=Oe.resultCode||r.SQLITE_ERROR),ye?A(ye,Oe,Ae):Oe}}else a.sqlite3_wasm_db_error=function(A,ye,Oe){return console.warn("sqlite3_wasm_db_error() is not exported.",arguments),ye}}{const G=s.xCall("sqlite3_wasm_enum_json");G||i("Maintenance required: increase sqlite3_wasm_enum_json()'s","static buffer size!"),s.ctype=JSON.parse(s.cstrToJs(G));const g=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];s.bigIntEnabled&&g.push("serialize","session","vtab");for(const z of g)for(const A of Object.entries(s.ctype[z]))r[A[0]]=A[1];s.functionEntry(r.SQLITE_WASM_DEALLOC)||i("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+r.SQLITE_WASM_DEALLOC+").");const b=Object.create(null);for(const z of["resultCodes"])for(const A of Object.entries(s.ctype[z]))b[A[1]]=A[0];r.sqlite3_js_rc_str=z=>b[z];const R=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!a.isUIThread(),sqlite3_index_info:!s.bigIntEnabled,sqlite3_index_constraint:!s.bigIntEnabled,sqlite3_index_orderby:!s.bigIntEnabled,sqlite3_index_constraint_usage:!s.bigIntEnabled});for(const z of s.ctype.structs)R[z.name]||(r[z.name]=t.StructBinder(z));if(r.sqlite3_index_info){for(const z of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])r.sqlite3_index_info[z]=r[z],delete r[z];r.sqlite3_vtab_config=s.xWrap("sqlite3_wasm_vtab_config","int",["sqlite3*","int","int"])}}const E=(G,g,b)=>a.sqlite3_wasm_db_error(G,r.SQLITE_MISUSE,g+"() requires "+b+" argument"+(b===1?"":"s")+"."),W=G=>a.sqlite3_wasm_db_error(G,r.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),le=G=>s.xWrap.argAdapter("sqlite3*")(G),Pe=G=>s.isPtr(G)?s.cstrToJs(G):G,ze=(function(G,g){G=le(G);let b=this.dbMap.get(G);if(g)!b&&g>0&&this.dbMap.set(G,b=Object.create(null));else return this.dbMap.delete(G),b;return b}).bind(Object.assign(Object.create(null),{dbMap:new Map}));ze.addCollation=function(G,g){const b=ze(G,1);b.collation||(b.collation=new Set),b.collation.add(Pe(g).toLowerCase())},ze._addUDF=function(G,g,b,R){g=Pe(g).toLowerCase();let z=R.get(g);z||R.set(g,z=new Set),z.add(b<0?-1:b)},ze.addFunction=function(G,g,b){const R=ze(G,1);R.udf||(R.udf=new Map),this._addUDF(G,g,b,R.udf)},ze.addWindowFunc=function(G,g,b){const R=ze(G,1);R.wudf||(R.wudf=new Map),this._addUDF(G,g,b,R.wudf)},ze.cleanup=function(G){G=le(G);const g=[G];for(const z of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const A=s.exports[z];g.length=A.length;try{r[z](...g)}catch(ye){console.warn("close-time call of",z+"(",g,") threw:",ye)}}const b=ze(G,0);if(!b)return;if(b.collation){for(const z of b.collation)try{r.sqlite3_create_collation_v2(G,z,r.SQLITE_UTF8,0,0,0)}catch{}delete b.collation}let R;for(R=0;R<2;++R){const z=R?b.wudf:b.udf;if(!z)continue;const A=R?r.sqlite3_create_window_function:r.sqlite3_create_function_v2;for(const ye of z){const Oe=ye[0],Ae=ye[1],be=[G,Oe,0,r.SQLITE_UTF8,0,0,0,0,0];R&&be.push(0);for(const et of Ae)try{be[2]=et,A.apply(null,be)}catch{}Ae.clear()}z.clear()}delete b.udf,delete b.wudf};{const G=s.xWrap("sqlite3_close_v2","int","sqlite3*");r.sqlite3_close_v2=function(g){if(arguments.length!==1)return E(g,"sqlite3_close_v2",1);if(g)try{ze.cleanup(g)}catch{}return G(g)}}if(r.sqlite3session_table_filter){const G=s.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);r.sqlite3session_delete=function(g){if(arguments.length!==1)return E(pDb,"sqlite3session_delete",1);g&&r.sqlite3session_table_filter(g,0,0),G(g)}}{const G=(b,R)=>"argv["+R+"]:"+b[0]+":"+s.cstrToJs(b[1]).toLowerCase(),g=s.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new s.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:G}),new s.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:G})]);r.sqlite3_create_collation_v2=function(b,R,z,A,ye,Oe){if(arguments.length!==6)return E(b,"sqlite3_create_collation_v2",6);if(!(z&15))z|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(z&15))return W(b);try{const Ae=g(b,R,z,A,ye,Oe);return Ae===0&&ye instanceof Function&&ze.addCollation(b,R),Ae}catch(Ae){return a.sqlite3_wasm_db_error(b,Ae)}},r.sqlite3_create_collation=(b,R,z,A,ye)=>arguments.length===5?r.sqlite3_create_collation_v2(b,R,z,A,ye,0):E(b,"sqlite3_create_collation",5)}{const G=function(z,A){return z[0]+":"+(z[2]<0?-1:z[2])+":"+A+":"+s.cstrToJs(z[1]).toLowerCase()},g=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:G,callProxy:z=>(A,ye,Oe)=>{try{z(A,...r.sqlite3_values_to_js(ye,Oe))}catch(Ae){r.sqlite3_result_error_js(A,Ae)}}},xFinalAndValue:{signature:"v(p)",contextKey:G,callProxy:z=>A=>{try{r.sqlite3_result_js(A,z(A))}catch(ye){r.sqlite3_result_error_js(A,ye)}}},xFunc:{signature:"v(pip)",contextKey:G,callProxy:z=>(A,ye,Oe)=>{try{r.sqlite3_result_js(A,z(A,...r.sqlite3_values_to_js(ye,Oe)))}catch(Ae){r.sqlite3_result_error_js(A,Ae)}}},xDestroy:{signature:"v(p)",contextKey:G,callProxy:z=>A=>{try{z(A)}catch(ye){console.error("UDF xDestroy method threw:",ye)}}}}),b=s.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new s.xWrap.FuncPtrAdapter({name:"xFunc",...g.xFunc}),new s.xWrap.FuncPtrAdapter({name:"xStep",...g.xInverseAndStep}),new s.xWrap.FuncPtrAdapter({name:"xFinal",...g.xFinalAndValue}),new s.xWrap.FuncPtrAdapter({name:"xDestroy",...g.xDestroy})]),R=s.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new s.xWrap.FuncPtrAdapter({name:"xStep",...g.xInverseAndStep}),new s.xWrap.FuncPtrAdapter({name:"xFinal",...g.xFinalAndValue}),new s.xWrap.FuncPtrAdapter({name:"xValue",...g.xFinalAndValue}),new s.xWrap.FuncPtrAdapter({name:"xInverse",...g.xInverseAndStep}),new s.xWrap.FuncPtrAdapter({name:"xDestroy",...g.xDestroy})]);r.sqlite3_create_function_v2=function z(A,ye,Oe,Ae,be,et,h,O,V){if(z.length!==arguments.length)return E(A,"sqlite3_create_function_v2",z.length);if(!(Ae&15))Ae|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(Ae&15))return W(A);try{const qe=b(A,ye,Oe,Ae,be,et,h,O,V);return qe===0&&(et instanceof Function||h instanceof Function||O instanceof Function||V instanceof Function)&&ze.addFunction(A,ye,Oe),qe}catch(qe){return console.error("sqlite3_create_function_v2() setup threw:",qe),a.sqlite3_wasm_db_error(A,qe,"Creation of UDF threw: "+qe)}},r.sqlite3_create_function=function z(A,ye,Oe,Ae,be,et,h,O){return z.length===arguments.length?r.sqlite3_create_function_v2(A,ye,Oe,Ae,be,et,h,O,0):E(A,"sqlite3_create_function",z.length)},r.sqlite3_create_window_function=function z(A,ye,Oe,Ae,be,et,h,O,V,qe){if(z.length!==arguments.length)return E(A,"sqlite3_create_window_function",z.length);if(!(Ae&15))Ae|=r.SQLITE_UTF8;else if(r.SQLITE_UTF8!==(Ae&15))return W(A);try{const m=R(A,ye,Oe,Ae,be,et,h,O,V,qe);return m===0&&(et instanceof Function||h instanceof Function||O instanceof Function||V instanceof Function||qe instanceof Function)&&ze.addWindowFunc(A,ye,Oe),m}catch(m){return console.error("sqlite3_create_window_function() setup threw:",m),a.sqlite3_wasm_db_error(A,m,"Creation of UDF threw: "+m)}},r.sqlite3_create_function_v2.udfSetResult=r.sqlite3_create_function.udfSetResult=r.sqlite3_create_window_function.udfSetResult=r.sqlite3_result_js,r.sqlite3_create_function_v2.udfConvertArgs=r.sqlite3_create_function.udfConvertArgs=r.sqlite3_create_window_function.udfConvertArgs=r.sqlite3_values_to_js,r.sqlite3_create_function_v2.udfSetError=r.sqlite3_create_function.udfSetError=r.sqlite3_create_window_function.udfSetError=r.sqlite3_result_error_js}{const G=(b,R)=>(typeof b=="string"?R=-1:a.isSQLableTypedArray(b)?(R=b.byteLength,b=a.typedArrayToString(b instanceof ArrayBuffer?new Uint8Array(b):b)):Array.isArray(b)&&(b=b.join(""),R=-1),[b,R]),g={basic:s.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:s.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};r.sqlite3_prepare_v3=function b(R,z,A,ye,Oe,Ae){if(b.length!==arguments.length)return E(R,"sqlite3_prepare_v3",b.length);const[be,et]=G(z,A);switch(typeof be){case"string":return g.basic(R,be,et,ye,Oe,null);case"number":return g.full(R,be,et,ye,Oe,Ae);default:return a.sqlite3_wasm_db_error(R,r.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},r.sqlite3_prepare_v2=function b(R,z,A,ye,Oe){return b.length===arguments.length?r.sqlite3_prepare_v3(R,z,A,0,ye,Oe):E(R,"sqlite3_prepare_v2",b.length)}}{const G=s.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),g=s.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);r.sqlite3_bind_text=function b(R,z,A,ye,Oe){if(b.length!==arguments.length)return E(r.sqlite3_db_handle(R),"sqlite3_bind_text",b.length);if(s.isPtr(A)||A===null)return G(R,z,A,ye,Oe);A instanceof ArrayBuffer?A=new Uint8Array(A):Array.isArray(pMem)&&(A=pMem.join(""));let Ae,be;try{if(a.isSQLableTypedArray(A))Ae=s.allocFromTypedArray(A),be=A.byteLength;else if(typeof A=="string")[Ae,be]=s.allocCString(A);else return a.sqlite3_wasm_db_error(r.sqlite3_db_handle(R),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return G(R,z,Ae,be,r.SQLITE_WASM_DEALLOC)}catch(et){return s.dealloc(Ae),a.sqlite3_wasm_db_error(r.sqlite3_db_handle(R),et)}},r.sqlite3_bind_blob=function b(R,z,A,ye,Oe){if(b.length!==arguments.length)return E(r.sqlite3_db_handle(R),"sqlite3_bind_blob",b.length);if(s.isPtr(A)||A===null)return g(R,z,A,ye,Oe);A instanceof ArrayBuffer?A=new Uint8Array(A):Array.isArray(A)&&(A=A.join(""));let Ae,be;try{if(a.isBindableTypedArray(A))Ae=s.allocFromTypedArray(A),be=ye>=0?ye:A.byteLength;else if(typeof A=="string")[Ae,be]=s.allocCString(A);else return a.sqlite3_wasm_db_error(r.sqlite3_db_handle(R),r.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return g(R,z,Ae,be,r.SQLITE_WASM_DEALLOC)}catch(et){return s.dealloc(Ae),a.sqlite3_wasm_db_error(r.sqlite3_db_handle(R),et)}}}r.sqlite3_config=function(G,...g){if(arguments.length<2)return r.SQLITE_MISUSE;switch(G){case r.SQLITE_CONFIG_COVERING_INDEX_SCAN:case r.SQLITE_CONFIG_MEMSTATUS:case r.SQLITE_CONFIG_SMALL_MALLOC:case r.SQLITE_CONFIG_SORTERREF_SIZE:case r.SQLITE_CONFIG_STMTJRNL_SPILL:case r.SQLITE_CONFIG_URI:return s.exports.sqlite3_wasm_config_i(G,g[0]);case r.SQLITE_CONFIG_LOOKASIDE:return s.exports.sqlite3_wasm_config_ii(G,g[0],g[1]);case r.SQLITE_CONFIG_MEMDB_MAXSIZE:return s.exports.sqlite3_wasm_config_j(G,g[0]);case r.SQLITE_CONFIG_GETMALLOC:case r.SQLITE_CONFIG_GETMUTEX:case r.SQLITE_CONFIG_GETPCACHE2:case r.SQLITE_CONFIG_GETPCACHE:case r.SQLITE_CONFIG_HEAP:case r.SQLITE_CONFIG_LOG:case r.SQLITE_CONFIG_MALLOC:case r.SQLITE_CONFIG_MMAP_SIZE:case r.SQLITE_CONFIG_MULTITHREAD:case r.SQLITE_CONFIG_MUTEX:case r.SQLITE_CONFIG_PAGECACHE:case r.SQLITE_CONFIG_PCACHE2:case r.SQLITE_CONFIG_PCACHE:case r.SQLITE_CONFIG_PCACHE_HDRSZ:case r.SQLITE_CONFIG_PMASZ:case r.SQLITE_CONFIG_SERIALIZED:case r.SQLITE_CONFIG_SINGLETHREAD:case r.SQLITE_CONFIG_SQLLOG:case r.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return r.SQLITE_NOTFOUND}};{const G=new Set;r.sqlite3_auto_extension=function(g){if(g instanceof Function)g=s.installFunction("i(ppp)",g);else if(arguments.length!==1||!s.isPtr(g))return r.SQLITE_MISUSE;const b=s.exports.sqlite3_auto_extension(g);return g!==arguments[0]&&(b===0?G.add(g):s.uninstallFunction(g)),b},r.sqlite3_cancel_auto_extension=function(g){return!g||arguments.length!==1||!s.isPtr(g)?0:s.exports.sqlite3_cancel_auto_extension(g)},r.sqlite3_reset_auto_extension=function(){s.exports.sqlite3_reset_auto_extension();for(const g of G)s.uninstallFunction(g);G.clear()}}const Ze=r.sqlite3_vfs_find("kvvfs");if(Ze)if(a.isUIThread()){const G=new r.sqlite3_kvvfs_methods(s.exports.sqlite3_wasm_kvvfs_methods());delete r.sqlite3_kvvfs_methods;const g=s.exports.sqlite3_wasm_kvvfsMakeKeyOnPstack,b=s.pstack,R=A=>s.peek(A)===115?sessionStorage:localStorage,z={xRead:(A,ye,Oe,Ae)=>{const be=b.pointer,et=s.scopedAllocPush();try{const h=g(A,ye);if(!h)return-3;const O=s.cstrToJs(h),V=R(A).getItem(O);if(!V)return-1;const qe=V.length;if(Ae<=0)return qe;if(Ae===1)return s.poke(Oe,0),qe;const m=s.scopedAllocCString(V);return Ae>qe+1&&(Ae=qe+1),s.heap8u().copyWithin(Oe,m,m+Ae-1),s.poke(Oe+Ae-1,0),Ae-1}catch(h){return console.error("kvstorageRead()",h),-2}finally{b.restore(be),s.scopedAllocPop(et)}},xWrite:(A,ye,Oe)=>{const Ae=b.pointer;try{const be=g(A,ye);if(!be)return 1;const et=s.cstrToJs(be);return R(A).setItem(et,s.cstrToJs(Oe)),0}catch(be){return console.error("kvstorageWrite()",be),r.SQLITE_IOERR}finally{b.restore(Ae)}},xDelete:(A,ye)=>{const Oe=b.pointer;try{const Ae=g(A,ye);return Ae?(R(A).removeItem(s.cstrToJs(Ae)),0):1}catch(Ae){return console.error("kvstorageDelete()",Ae),r.SQLITE_IOERR}finally{b.restore(Oe)}}};for(const A of Object.keys(z))G[G.memberKey(A)]=s.installFunction(G.memberSignature(A),z[A])}else r.sqlite3_vfs_unregister(Ze);s.xWrap.FuncPtrAdapter.warnOnUse=!0}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){t.version={libVersion:"3.43.2",libVersionNumber:3043002,sourceId:"2023-10-10 12:14:04 4310099cce5a487035fa535dd3002c59ac7f1d1bec68d7cf317fd3e769484790",downloadVersion:3430200}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const i=(...m)=>{throw new t.SQLite3Error(...m)},r=t.capi,s=t.wasm,a=t.util,E=new WeakMap,W=new WeakMap,le=(m,D,u)=>{const _=Object.getOwnPropertyDescriptor(m,D);return _?_.value:u},Pe=function(m,D){return D&&(m instanceof g&&(m=m.pointer),i(D,"sqlite3 result code",D+":",m?r.sqlite3_errmsg(m):r.sqlite3_errstr(D))),arguments[0]},ze=s.installFunction("i(ippp)",(function(m,D,u,_){r.SQLITE_TRACE_STMT===m&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+D+":",s.cstrToJs(_))}).bind({counter:0})),Ze=Object.create(null),G=function m(...D){if(!m._name2vfs){m._name2vfs=Object.create(null);const nt=typeof importScripts=="function"?at=>i("The VFS for",at,"is only available in the main window thread."):!1;m._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:nt||(()=>"local")},m._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:nt||(()=>"session")}}const u=m.normalizeArgs(...D);let _=u.filename,p=u.vfs,ae=u.flags;(typeof _!="string"&&typeof _!="number"||typeof ae!="string"||p&&typeof p!="string"&&typeof p!="number")&&(t.config.error("Invalid DB ctor args",u,arguments),i("Invalid arguments for DB constructor."));let Fe=typeof _=="number"?s.cstrToJs(_):_;const Ge=m._name2vfs[Fe];Ge&&(p=Ge.vfs,_=Fe=Ge.filename(Fe));let Xe,Je=0;ae.indexOf("c")>=0&&(Je|=r.SQLITE_OPEN_CREATE|r.SQLITE_OPEN_READWRITE),ae.indexOf("w")>=0&&(Je|=r.SQLITE_OPEN_READWRITE),Je===0&&(Je|=r.SQLITE_OPEN_READONLY),Je|=r.SQLITE_OPEN_EXRESCODE;const tt=s.pstack.pointer;try{const nt=s.pstack.allocPtr();let at=r.sqlite3_open_v2(_,nt,Je,p||0);Xe=s.peekPtr(nt),Pe(Xe,at),r.sqlite3_extended_result_codes(Xe,1),ae.indexOf("t")>=0&&r.sqlite3_trace_v2(Xe,r.SQLITE_TRACE_STMT,ze,Xe)}catch(nt){throw Xe&&r.sqlite3_close_v2(Xe),nt}finally{s.pstack.restore(tt)}this.filename=Fe,E.set(this,Xe),W.set(this,Object.create(null));try{const nt=r.sqlite3_js_db_vfs(Xe);nt||i("Internal error: cannot get VFS for new db handle.");const at=Ze[nt];at instanceof Function?at(this,t):at&&Pe(Xe,r.sqlite3_exec(Xe,at,0,0,0))}catch(nt){throw this.close(),nt}};G.setVfsPostOpenSql=function(m,D){Ze[m]=D},G.normalizeArgs=function(m=":memory:",D="c",u=null){const _={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(_,arguments[0]),_.flags===void 0&&(_.flags="c"),_.vfs===void 0&&(_.vfs=null),_.filename===void 0&&(_.filename=":memory:")):(_.filename=m,_.flags=D,_.vfs=u),_};const g=function(...m){G.apply(this,m)};g.dbCtorHelper=G;const b={null:1,number:2,string:3,boolean:4,blob:5};b.undefined==b.null,s.bigIntEnabled&&(b.bigint=b.number);const R=function(){b!==arguments[2]&&i(r.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],E.set(this,arguments[1]),this.parameterCount=r.sqlite3_bind_parameter_count(this.pointer)},z=function(m){return m.pointer||i("DB has been closed."),m},A=function(m,D){return(D!==(D|0)||D<0||D>=m.columnCount)&&i("Column index",D,"is out of range."),m},ye=function(m,D){const u=Object.create(null);switch(u.opt=Object.create(null),D.length){case 1:typeof D[0]=="string"||a.isSQLableTypedArray(D[0])||Array.isArray(D[0])?u.sql=D[0]:D[0]&&typeof D[0]=="object"&&(u.opt=D[0],u.sql=u.opt.sql);break;case 2:u.sql=D[0],u.opt=D[1];break;default:i("Invalid argument count for exec().")}u.sql=a.flexibleString(u.sql),typeof u.sql!="string"&&i("Missing SQL argument or unsupported SQL value type.");const _=u.opt;switch(_.returnValue){case"resultRows":_.resultRows||(_.resultRows=[]),u.returnVal=()=>_.resultRows;break;case"saveSql":_.saveSql||(_.saveSql=[]),u.returnVal=()=>_.saveSql;break;case void 0:case"this":u.returnVal=()=>m;break;default:i("Invalid returnValue value:",_.returnValue)}if(!_.callback&&!_.returnValue&&_.rowMode!==void 0&&(_.resultRows||(_.resultRows=[]),u.returnVal=()=>_.resultRows),_.callback||_.resultRows)switch(_.rowMode===void 0?"array":_.rowMode){case"object":u.cbArg=p=>p.get(Object.create(null));break;case"array":u.cbArg=p=>p.get([]);break;case"stmt":Array.isArray(_.resultRows)&&i("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),u.cbArg=p=>p;break;default:if(a.isInt32(_.rowMode)){u.cbArg=p=>p.get(_.rowMode);break}else if(typeof _.rowMode=="string"&&_.rowMode.length>1&&_.rowMode[0]==="$"){const p=_.rowMode.substr(1);u.cbArg=ae=>{const Fe=ae.get(Object.create(null))[p];return Fe===void 0?i(r.SQLITE_NOTFOUND,"exec(): unknown result column:",p):Fe};break}i("Invalid rowMode:",_.rowMode)}return u},Oe=(m,D,u,..._)=>{const p=m.prepare(D);try{const ae=p.bind(u).step()?p.get(..._):void 0;return p.reset(),ae}finally{p.finalize()}},Ae=(m,D,u,_)=>m.exec({sql:D,bind:u,rowMode:_,returnValue:"resultRows"});g.checkRc=(m,D)=>Pe(m,D),g.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return z(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const m=this.pointer;if(Object.keys(W.get(this)).forEach((D,u)=>{if(u&&u.pointer)try{u.finalize()}catch{}}),E.delete(this),W.delete(this),r.sqlite3_close_v2(m),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(m=!1,D=!1){const u=z(this).pointer;return m?D?r.sqlite3_total_changes64(u):r.sqlite3_total_changes(u):D?r.sqlite3_changes64(u):r.sqlite3_changes(u)},dbFilename:function(m="main"){return r.sqlite3_db_filename(z(this).pointer,m)},dbName:function(m=0){return r.sqlite3_db_name(z(this).pointer,m)},dbVfsName:function(m=0){let D;const u=r.sqlite3_js_db_vfs(z(this).pointer,m);if(u){const _=new r.sqlite3_vfs(u);try{D=s.cstrToJs(_.$zName)}finally{_.dispose()}}return D},prepare:function(m){z(this);const D=s.pstack.pointer;let u,_;try{u=s.pstack.alloc(8),g.checkRc(this,r.sqlite3_prepare_v2(this.pointer,m,-1,u,null)),_=s.peekPtr(u)}finally{s.pstack.restore(D)}_||i("Cannot prepare empty SQL.");const p=new R(this,_,b);return W.get(this)[_]=p,p},exec:function(){z(this);const m=ye(this,arguments);if(!m.sql)return i("exec() requires an SQL string.");const D=m.opt,u=D.callback,_=Array.isArray(D.resultRows)?D.resultRows:void 0;let p,ae=D.bind,Fe=!!(m.cbArg||D.columnNames||_);const Ge=s.scopedAllocPush(),Xe=Array.isArray(D.saveSql)?D.saveSql:void 0;try{const Je=a.isSQLableTypedArray(m.sql);let tt=Je?m.sql.byteLength:s.jstrlen(m.sql);const nt=s.scopedAlloc(2*s.ptrSizeof+(tt+1)),at=nt+s.ptrSizeof;let _t=at+s.ptrSizeof;const bt=_t+tt;for(Je?s.heap8().set(m.sql,_t):s.jstrcpy(m.sql,s.heap8(),_t,tt,!1),s.poke(_t+tt,0);_t&&s.peek(_t,"i8");){s.pokePtr([nt,at],0),g.checkRc(this,r.sqlite3_prepare_v3(this.pointer,_t,tt,0,nt,at));const Tt=s.peekPtr(nt);if(_t=s.peekPtr(at),tt=bt-_t,!!Tt){if(Xe&&Xe.push(r.sqlite3_sql(Tt).trim()),p=new R(this,Tt,b),ae&&p.parameterCount&&(p.bind(ae),ae=null),Fe&&p.columnCount){let re=Array.isArray(D.columnNames)?0:1;if(Fe=!1,m.cbArg||_){for(;p.step();p._lockedByExec=!1){re++===0&&p.getColumnNames(D.columnNames),p._lockedByExec=!0;const Ee=m.cbArg(p);if(_&&_.push(Ee),u&&u.call(D,Ee,p)===!1)break}p._lockedByExec=!1}re===0&&p.getColumnNames(D.columnNames)}else p.step();p.reset().finalize(),p=null}}}finally{s.scopedAllocPop(Ge),p&&(delete p._lockedByExec,p.finalize())}return m.returnVal()},createFunction:function(D,u,_){const p=Ee=>Ee instanceof Function;switch(arguments.length){case 1:_=D,D=_.name,u=_.xFunc||0;break;case 2:p(u)||(_=u,u=_.xFunc||0);break}_||(_={}),typeof D!="string"&&i("Invalid arguments: missing function name.");let ae=_.xStep||0,Fe=_.xFinal||0;const Ge=_.xValue||0,Xe=_.xInverse||0;let Je;p(u)?(Je=!1,(p(ae)||p(Fe))&&i("Ambiguous arguments: scalar or aggregate?"),ae=Fe=null):p(ae)?(p(Fe)||i("Missing xFinal() callback for aggregate or window UDF."),u=null):p(Fe)?i("Missing xStep() callback for aggregate or window UDF."):i("Missing function-type properties."),Je===!1?(p(Ge)||p(Xe))&&i("xValue and xInverse are not permitted for non-window UDFs."):p(Ge)?(p(Xe)||i("xInverse must be provided if xValue is."),Je=!0):p(Xe)&&i("xValue must be provided if xInverse is.");const tt=_.pApp;tt!=null&&(typeof tt!="number"||!a.isInt32(tt))&&i("Invalid value for pApp property. Must be a legal WASM pointer value.");const nt=_.xDestroy||0;nt&&!p(nt)&&i("xDestroy property must be a function.");let at=0;le(_,"deterministic")&&(at|=r.SQLITE_DETERMINISTIC),le(_,"directOnly")&&(at|=r.SQLITE_DIRECTONLY),le(_,"innocuous")&&(at|=r.SQLITE_INNOCUOUS),D=D.toLowerCase();const _t=u||ae,bt=le(_,"arity"),Tt=typeof bt=="number"?bt:_t.length?_t.length-1:0;let re;return Je?re=r.sqlite3_create_window_function(this.pointer,D,Tt,r.SQLITE_UTF8|at,tt||0,ae,Fe,Ge,Xe,nt):re=r.sqlite3_create_function_v2(this.pointer,D,Tt,r.SQLITE_UTF8|at,tt||0,u,ae,Fe,nt),g.checkRc(this,re),this},selectValue:function(m,D,u){return Oe(this,m,D,0,u)},selectValues:function(m,D,u){const _=this.prepare(m),p=[];try{for(_.bind(D);_.step();)p.push(_.get(0,u));_.reset()}finally{_.finalize()}return p},selectArray:function(m,D){return Oe(this,m,D,[])},selectObject:function(m,D){return Oe(this,m,D,{})},selectArrays:function(m,D){return Ae(this,m,D,"array")},selectObjects:function(m,D){return Ae(this,m,D,"object")},openStatementCount:function(){return this.pointer?Object.keys(W.get(this)).length:0},transaction:function(m){let D="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&i(r.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),D+=" "+arguments[0],m=arguments[1]),z(this).exec(D);try{const u=m(this);return this.exec("COMMIT"),u}catch(u){throw this.exec("ROLLBACK"),u}},savepoint:function(m){z(this).exec("SAVEPOINT oo1");try{const D=m(this);return this.exec("RELEASE oo1"),D}catch(D){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),D}},checkRc:function(m){return Pe(this,m)}};const be=function(m){return m.pointer||i("Stmt has been closed."),m},et=function(m){let D=b[m==null?"null":typeof m];switch(D){case b.boolean:case b.null:case b.number:case b.string:return D;case b.bigint:if(s.bigIntEnabled)return D;default:return a.isBindableTypedArray(m)?b.blob:void 0}},h=function(m){return et(m)||i("Unsupported bind() argument type:",typeof m)},O=function(m,D){const u=typeof D=="number"?D:r.sqlite3_bind_parameter_index(m.pointer,D);return u===0||!a.isInt32(u)?i("Invalid bind() parameter name: "+D):(u<1||u>m.parameterCount)&&i("Bind index",D,"is out of range."),u},V=function(m,D){return m._lockedByExec&&i("Operation is illegal when statement is locked:",D),m},qe=function m(D,u,_,p){V(be(D),"bind()"),m._||(m._tooBigInt=Fe=>i("BigInt value is too big to store without precision loss:",Fe),m._={string:function(Fe,Ge,Xe,Je){const[tt,nt]=s.allocCString(Xe,!0);return(Je?r.sqlite3_bind_blob:r.sqlite3_bind_text)(Fe.pointer,Ge,tt,nt,r.SQLITE_WASM_DEALLOC)}}),h(p),u=O(D,u);let ae=0;switch(p==null?b.null:_){case b.null:ae=r.sqlite3_bind_null(D.pointer,u);break;case b.string:ae=m._.string(D,u,p,!1);break;case b.number:{let Fe;a.isInt32(p)?Fe=r.sqlite3_bind_int:typeof p=="bigint"?a.bigIntFits64(p)?s.bigIntEnabled?Fe=r.sqlite3_bind_int64:a.bigIntFitsDouble(p)?(p=Number(p),Fe=r.sqlite3_bind_double):m._tooBigInt(p):m._tooBigInt(p):(p=Number(p),s.bigIntEnabled&&Number.isInteger(p)?Fe=r.sqlite3_bind_int64:Fe=r.sqlite3_bind_double),ae=Fe(D.pointer,u,p);break}case b.boolean:ae=r.sqlite3_bind_int(D.pointer,u,p?1:0);break;case b.blob:{if(typeof p=="string"){ae=m._.string(D,u,p,!0);break}else p instanceof ArrayBuffer?p=new Uint8Array(p):a.isBindableTypedArray(p)||i("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const Fe=s.alloc(p.byteLength||1);s.heap8().set(p.byteLength?p:[0],Fe),ae=r.sqlite3_bind_blob(D.pointer,u,Fe,p.byteLength,r.SQLITE_WASM_DEALLOC);break}default:t.config.warn("Unsupported bind() argument type:",p),i("Unsupported bind() argument type: "+typeof p)}return ae&&g.checkRc(D.db.pointer,ae),D._mayGet=!1,D};R.prototype={finalize:function(){if(this.pointer){V(this,"finalize()");const m=r.sqlite3_finalize(this.pointer);return delete W.get(this.db)[this.pointer],E.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,m}},clearBindings:function(){return V(be(this),"clearBindings()"),r.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(m){V(this,"reset()"),m&&this.clearBindings();const D=r.sqlite3_reset(be(this).pointer);return this._mayGet=!1,Pe(this.db,D),this},bind:function(){be(this);let m,D;switch(arguments.length){case 1:m=1,D=arguments[0];break;case 2:m=arguments[0],D=arguments[1];break;default:i("Invalid bind() arguments.")}return D===void 0?this:(this.parameterCount||i("This statement has no bindable parameters."),this._mayGet=!1,D===null?qe(this,m,b.null,D):Array.isArray(D)?(arguments.length!==1&&i("When binding an array, an index argument is not permitted."),D.forEach((u,_)=>qe(this,_+1,h(u),u)),this):(D instanceof ArrayBuffer&&(D=new Uint8Array(D)),typeof D=="object"&&!a.isBindableTypedArray(D)?(arguments.length!==1&&i("When binding an object, an index argument is not permitted."),Object.keys(D).forEach(u=>qe(this,u,h(D[u]),D[u])),this):qe(this,m,h(D),D)))},bindAsBlob:function(m,D){be(this),arguments.length===1&&(D=m,m=1);const u=h(D);return b.string!==u&&b.blob!==u&&b.null!==u&&i("Invalid value type for bindAsBlob()"),qe(this,m,b.blob,D)},step:function(){V(this,"step()");const m=r.sqlite3_step(be(this).pointer);switch(m){case r.SQLITE_DONE:return this._mayGet=!1;case r.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,t.config.warn("sqlite3_step() rc=",m,r.sqlite3_js_rc_str(m),"SQL =",r.sqlite3_sql(this.pointer)),g.checkRc(this.db.pointer,m)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const m=this.step();return this.reset(),m}finally{try{this.finalize()}catch{}}},get:function(m,D){if(be(this)._mayGet||i("Stmt.step() has not (recently) returned true."),Array.isArray(m)){let u=0;const _=this.columnCount;for(;u<_;)m[u]=this.get(u++);return m}else if(m&&typeof m=="object"){let u=0;const _=this.columnCount;for(;u<_;)m[r.sqlite3_column_name(this.pointer,u)]=this.get(u++);return m}switch(A(this,m),D===void 0?r.sqlite3_column_type(this.pointer,m):D){case r.SQLITE_NULL:return null;case r.SQLITE_INTEGER:if(s.bigIntEnabled){const u=r.sqlite3_column_int64(this.pointer,m);return u>=Number.MIN_SAFE_INTEGER&&u<=Number.MAX_SAFE_INTEGER?Number(u).valueOf():u}else{const u=r.sqlite3_column_double(this.pointer,m);return(u>Number.MAX_SAFE_INTEGER||u<Number.MIN_SAFE_INTEGER)&&i("Integer is out of range for JS integer range: "+u),a.isInt32(u)?u|0:u}case r.SQLITE_FLOAT:return r.sqlite3_column_double(this.pointer,m);case r.SQLITE_TEXT:return r.sqlite3_column_text(this.pointer,m);case r.SQLITE_BLOB:{const u=r.sqlite3_column_bytes(this.pointer,m),_=r.sqlite3_column_blob(this.pointer,m),p=new Uint8Array(u);return u&&p.set(s.heap8u().slice(_,_+u),0),u&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(p.buffer),p}default:i("Don't know how to translate","type of result column #"+m+".")}i("Not reached.")},getInt:function(m){return this.get(m,r.SQLITE_INTEGER)},getFloat:function(m){return this.get(m,r.SQLITE_FLOAT)},getString:function(m){return this.get(m,r.SQLITE_TEXT)},getBlob:function(m){return this.get(m,r.SQLITE_BLOB)},getJSON:function(m){const D=this.get(m,r.SQLITE_STRING);return D===null?D:JSON.parse(D)},getColumnName:function(m){return r.sqlite3_column_name(A(be(this),m).pointer,m)},getColumnNames:function(m=[]){A(be(this),0);const D=this.columnCount;for(let u=0;u<D;++u)m.push(r.sqlite3_column_name(this.pointer,u));return m},getParamIndex:function(m){return be(this).parameterCount?r.sqlite3_bind_parameter_index(this.pointer,m):void 0}};{const m={enumerable:!0,get:function(){return E.get(this)},set:()=>i("The pointer property is read-only.")};Object.defineProperty(R.prototype,"pointer",m),Object.defineProperty(g.prototype,"pointer",m)}if(Object.defineProperty(R.prototype,"columnCount",{enumerable:!1,get:function(){return r.sqlite3_column_count(this.pointer)},set:()=>i("The columnCount property is read-only.")}),t.oo1={DB:g,Stmt:R},a.isUIThread()){t.oo1.JsStorageDb=function(D="session"){D!=="session"&&D!=="local"&&i("JsStorageDb db name must be one of 'session' or 'local'."),G.call(this,{filename:D,flags:"c",vfs:"kvvfs"})};const m=t.oo1.JsStorageDb;m.prototype=Object.create(g.prototype),m.clearStorage=r.sqlite3_js_kvvfs_clear,m.prototype.clearStorage=function(){return m.clearStorage(z(this).filename)},m.storageSize=r.sqlite3_js_kvvfs_size,m.prototype.storageSize=function(){return m.storageSize(z(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){t.initWorker1API=(function(){const i=(...g)=>{throw new Error(g.join(" "))};globalThis.WorkerGlobalScope instanceof Function||i("initWorker1API() must be run from a Worker thread."),this.self;const r=this.sqlite3||i("Missing this.sqlite3 object."),s=r.oo1.DB,a=function(g){let b=E.idMap.get(g);return b||(b="db#"+ ++E.idSeq+"@"+g.pointer,E.idMap.set(g,b),b)},E={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(g){const b=new s(g);return this.dbs[a(b)]=b,this.dbList.indexOf(b)<0&&this.dbList.push(b),b},close:function(g,b){if(g){delete this.dbs[a(g)];const R=g.filename,z=r.wasm.sqlite3_wasm_db_vfs(g.pointer,0);g.close();const A=this.dbList.indexOf(g);A>=0&&this.dbList.splice(A,1),b&&R&&z&&r.wasm.sqlite3_wasm_vfs_unlink(z,R)}},post:function(g,b){b&&b.length?(globalThis.postMessage(g,Array.from(b)),b.length=0):globalThis.postMessage(g)},dbs:Object.create(null),getDb:function(g,b=!0){return this.dbs[g]||(b?i("Unknown (or closed) DB ID:",g):void 0)}},W=function(g=E.dbList[0]){return g&&g.pointer?g:i("DB is not opened.")},le=function(g,b=!0){const R=E.getDb(g.dbId,!1)||E.dbList[0];return b?W(R):R},Pe=function(){return E.dbList[0]&&a(E.dbList[0])},ze=function(g){const b=/^file:.+(vfs=(\w+))/.exec(g);return r.capi.sqlite3_vfs_find(b?b[2]:0)},Ze=g=>g===""||g[0]===":",G={open:function(g){const b=Object.create(null),R=g.args||Object.create(null);R.simulateError&&i("Throwing because of simulateError flag.");const z=Object.create(null);let A,ye;if(b.vfs=R.vfs,Ze(R.filename)?b.filename=R.filename||"":(b.filename=R.filename,A=R.byteArray,A&&(ye=ze(R.filename))),ye){let Ae;try{Ae=r.wasm.allocFromTypedArray(A);const be=r.wasm.sqlite3_wasm_vfs_create_file(ye,b.filename,Ae,A.byteLength);be&&r.SQLite3Error.toss(be)}catch(be){throw new r.SQLite3Error(be.name+" creating "+R.filename+": "+be.message,{cause:be})}finally{Ae&&r.wasm.dealloc(Ae)}}const Oe=E.open(b);return z.filename=Oe.filename,z.persistent=!!r.capi.sqlite3_js_db_uses_vfs(Oe.pointer,"opfs"),z.dbId=a(Oe),z.vfs=Oe.dbVfsName(),z},close:function(g){const b=le(g,!1),R={filename:b&&b.filename};if(b){const z=g.args&&typeof g.args=="object"?!!g.args.unlink:!1;E.close(b,z)}return R},exec:function(g){const b=typeof g.args=="string"?{sql:g.args}:g.args||Object.create(null);b.rowMode==="stmt"?i("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):b.sql||i("'exec' requires input SQL.");const R=le(g);(b.callback||Array.isArray(b.resultRows))&&(R._blobXfer=E.xfer);const z=b.callback;let A=0;const ye=!!b.columnNames;typeof z=="string"&&(ye||(b.columnNames=[]),b.callback=function(Oe,Ae){E.post({type:z,columnNames:b.columnNames,rowNumber:++A,row:Oe},E.xfer)});try{const Oe=b.countChanges?R.changes(!0,b.countChanges===64):void 0;R.exec(b),Oe!==void 0&&(b.changeCount=R.changes(!0,b.countChanges===64)-Oe),b.callback instanceof Function&&(b.callback=z,E.post({type:z,columnNames:b.columnNames,rowNumber:null,row:void 0}))}finally{delete R._blobXfer,b.callback&&(b.callback=z)}return b},"config-get":function(){const g=Object.create(null),b=r.config;return["bigIntEnabled"].forEach(function(R){Object.getOwnPropertyDescriptor(b,R)&&(g[R]=b[R])}),g.version=r.version,g.vfsList=r.capi.sqlite3_js_vfs_list(),g.opfsEnabled=!!r.opfs,g},export:function(g){const b=le(g),R={byteArray:r.capi.sqlite3_js_db_export(b.pointer),filename:b.filename,mimetype:"application/x-sqlite3"};return E.xfer.push(R.byteArray.buffer),R},toss:function(g){i("Testing worker exception")},"opfs-tree":async function(g){return r.opfs||i("OPFS support is unavailable."),await r.opfs.treeList()}};globalThis.onmessage=async function(g){g=g.data;let b,R=g.dbId,z=g.type;const A=performance.now();try{G.hasOwnProperty(z)&&G[z]instanceof Function?b=await G[z](g):i("Unknown db worker message type:",g.type)}catch(ye){z="error",b={operation:g.type,message:ye.message,errorClass:ye.name,input:g},ye.stack&&(b.stack=typeof ye.stack=="string"?ye.stack.split(/\n\s*/):ye.stack)}R||(R=b.dbId||Pe()),E.post({type:z,dbId:R,messageId:g.messageId,workerReceivedTime:A,workerRespondTime:performance.now(),departureTime:g.departureTime,result:b},E.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}).bind({self,sqlite3:t})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const i=t.wasm,r=t.capi,s=t.util.toss3,a=Object.create(null),E=Object.create(null),W=t.StructBinder;t.vfs=a,t.vtab=E;const le=r.sqlite3_index_info;le.prototype.nthConstraint=function(g,b=!1){if(g<0||g>=this.$nConstraint)return!1;const R=this.$aConstraint+le.sqlite3_index_constraint.structInfo.sizeof*g;return b?R:new le.sqlite3_index_constraint(R)},le.prototype.nthConstraintUsage=function(g,b=!1){if(g<0||g>=this.$nConstraint)return!1;const R=this.$aConstraintUsage+le.sqlite3_index_constraint_usage.structInfo.sizeof*g;return b?R:new le.sqlite3_index_constraint_usage(R)},le.prototype.nthOrderBy=function(g,b=!1){if(g<0||g>=this.$nOrderBy)return!1;const R=this.$aOrderBy+le.sqlite3_index_orderby.structInfo.sizeof*g;return b?R:new le.sqlite3_index_orderby(R)};const Pe=function g(b,R,z,A=g.installMethodArgcCheck){if(b instanceof W.StructType?!(z instanceof Function)&&!i.isPtr(z)&&s("Usage errror: expecting a Function or WASM pointer to one."):s("Usage error: target object is-not-a StructType."),arguments.length===1)return(be,et)=>g(b,be,et,A);g.argcProxy||(g.argcProxy=function(be,et,h,O){return function(...V){return h.length!==arguments.length&&s("Argument mismatch for",be.structInfo.name+"::"+et+": Native signature is:",O),h.apply(this,V)}},g.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((be,et)=>{if(typeof be=="number")try{i.uninstallFunction(be)}catch{}}),delete this.ondispose.__removeFuncList)});const ye=b.memberSignature(R);ye.length<2&&s("Member",R,"does not have a function pointer signature:",ye);const Oe=b.memberKey(R),Ae=A&&!i.isPtr(z)?g.argcProxy(b,Oe,z,ye):z;if(i.isPtr(Ae))Ae&&!i.functionEntry(Ae)&&s("Pointer",Ae,"is not a WASM function table entry."),b[Oe]=Ae;else{const be=i.installFunction(Ae,b.memberSignature(R,!0));b[Oe]=be,(!b.ondispose||!b.ondispose.__removeFuncList)&&(b.addOnDispose("ondispose.__removeFuncList handler",g.removeFuncList),b.ondispose.__removeFuncList=[]),b.ondispose.__removeFuncList.push(Oe,be)}return(be,et)=>g(b,be,et,A)};Pe.installMethodArgcCheck=!1;const ze=function(g,b,R=Pe.installMethodArgcCheck){const z=new Map;for(const A of Object.keys(b)){const ye=b[A],Oe=z.get(ye);if(Oe){const Ae=g.memberKey(A);g[Ae]=g[g.memberKey(Oe)]}else Pe(g,A,ye,R),z.set(ye,A)}return g};W.StructType.prototype.installMethod=function(b,R,z=Pe.installMethodArgcCheck){return arguments.length<3&&b&&typeof b=="object"?ze(this,...arguments):Pe(this,...arguments)},W.StructType.prototype.installMethods=function(g,b=Pe.installMethodArgcCheck){return ze(this,g,b)},r.sqlite3_vfs.prototype.registerVfs=function(g=!1){this instanceof t.capi.sqlite3_vfs||s("Expecting a sqlite3_vfs-type argument.");const b=r.sqlite3_vfs_register(this,g?1:0);return b&&s("sqlite3_vfs_register(",this,") failed with rc",b),this.pointer!==r.sqlite3_vfs_find(this.$zName)&&s("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},a.installVfs=function(g){let b=0;const R=["io","vfs"];for(const z of R){const A=g[z];A&&(++b,ze(A.struct,A.methods,!!A.applyArgcCheck),z==="vfs"&&(!A.struct.$zName&&typeof A.name=="string"&&A.struct.addOnDispose(A.struct.$zName=i.allocCString(A.name)),A.struct.registerVfs(!!A.asDefault)))}return b||s("Misuse: installVfs() options object requires at least","one of:",R),this};const Ze=function(g,b){return(function(R,z=!1){if(arguments.length===0&&(R=new b),R instanceof b)return this.set(R.pointer,R),R;i.isPtr(R)||t.SQLite3Error.toss("Invalid argument to",g+"()");let A=this.get(R);return z&&this.delete(R),A}).bind(new Map)},G=function(g,b){const R=Ze(g,b);return Object.assign(Object.create(null),{StructType:b,create:z=>{const A=R();return i.pokePtr(z,A.pointer),A},get:z=>R(z),unget:z=>R(z,!0),dispose:z=>{const A=R(z,!0);A&&A.dispose()}})};E.xVtab=G("xVtab",r.sqlite3_vtab),E.xCursor=G("xCursor",r.sqlite3_vtab_cursor),E.xIndexInfo=g=>new r.sqlite3_index_info(g),E.xError=function g(b,R,z){if(g.errorReporter instanceof Function)try{g.errorReporter("sqlite3_module::"+b+"(): "+R.message)}catch{}let A;return R instanceof t.WasmAllocError?A=r.SQLITE_NOMEM:arguments.length>2?A=z:R instanceof t.SQLite3Error&&(A=R.resultCode),A||r.SQLITE_ERROR},E.xError.errorReporter=console.error.bind(console),E.xRowid=(g,b)=>i.poke(g,b,"i64"),E.setupModule=function(g){let b=!1;const R=this instanceof r.sqlite3_module?this:g.struct||(b=new r.sqlite3_module);try{const z=g.methods||s("Missing 'methods' object.");for(const A of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const ye=A[0],Oe=A[1];z[ye]===!0?z[ye]=z[Oe]:z[Oe]===!0&&(z[Oe]=z[ye])}if(g.catchExceptions){const A=function(Ae,be){return["xConnect","xCreate"].indexOf(Ae)>=0?function(et,h,O,V,qe,m){try{return be(...arguments)||0}catch(D){return D instanceof t.WasmAllocError||(i.dealloc(i.peekPtr(m)),i.pokePtr(m,i.allocCString(D.message))),E.xError(Ae,D)}}:function(...et){try{return be(...et)||0}catch(h){return E.xError(Ae,h)}}},ye=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],Oe=Object.create(null);for(const Ae of ye){const be=z[Ae];if(be instanceof Function)Ae==="xConnect"&&z.xCreate===be?Oe[Ae]=z.xCreate:Ae==="xCreate"&&z.xConnect===be?Oe[Ae]=z.xConnect:Oe[Ae]=A(Ae,be);else continue}ze(R,Oe,!1)}else ze(R,z,!!g.applyArgcCheck);if(R.$iVersion===0){let A;typeof g.iVersion=="number"?A=g.iVersion:R.$xShadowName?A=3:R.$xSavePoint||R.$xRelease||R.$xRollbackTo?A=2:A=1,R.$iVersion=A}}catch(z){throw b&&b.dispose(),z}return R},r.sqlite3_module.prototype.setupModule=function(g){return E.setupModule.call(this,g)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){const i=function r(s){var W;if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!((W=navigator==null?void 0:navigator.storage)!=null&&W.getDirectory))return Promise.reject(new Error("Missing required OPFS APIs."));(!s||typeof s!="object")&&(s=Object.create(null));const a=new URL(globalThis.location.href).searchParams;return a.has("opfs-disable")?Promise.resolve(t):(s.verbose===void 0&&(s.verbose=a.has("opfs-verbose")?+a.get("opfs-verbose")||2:1),s.sanityChecks===void 0&&(s.sanityChecks=a.has("opfs-sanity-check")),s.proxyUri===void 0&&(s.proxyUri=r.defaultProxyUri),typeof s.proxyUri=="function"&&(s.proxyUri=s.proxyUri()),new Promise(function(le,Pe){const ze=[t.config.error,t.config.warn,t.config.log],Ze=(re,...Ee)=>{s.verbose>re&&ze[re]("OPFS syncer:",...Ee)},G=(...re)=>Ze(2,...re),g=(...re)=>Ze(1,...re),b=(...re)=>Ze(0,...re),R=t.util.toss,z=t.capi,A=t.wasm,ye=z.sqlite3_vfs,Oe=z.sqlite3_file,Ae=z.sqlite3_io_methods,be=Object.create(null),et=()=>{var re;return globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&((re=navigator==null?void 0:navigator.storage)==null?void 0:re.getDirectory)};be.metrics={dump:function(){let re,Ee=0,Se=0,We=0;for(re in p.opIds){const Le=ae[re];Ee+=Le.count,Se+=Le.time,We+=Le.wait,Le.avgTime=Le.count&&Le.time?Le.time/Le.count:0,Le.avgWait=Le.count&&Le.wait?Le.wait/Le.count:0}t.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",ae,`
Total of`,Ee,"op(s) for",Se,"ms (incl. "+We+" ms of waiting on the async side)"),t.config.log("Serialization metrics:",ae.s11n),D.postMessage({type:"opfs-async-metrics"})},reset:function(){let re;const Ee=We=>We.count=We.time=We.wait=0;for(re in p.opIds)Ee(ae[re]=Object.create(null));let Se=ae.s11n=Object.create(null);Se=Se.serialize=Object.create(null),Se.count=Se.time=0,Se=ae.s11n.deserialize=Object.create(null),Se.count=Se.time=0}};const h=new Ae,O=new ye().addOnDispose(()=>h.dispose());let V;const qe=re=>(V=!0,O.dispose(),Pe(re)),m=()=>(V=!1,le(t)),D=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-BlD9cCm_.js",self.location.href));setTimeout(()=>{V===void 0&&qe(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),D._originalOnError=D.onerror,D.onerror=function(re){b("Error initializing OPFS asyncer:",re),qe(new Error("Loading OPFS async Worker failed for unknown reasons."))};const u=z.sqlite3_vfs_find(null),_=u?new ye(u):null;h.$iVersion=1,O.$iVersion=2,O.$szOsFile=z.sqlite3_file.structInfo.sizeof,O.$mxPathname=1024,O.$zName=A.allocCString("opfs"),O.$xDlOpen=O.$xDlError=O.$xDlSym=O.$xDlClose=null,O.addOnDispose("$zName",O.$zName,"cleanup default VFS wrapper",()=>_?_.dispose():null);const p=Object.create(null);p.verbose=s.verbose,p.littleEndian=(()=>{const re=new ArrayBuffer(2);return new DataView(re).setInt16(0,256,!0),new Int16Array(re)[0]===256})(),p.asyncIdleWaitTime=150,p.asyncS11nExceptions=1,p.fileBufferSize=1024*64,p.sabS11nOffset=p.fileBufferSize,p.sabS11nSize=O.$mxPathname*2,p.sabIO=new SharedArrayBuffer(p.fileBufferSize+p.sabS11nSize),p.opIds=Object.create(null);const ae=Object.create(null);{let re=0;p.opIds.whichOp=re++,p.opIds.rc=re++,p.opIds.xAccess=re++,p.opIds.xClose=re++,p.opIds.xDelete=re++,p.opIds.xDeleteNoWait=re++,p.opIds.xFileSize=re++,p.opIds.xLock=re++,p.opIds.xOpen=re++,p.opIds.xRead=re++,p.opIds.xSleep=re++,p.opIds.xSync=re++,p.opIds.xTruncate=re++,p.opIds.xUnlock=re++,p.opIds.xWrite=re++,p.opIds.mkdir=re++,p.opIds["opfs-async-metrics"]=re++,p.opIds["opfs-async-shutdown"]=re++,p.opIds.retry=re++,p.sabOP=new SharedArrayBuffer(re*4),be.metrics.reset()}p.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(re=>{(p.sq3Codes[re]=z[re])===void 0&&R("Maintenance required: not found:",re)}),p.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,defaultUnlockAsap:!1});const Fe=(re,...Ee)=>{const Se=p.opIds[re]||R("Invalid op ID:",re);p.s11n.serialize(...Ee),Atomics.store(p.sabOPView,p.opIds.rc,-1),Atomics.store(p.sabOPView,p.opIds.whichOp,Se),Atomics.notify(p.sabOPView,p.opIds.whichOp);const We=performance.now();Atomics.wait(p.sabOPView,p.opIds.rc,-1);const Le=Atomics.load(p.sabOPView,p.opIds.rc);if(ae[re].wait+=performance.now()-We,Le&&p.asyncS11nExceptions){const dt=p.s11n.deserialize();dt&&b(re+"() async error:",...dt)}return Le};be.debug={asyncShutdown:()=>{g("Shutting down OPFS async listener. The OPFS VFS will no longer work."),Fe("opfs-async-shutdown")},asyncRestart:()=>{g("Attempting to restart OPFS VFS async listener. Might work, might not."),D.postMessage({type:"opfs-async-restart"})}};const Ge=()=>{if(p.s11n)return p.s11n;const re=new TextDecoder,Ee=new TextEncoder("utf-8"),Se=new Uint8Array(p.sabIO,p.sabS11nOffset,p.sabS11nSize),We=new DataView(p.sabIO,p.sabS11nOffset,p.sabS11nSize);p.s11n=Object.create(null);const Le=Object.create(null);Le.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},Le.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},Le.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},Le.string={id:4};const dt=me=>Le[typeof me]||R("Maintenance required: this value type cannot be serialized.",me),Ke=me=>{switch(me){case Le.number.id:return Le.number;case Le.bigint.id:return Le.bigint;case Le.boolean.id:return Le.boolean;case Le.string.id:return Le.string;default:R("Invalid type ID:",me)}};return p.s11n.deserialize=function(me=!1){++ae.s11n.deserialize.count;const Q=performance.now(),pe=Se[0],L=pe?[]:null;if(pe){const se=[];let de=1,xe,it,ut;for(xe=0;xe<pe;++xe,++de)se.push(Ke(Se[de]));for(xe=0;xe<pe;++xe){const pt=se[xe];pt.getter?(ut=We[pt.getter](de,p.littleEndian),de+=pt.size):(it=We.getInt32(de,p.littleEndian),de+=4,ut=re.decode(Se.slice(de,de+it)),de+=it),L.push(ut)}}return me&&(Se[0]=0),ae.s11n.deserialize.time+=performance.now()-Q,L},p.s11n.serialize=function(...me){const Q=performance.now();if(++ae.s11n.serialize.count,me.length){const pe=[];let L=0,se=1;for(Se[0]=me.length&255;L<me.length;++L,++se)pe.push(dt(me[L])),Se[se]=pe[L].id;for(L=0;L<me.length;++L){const de=pe[L];if(de.setter)We[de.setter](se,me[L],p.littleEndian),se+=de.size;else{const xe=Ee.encode(me[L]);We.setInt32(se,xe.byteLength,p.littleEndian),se+=4,Se.set(xe,se),se+=xe.byteLength}}}else Se[0]=0;ae.s11n.serialize.time+=performance.now()-Q},p.s11n},Xe=function re(Ee=16){re._chars||(re._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",re._n=re._chars.length);const Se=[];let We=0;for(;We<Ee;++We){const Le=Math.random()*(re._n*64)%re._n|0;Se[We]=re._chars[Le]}return Se.join("")},Je=Object.create(null),tt=Object.create(null);tt.op=void 0,tt.start=void 0;const nt=re=>{tt.start=performance.now(),tt.op=re,++ae[re].count},at=()=>ae[tt.op].time+=performance.now()-tt.start,_t={xCheckReservedLock:function(re,Ee){const Se=Je[re];return A.poke(Ee,Se.lockType?1:0,"i32"),0},xClose:function(re){nt("xClose");let Ee=0;const Se=Je[re];return Se&&(delete Je[re],Ee=Fe("xClose",re),Se.sq3File&&Se.sq3File.dispose()),at(),Ee},xDeviceCharacteristics:function(re){return z.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(re,Ee,Se){return z.SQLITE_NOTFOUND},xFileSize:function(re,Ee){nt("xFileSize");let Se=Fe("xFileSize",re);if(Se==0)try{const We=p.s11n.deserialize()[0];A.poke(Ee,We,"i64")}catch(We){b("Unexpected error reading xFileSize() result:",We),Se=p.sq3Codes.SQLITE_IOERR}return at(),Se},xLock:function(re,Ee){nt("xLock");const Se=Je[re];let We=0;return Se.lockType?Se.lockType=Ee:(We=Fe("xLock",re,Ee),We===0&&(Se.lockType=Ee)),at(),We},xRead:function(re,Ee,Se,We){nt("xRead");const Le=Je[re];let dt;try{dt=Fe("xRead",re,Se,Number(We)),(dt===0||z.SQLITE_IOERR_SHORT_READ===dt)&&A.heap8u().set(Le.sabView.subarray(0,Se),Ee)}catch(Ke){b("xRead(",arguments,") failed:",Ke,Le),dt=z.SQLITE_IOERR_READ}return at(),dt},xSync:function(re,Ee){nt("xSync"),++ae.xSync.count;const Se=Fe("xSync",re,Ee);return at(),Se},xTruncate:function(re,Ee){nt("xTruncate");const Se=Fe("xTruncate",re,Number(Ee));return at(),Se},xUnlock:function(re,Ee){nt("xUnlock");const Se=Je[re];let We=0;return z.SQLITE_LOCK_NONE===Ee&&Se.lockType&&(We=Fe("xUnlock",re,Ee)),We===0&&(Se.lockType=Ee),at(),We},xWrite:function(re,Ee,Se,We){nt("xWrite");const Le=Je[re];let dt;try{Le.sabView.set(A.heap8u().subarray(Ee,Ee+Se)),dt=Fe("xWrite",re,Se,Number(We))}catch(Ke){b("xWrite(",arguments,") failed:",Ke,Le),dt=z.SQLITE_IOERR_WRITE}return at(),dt}},bt={xAccess:function(re,Ee,Se,We){nt("xAccess");const Le=Fe("xAccess",A.cstrToJs(Ee));return A.poke(We,Le?0:1,"i32"),at(),0},xCurrentTime:function(re,Ee){return A.poke(Ee,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(re,Ee){return A.poke(Ee,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(re,Ee,Se){nt("xDelete");const We=Fe("xDelete",A.cstrToJs(Ee),Se,!1);return at(),We},xFullPathname:function(re,Ee,Se,We){return A.cstrncpy(We,Ee,Se)<Se?0:z.SQLITE_CANTOPEN},xGetLastError:function(re,Ee,Se){return g("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(Ee,Se,We,Le,dt){nt("xOpen");let Ke=0;Se===0?Se=Xe():typeof Se=="number"&&(z.sqlite3_uri_boolean(Se,"opfs-unlock-asap",0)&&(Ke|=p.opfsFlags.OPFS_UNLOCK_ASAP),Se=A.cstrToJs(Se));const me=Object.create(null);me.fid=We,me.filename=Se,me.sab=new SharedArrayBuffer(p.fileBufferSize),me.flags=Le;const Q=Fe("xOpen",We,Se,Le,Ke);return Q||(me.readOnly&&A.poke(dt,z.SQLITE_OPEN_READONLY,"i32"),Je[We]=me,me.sabView=p.sabFileBufView,me.sq3File=new Oe(We),me.sq3File.$pMethods=h.pointer,me.lockType=z.SQLITE_LOCK_NONE),at(),Q}};if(_&&(O.$xRandomness=_.$xRandomness,O.$xSleep=_.$xSleep),O.$xRandomness||(bt.xRandomness=function(re,Ee,Se){const We=A.heap8u();let Le=0;for(;Le<Ee;++Le)We[Se+Le]=Math.random()*255e3&255;return Le}),O.$xSleep||(bt.xSleep=function(re,Ee){return Atomics.wait(p.sabOPView,p.opIds.xSleep,0,Ee),0}),be.getResolvedPath=function(re,Ee){const Se=new URL(re,"file://irrelevant").pathname;return Ee?Se.split("/").filter(We=>!!We):Se},be.getDirForFilename=async function(Ee,Se=!1){const We=be.getResolvedPath(Ee,!0),Le=We.pop();let dt=be.rootDirectory;for(const Ke of We)Ke&&(dt=await dt.getDirectoryHandle(Ke,{create:!!Se}));return[dt,Le]},be.mkdir=async function(re){try{return await be.getDirForFilename(re+"/filepart",!0),!0}catch{return!1}},be.entryExists=async function(re){try{const[Ee,Se]=await be.getDirForFilename(re);return await Ee.getFileHandle(Se),!0}catch{return!1}},be.randomFilename=Xe,be.registerVfs=(re=!1)=>A.exports.sqlite3_vfs_register(O.pointer,re?1:0),be.treeList=async function(){const re=async function Se(We,Le){Le.name=We.name,Le.dirs=[],Le.files=[];for await(const dt of We.values())if(dt.kind==="directory"){const Ke=Object.create(null);Le.dirs.push(Ke),await Se(dt,Ke)}else Le.files.push(dt.name)},Ee=Object.create(null);return await re(be.rootDirectory,Ee),Ee},be.rmfr=async function(){const re=be.rootDirectory,Ee={recurse:!0};for await(const Se of re.values())re.removeEntry(Se.name,Ee)},be.unlink=async function(re,Ee=!1,Se=!1){try{const[We,Le]=await be.getDirForFilename(re,!1);return await We.removeEntry(Le,{recursive:Ee}),!0}catch(We){if(Se)throw new Error("unlink(",arguments[0],") failed: "+We.message,{cause:We});return!1}},be.traverse=async function(re){const Ee={recursive:!0,directory:be.rootDirectory};typeof re=="function"&&(re={callback:re}),re=Object.assign(Ee,re||{}),async function We(Le,dt){for await(const Ke of Le.values()){if(re.callback(Ke,Le,dt)===!1)return!1;if(re.recursive&&Ke.kind==="directory"&&await We(Ke,dt+1)===!1)break}}(re.directory,0)},be.importDb=async function(re,Ee){Ee instanceof ArrayBuffer&&(Ee=new Uint8Array(Ee));const Se=Ee.byteLength;(Se<512||Se%512!=0)&&R("Byte array size is invalid for an SQLite db.");const We="SQLite format 3";for(let me=0;me<We.length;++me)We.charCodeAt(me)!==Ee[me]&&R("Input does not contain an SQLite database header.");let Le;const[dt,Ke]=await be.getDirForFilename(re,!0);try{Le=await(await dt.getFileHandle(Ke,{create:!0})).createSyncAccessHandle(),Le.truncate(0);const Q=Le.write(Ee,{at:0});return Q!=Se&&R("Expected to write "+Se+" bytes but wrote "+Q+"."),Le.write(new Uint8Array([1,1]),{at:18}),Q}catch(me){throw Le&&(await Le.close(),Le=void 0),await dt.removeEntry(Ke).catch(()=>{}),me}finally{Le&&await Le.close()}},t.oo1){const re=function(...Ee){const Se=t.oo1.DB.dbCtorHelper.normalizeArgs(...Ee);Se.vfs=O.$zName,t.oo1.DB.dbCtorHelper.call(this,Se)};re.prototype=Object.create(t.oo1.DB.prototype),t.oo1.OpfsDb=re,re.importDb=be.importDb,t.oo1.DB.dbCtorHelper.setVfsPostOpenSql(O.pointer,function(Ee,Se){Se.capi.sqlite3_busy_timeout(Ee,1e4),Se.capi.sqlite3_exec(Ee,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)})}const Tt=function(){const re=A.scopedAllocPush(),Ee=new Oe;try{const Se=Ee.pointer,We=z.SQLITE_OPEN_CREATE|z.SQLITE_OPEN_READWRITE|z.SQLITE_OPEN_MAIN_DB,Le=A.scopedAlloc(8),dt="/sanity/check/file"+Xe(8),Ke=A.scopedAllocCString(dt);let me;if(p.s11n.serialize("This is ä string."),me=p.s11n.deserialize(),G("deserialize() says:",me),me[0]!=="This is ä string."&&R("String d13n error."),bt.xAccess(O.pointer,Ke,0,Le),me=A.peek(Le,"i32"),G("xAccess(",dt,") exists ?=",me),me=bt.xOpen(O.pointer,Ke,Se,We,Le),G("open rc =",me,"state.sabOPView[xOpen] =",p.sabOPView[p.opIds.xOpen]),me!==0){b("open failed with code",me);return}bt.xAccess(O.pointer,Ke,0,Le),me=A.peek(Le,"i32"),me||R("xAccess() failed to detect file."),me=_t.xSync(Ee.pointer,0),me&&R("sync failed w/ rc",me),me=_t.xTruncate(Ee.pointer,1024),me&&R("truncate failed w/ rc",me),A.poke(Le,0,"i64"),me=_t.xFileSize(Ee.pointer,Le),me&&R("xFileSize failed w/ rc",me),G("xFileSize says:",A.peek(Le,"i64")),me=_t.xWrite(Ee.pointer,Ke,10,1),me&&R("xWrite() failed!");const Q=A.scopedAlloc(16);me=_t.xRead(Ee.pointer,Q,6,2),A.poke(Q+6,0);let pe=A.cstrToJs(Q);G("xRead() got:",pe),pe!=="sanity"&&R("Unexpected xRead() value."),bt.xSleep&&(G("xSleep()ing before close()ing..."),bt.xSleep(O.pointer,2e3),G("waking up from xSleep()")),me=_t.xClose(Se),G("xClose rc =",me,"sabOPView =",p.sabOPView),G("Deleting file:",dt),bt.xDelete(O.pointer,Ke,4660),bt.xAccess(O.pointer,Ke,0,Le),me=A.peek(Le,"i32"),me&&R("Expecting 0 from xAccess(",dt,") after xDelete()."),g("End of OPFS sanity checks.")}finally{Ee.dispose(),A.scopedAllocPop(re)}};D.onmessage=function({data:re}){switch(re.type){case"opfs-unavailable":qe(new Error(re.payload.join(" ")));break;case"opfs-async-loaded":D.postMessage({type:"opfs-async-init",args:p});break;case"opfs-async-inited":{if(V===!0)break;try{t.vfs.installVfs({io:{struct:h,methods:_t},vfs:{struct:O,methods:bt}}),p.sabOPView=new Int32Array(p.sabOP),p.sabFileBufView=new Uint8Array(p.sabIO,0,p.fileBufferSize),p.sabS11nView=new Uint8Array(p.sabIO,p.sabS11nOffset,p.sabS11nSize),Ge(),s.sanityChecks&&(g("Running sanity checks because of opfs-sanity-check URL arg..."),Tt()),et()?navigator.storage.getDirectory().then(Ee=>{D.onerror=D._originalOnError,delete D._originalOnError,t.opfs=be,be.rootDirectory=Ee,G("End of OPFS sqlite3_vfs setup.",O),m()}).catch(qe):m()}catch(Ee){b(Ee),qe(Ee)}break}default:{const Ee="Unexpected message from the OPFS async worker: "+JSON.stringify(re);b(Ee),qe(new Error(Ee));break}}}}))};i.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async r=>{try{let s=i.defaultProxyUri;return r.scriptInfo.sqlite3Dir&&(i.defaultProxyUri=r.scriptInfo.sqlite3Dir+s),i().catch(a=>{r.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",a.message)})}catch(s){return r.config.error("installOpfsVfs() exception:",s),Promise.reject(s)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(t){var Je,tt,nt,at,_t,bt,Tt,re,Ee,Se,We,Le,cn,Ke;const i=t.util.toss,r=t.util.toss3,s=Object.create(null),a=t.capi,E=t.wasm,W=4096,le=512,Pe=4,ze=8,Ze=le+Pe,G=le,g=Ze,b=W,R=a.SQLITE_OPEN_MAIN_DB|a.SQLITE_OPEN_MAIN_JOURNAL|a.SQLITE_OPEN_SUPER_JOURNAL|a.SQLITE_OPEN_WAL,z=".opaque",A=()=>Math.random().toString(36).slice(2),ye=new TextDecoder,Oe=new TextEncoder,Ae=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2}),be=[t.config.error,t.config.warn,t.config.log];t.config.log;const et=t.config.warn;t.config.error;const h=new Map,O=me=>h.get(me),V=(me,Q)=>{Q?h.set(me,Q):h.delete(me)},qe=new Map,m=me=>qe.get(me),D=(me,Q)=>{Q?qe.set(me,Q):qe.delete(me)},u={xCheckReservedLock:function(me,Q){const pe=m(me);return pe.log("xCheckReservedLock"),pe.storeErr(),E.poke32(Q,1),0},xClose:function(me){const Q=m(me);Q.storeErr();const pe=Q.getOFileForS3File(me);if(pe)try{Q.log(`xClose ${pe.path}`),Q.mapS3FileToOFile(me,!1),pe.sah.flush(),pe.flags&a.SQLITE_OPEN_DELETEONCLOSE&&Q.deletePath(pe.path)}catch(L){return Q.storeErr(L),a.SQLITE_IOERR}return 0},xDeviceCharacteristics:function(me){return a.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(me,Q,pe){return a.SQLITE_NOTFOUND},xFileSize:function(me,Q){const pe=m(me);pe.log("xFileSize");const se=pe.getOFileForS3File(me).sah.getSize()-b;return E.poke64(Q,BigInt(se)),0},xLock:function(me,Q){const pe=m(me);pe.log(`xLock ${Q}`),pe.storeErr();const L=pe.getOFileForS3File(me);return L.lockType=Q,0},xRead:function(me,Q,pe,L){const se=m(me);se.storeErr();const de=se.getOFileForS3File(me);se.log(`xRead ${de.path} ${pe} @ ${L}`);try{const xe=de.sah.read(E.heap8u().subarray(Q,Q+pe),{at:b+Number(L)});return xe<pe?(E.heap8u().fill(0,Q+xe,Q+pe),a.SQLITE_IOERR_SHORT_READ):0}catch(xe){return se.storeErr(xe),a.SQLITE_IOERR}},xSectorSize:function(me){return W},xSync:function(me,Q){const pe=m(me);pe.log(`xSync ${Q}`),pe.storeErr();const L=pe.getOFileForS3File(me);try{return L.sah.flush(),0}catch(se){return pe.storeErr(se),a.SQLITE_IOERR}},xTruncate:function(me,Q){const pe=m(me);pe.log(`xTruncate ${Q}`),pe.storeErr();const L=pe.getOFileForS3File(me);try{return L.sah.truncate(b+Number(Q)),0}catch(se){return pe.storeErr(se),a.SQLITE_IOERR}},xUnlock:function(me,Q){const pe=m(me);pe.log("xUnlock");const L=pe.getOFileForS3File(me);return L.lockType=Q,0},xWrite:function(me,Q,pe,L){const se=m(me);se.storeErr();const de=se.getOFileForS3File(me);se.log(`xWrite ${de.path} ${pe} ${L}`);try{return de.sah.write(E.heap8u().subarray(Q,Q+pe),{at:b+Number(L)})===pe?0:a.SQLITE_IOERR}catch(xe){return se.storeErr(xe),a.SQLITE_IOERR}}},_=new a.sqlite3_io_methods;_.$iVersion=1,t.vfs.installVfs({io:{struct:_,methods:u}});const p={xAccess:function(me,Q,pe,L){const se=O(me);se.storeErr();try{const de=se.getPath(Q);E.poke32(L,se.hasFilename(de)?1:0)}catch{E.poke32(L,0)}return 0},xCurrentTime:function(me,Q){return E.poke(Q,24405875e-1+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(me,Q){return E.poke(Q,24405875e-1*864e5+new Date().getTime(),"i64"),0},xDelete:function(me,Q,pe){const L=O(me);L.log(`xDelete ${E.cstrToJs(Q)}`),L.storeErr();try{return L.deletePath(L.getPath(Q)),0}catch(se){return L.storeErr(se),a.SQLITE_IOERR_DELETE}},xFullPathname:function(me,Q,pe,L){return E.cstrncpy(L,Q,pe)<pe?0:a.SQLITE_CANTOPEN},xGetLastError:function(me,Q,pe){const L=O(me);L.log(`xGetLastError ${Q}`);const se=L.popErr();if(se){const de=E.scopedAllocPush();try{const[xe,it]=E.scopedAllocCString(se.message,!0);E.cstrncpy(pe,xe,Q),it>Q&&E.poke8(pe+Q-1,0)}catch{return a.SQLITE_NOMEM}finally{E.scopedAllocPop(de)}}return 0},xOpen:function(Q,pe,L,se,de){const xe=O(Q);try{xe.log(`xOpen ${E.cstrToJs(pe)} ${se}`);const it=pe&&E.peek8(pe)?xe.getPath(pe):A();let ut=xe.getSAHForPath(it);!ut&&se&a.SQLITE_OPEN_CREATE&&(xe.getFileCount()<xe.getCapacity()?(ut=xe.nextAvailableSAH(),xe.setAssociatedPath(ut,it,se)):i("SAH pool is full. Cannot create file",it)),ut||i("file not found:",it);const pt={path:it,flags:se,sah:ut};xe.mapS3FileToOFile(L,pt),pt.lockType=a.SQLITE_LOCK_NONE;const vt=new a.sqlite3_file(L);return vt.$pMethods=_.pointer,vt.dispose(),E.poke32(de,se),0}catch(it){return xe.storeErr(it),a.SQLITE_CANTOPEN}}},ae=function(me){t.capi.sqlite3_vfs_find(me)&&r("VFS name is already registered:",me);const Q=new a.sqlite3_vfs,pe=a.sqlite3_vfs_find(null),L=pe?new a.sqlite3_vfs(pe):null;return Q.$iVersion=2,Q.$szOsFile=a.sqlite3_file.structInfo.sizeof,Q.$mxPathname=le,Q.addOnDispose(Q.$zName=E.allocCString(me),()=>V(Q.pointer,0)),L&&(Q.$xRandomness=L.$xRandomness,Q.$xSleep=L.$xSleep,L.dispose()),!Q.$xRandomness&&!p.xRandomness&&(p.xRandomness=function(se,de,xe){const it=E.heap8u();let ut=0;for(;ut<de;++ut)it[xe+ut]=Math.random()*255e3&255;return ut}),!Q.$xSleep&&!p.xSleep&&(p.xSleep=(se,de)=>0),t.vfs.installVfs({vfs:{struct:Q,methods:p}}),Q};class Fe{constructor(Q=Object.create(null)){Lt(this,Le);Ve(this,"vfsDir");Lt(this,Je);Lt(this,tt);Lt(this,nt);Lt(this,at,new Map);Lt(this,_t,new Map);Lt(this,bt,new Set);Lt(this,Tt,new Map);Lt(this,re,new Uint8Array(Ze));Lt(this,Ee);Lt(this,Se);Lt(this,We);Mt(this,We,Q.verbosity??Ae.verbosity),this.vfsName=Q.name||Ae.name,Mt(this,Se,ae(this.vfsName)),V(He(this,Se).pointer,this),this.vfsDir=Q.directory||"."+this.vfsName,Mt(this,Ee,new DataView(He(this,re).buffer,He(this,re).byteOffset)),this.isReady=this.reset(!!(Q.clearOnInit??Ae.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(Q.initialCapacity||Ae.initialCapacity)})}log(...Q){ln(this,Le,cn).call(this,2,...Q)}warn(...Q){ln(this,Le,cn).call(this,1,...Q)}error(...Q){ln(this,Le,cn).call(this,0,...Q)}getVfs(){return He(this,Se)}getCapacity(){return He(this,at).size}getFileCount(){return He(this,_t).size}getFileNames(){const Q=[],pe=He(this,_t).keys();for(const L of pe)Q.push(L);return Q}async addCapacity(Q){for(let pe=0;pe<Q;++pe){const L=A(),de=await(await He(this,tt).getFileHandle(L,{create:!0})).createSyncAccessHandle();He(this,at).set(de,L),this.setAssociatedPath(de,"",0)}return this.getCapacity()}async reduceCapacity(Q){let pe=0;for(const L of Array.from(He(this,bt))){if(pe===Q||this.getFileCount()===this.getCapacity())break;const se=He(this,at).get(L);L.close(),await He(this,tt).removeEntry(se),He(this,at).delete(L),He(this,bt).delete(L),++pe}return pe}releaseAccessHandles(){for(const Q of He(this,at).keys())Q.close();He(this,at).clear(),He(this,_t).clear(),He(this,bt).clear()}async acquireAccessHandles(Q){const pe=[];for await(const[L,se]of He(this,tt))se.kind==="file"&&pe.push([L,se]);return Promise.all(pe.map(async([L,se])=>{try{const de=await se.createSyncAccessHandle();if(He(this,at).set(de,L),Q)de.truncate(b),this.setAssociatedPath(de,"",0);else{const xe=this.getAssociatedPath(de);xe?He(this,_t).set(xe,de):He(this,bt).add(de)}}catch(de){throw this.storeErr(de),this.releaseAccessHandles(),de}}))}getAssociatedPath(Q){Q.read(He(this,re),{at:0});const pe=He(this,Ee).getUint32(G);if(He(this,re)[0]&&(pe&a.SQLITE_OPEN_DELETEONCLOSE||!(pe&R)))return et(`Removing file with unexpected flags ${pe.toString(16)}`,He(this,re)),this.setAssociatedPath(Q,"",0),"";const L=new Uint32Array(ze/4);Q.read(L,{at:g});const se=this.computeDigest(He(this,re));if(L.every((de,xe)=>de===se[xe])){const de=He(this,re).findIndex(xe=>xe===0);return de===0&&Q.truncate(b),de?ye.decode(He(this,re).subarray(0,de)):""}else return et("Disassociating file with bad digest."),this.setAssociatedPath(Q,"",0),""}setAssociatedPath(Q,pe,L){const se=Oe.encodeInto(pe,He(this,re));le<=se.written+1&&i("Path too long:",pe),He(this,re).fill(0,se.written,le),He(this,Ee).setUint32(G,L);const de=this.computeDigest(He(this,re));Q.write(He(this,re),{at:0}),Q.write(de,{at:g}),Q.flush(),pe?(He(this,_t).set(pe,Q),He(this,bt).delete(Q)):(Q.truncate(b),He(this,bt).add(Q))}computeDigest(Q){let pe=3735928559,L=1103547991;for(const se of Q)pe=31*pe+se*307,L=31*L+se*307;return new Uint32Array([pe>>>0,L>>>0])}async reset(Q){await this.isReady;let pe=await navigator.storage.getDirectory(),L;for(const se of this.vfsDir.split("/"))se&&(L=pe,pe=await pe.getDirectoryHandle(se,{create:!0}));return Mt(this,Je,pe),Mt(this,nt,L),Mt(this,tt,await He(this,Je).getDirectoryHandle(z,{create:!0})),this.releaseAccessHandles(),this.acquireAccessHandles(Q)}getPath(Q){return E.isPtr(Q)&&(Q=E.cstrToJs(Q)),(Q instanceof URL?Q:new URL(Q,"file://localhost/")).pathname}deletePath(Q){const pe=He(this,_t).get(Q);return pe&&(He(this,_t).delete(Q),this.setAssociatedPath(pe,"",0)),!!pe}storeErr(Q){return Q&&this.error(Q),this.$error=Q}popErr(){const Q=this.$error;return this.$error=void 0,Q}nextAvailableSAH(){const[Q]=He(this,bt).keys();return Q}getOFileForS3File(Q){return He(this,Tt).get(Q)}mapS3FileToOFile(Q,pe){pe?(He(this,Tt).set(Q,pe),D(Q,this)):(He(this,Tt).delete(Q),D(Q,!1))}hasFilename(Q){return He(this,_t).has(Q)}getSAHForPath(Q){return He(this,_t).get(Q)}async removeVfs(){if(!He(this,Se).pointer||!He(this,tt))return!1;a.sqlite3_vfs_unregister(He(this,Se).pointer),He(this,Se).dispose();try{this.releaseAccessHandles(),await He(this,Je).removeEntry(z,{recursive:!0}),Mt(this,tt,void 0),await He(this,nt).removeEntry(He(this,Je).name,{recursive:!0}),Mt(this,Je,Mt(this,nt,void 0))}catch(Q){t.config.error(this.vfsName,"removeVfs() failed:",Q)}return!0}exportFile(Q){const pe=He(this,_t).get(Q)||i("File not found:",Q),L=pe.getSize()-b,se=new Uint8Array(L>0?L:0);if(L>0){const de=pe.read(se,{at:b});de!=L&&i("Expected to read "+L+" bytes but read "+de+".")}return se}importDb(Q,pe){pe instanceof ArrayBuffer&&(pe=new Uint8Array(pe));const L=pe.byteLength;(L<512||L%512!=0)&&i("Byte array size is invalid for an SQLite db.");const se="SQLite format 3";for(let it=0;it<se.length;++it)se.charCodeAt(it)!==pe[it]&&i("Input does not contain an SQLite database header.");const de=He(this,_t).get(Q)||this.nextAvailableSAH()||i("No available handles to import to."),xe=de.write(pe,{at:b});xe!=L?(this.setAssociatedPath(de,"",0),i("Expected to write "+L+" bytes but wrote "+xe+".")):(de.write(new Uint8Array([1,1]),{at:b+18}),this.setAssociatedPath(de,Q,a.SQLITE_OPEN_MAIN_DB))}}Je=new WeakMap,tt=new WeakMap,nt=new WeakMap,at=new WeakMap,_t=new WeakMap,bt=new WeakMap,Tt=new WeakMap,re=new WeakMap,Ee=new WeakMap,Se=new WeakMap,We=new WeakMap,Le=new WeakSet,cn=function(Q,...pe){He(this,We)>Q&&be[Q](this.vfsName+":",...pe)};class Ge{constructor(Q){Lt(this,Ke);Mt(this,Ke,Q),this.vfsName=Q.vfsName}async addCapacity(Q){return He(this,Ke).addCapacity(Q)}async reduceCapacity(Q){return He(this,Ke).reduceCapacity(Q)}getCapacity(){return He(this,Ke).getCapacity(He(this,Ke))}getFileCount(){return He(this,Ke).getFileCount()}getFileNames(){return He(this,Ke).getFileNames()}async reserveMinimumCapacity(Q){const pe=He(this,Ke).getCapacity();return pe<Q?He(this,Ke).addCapacity(Q-pe):pe}exportFile(Q){return He(this,Ke).exportFile(Q)}importDb(Q,pe){return He(this,Ke).importDb(Q,pe)}async wipeFiles(){return He(this,Ke).reset(!0)}unlink(Q){return He(this,Ke).deletePath(Q)}async removeVfs(){return He(this,Ke).removeVfs()}}Ke=new WeakMap;const Xe=async()=>{const me=await navigator.storage.getDirectory(),Q=".opfs-sahpool-sync-check-"+A(),se=(await(await me.getFileHandle(Q,{create:!0})).createSyncAccessHandle()).close();return await se,await me.removeEntry(Q),se!=null&&se.then&&i("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};t.installOpfsSAHPoolVfs=async function(me=Object.create(null)){var pe;const Q=me.name||Ae.name;return s[Q]?s[Q]:!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!((pe=navigator==null?void 0:navigator.storage)!=null&&pe.getDirectory)?s[Q]=Promise.reject(new Error("Missing required OPFS APIs.")):s[Q]=Xe().then(async function(){if(me.$testThrowInInit)throw me.$testThrowInInit;const L=new Fe(me);return L.isReady.then(async()=>{const se=new Ge(L);if(t.oo1){const de=t.oo1,xe=L.getVfs(),it=function(...ut){const pt=de.DB.dbCtorHelper.normalizeArgs(...ut);pt.vfs=xe.$zName,de.DB.dbCtorHelper.call(this,pt)};it.prototype=Object.create(de.DB.prototype),se.OpfsSAHPoolDb=it,de.DB.dbCtorHelper.setVfsPostOpenSql(xe.pointer,function(ut,pt){pt.capi.sqlite3_exec(ut,["pragma journal_mode=DELETE;","pragma cache_size=-16384;"],0,0,0)})}return L.log("VFS initialized."),se}).catch(async se=>(await L.removeVfs().catch(()=>{}),se))}).catch(L=>s[Q]=Promise.reject(L))}}),typeof n<"u"){const t=Object.assign(Object.create(null),{exports:typeof wasmExports>"u"?n.asm:wasmExports,memory:n.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=t;let i;try{i=globalThis.sqlite3ApiBootstrap()}catch(r){throw console.error("sqlite3ApiBootstrap() error:",r),r}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}n.sqlite3=i}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),y.ready}})();pn=function(){var y,e;const H=pn;if(!H)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const ie=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:(y=globalThis==null?void 0:globalThis.document)==null?void 0:y.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:(e=globalThis==null?void 0:globalThis.location)!=null&&e.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(ie.debugModule=ie.urlParams.has("sqlite3.debugModule")?(...N)=>console.warn("sqlite3.debugModule:",...N):()=>{},ie.urlParams.has("sqlite3.dir"))ie.sqlite3Dir=ie.urlParams.get("sqlite3.dir")+"/";else if(ie.moduleScript){const N=ie.moduleScript.src.split("/");N.pop(),ie.sqlite3Dir=N.join("/")+"/"}if(globalThis.sqlite3InitModule=function N(...q){return H(...q).then(v=>{const f=v.sqlite3;f.scriptInfo=ie,N.__isUnderTest&&(f.__isUnderTest=!0);const x=f.asyncPostInit;return delete f.asyncPostInit,x()}).catch(v=>{throw console.error("Exception loading sqlite3 module:",v),v})},globalThis.sqlite3InitModule.ready=H.ready,globalThis.sqlite3InitModuleState.moduleScript){const N=globalThis.sqlite3InitModuleState;let q=N.moduleScript.src.split("/");q.pop(),N.scriptDir=q.join("/")+"/"}return ie.debugModule("sqlite3InitModuleState =",ie),globalThis.sqlite3InitModule}();var rr=pn;class xn{getSqlList(){return[]}}const ir=`
  CREATE TABLE job(
    job_id TEXT PRIMARY KEY,
    job_platform TEXT,
    job_url TEXT, 
    job_name TEXT,
    job_company_name TEXT,
    job_location_name TEXT,
    job_address TEXT,
    job_longitude NUMERIC,
    job_latitude NUMERIC,
    job_description TEXT,
    job_degree_name TEXT,
    job_year NUMERIC,
    job_salary_min NUMERIC,
    job_salary_max NUMERIC,
    job_salary_total_month NUMERIC,
    job_first_publish_datetime DATETIME,
    boss_name TEXT,
    boss_company_name  TEXT,
    boss_position TEXT,
    create_datetime DATETIME,
    update_datetime DATETIME
  )
  `,sr=`
  CREATE TABLE job_browse_history(
    job_id TEXT,
    job_visit_datetime DATETIME,
    job_visit_type TEXT
  )
  `;class or extends xn{getSqlList(){return[ir,sr]}}const ar=`
  CREATE TABLE company (
    company_id TEXT PRIMARY KEY,
    company_name TEXT UNIQUE,
    company_desc TEXT,
    company_start_date DATETIME, 
    company_status TEXT,
    company_legal_person TEXT,
    company_unified_code TEXT,
    company_web_site TEXT,
    company_insurance_num NUMERIC,
    company_self_risk NUMERIC,
    company_union_risk NUMERIC,
    company_address TEXT,
    company_scope TEXT,
    company_tax_no TEXT,
    company_industry TEXT,
    company_license_number TEXT,
    company_longitude NUMERIC,
    company_latitude NUMERIC,
    source_url TEXT,
    source_platform TEXT,
    source_record_id TEXT,
    source_refresh_datetime DATETIME,
    create_datetime DATETIME,
    update_datetime DATETIME
  )
  `;class lr extends xn{getSqlList(){return[ar]}}let kn=[];function cr(H){kn=H}function ur(){return kn}const zt=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],An=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function Xt(H){if(H>=An.length)throw new Error("Unable to parse base64 string.");const ie=An[H];if(ie===255)throw new Error("Unable to parse base64 string.");return ie}function fr(H){let ie="",y,e=H.length;for(y=2;y<e;y+=3)ie+=zt[H[y-2]>>2],ie+=zt[(H[y-2]&3)<<4|H[y-1]>>4],ie+=zt[(H[y-1]&15)<<2|H[y]>>6],ie+=zt[H[y]&63];return y===e+1&&(ie+=zt[H[y-2]>>2],ie+=zt[(H[y-2]&3)<<4],ie+="=="),y===e&&(ie+=zt[H[y-2]>>2],ie+=zt[(H[y-2]&3)<<4|H[y-1]>>4],ie+=zt[(H[y-1]&15)<<2],ie+="="),ie}function _r(H){if(H.length%4!==0)throw new Error("Unable to parse base64 string.");const ie=H.indexOf("=");if(ie!==-1&&ie<H.length-2)throw new Error("Unable to parse base64 string.");let y=H.endsWith("==")?2:H.endsWith("=")?1:0,e=H.length,N=new Uint8Array(3*(e/4)),q;for(let v=0,f=0;v<e;v+=4,f+=3)q=Xt(H.charCodeAt(v))<<18|Xt(H.charCodeAt(v+1))<<12|Xt(H.charCodeAt(v+2))<<6|Xt(H.charCodeAt(v+3)),N[f]=q>>16,N[f+1]=q>>8&255,N[f+2]=q&255;return N.subarray(0,N.length-y)}function en(H){throw new Error('Could not dynamically require "'+H+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var In={exports:{}};/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(H,ie){(function(y){H.exports=y()})(function(){return function y(e,N,q){function v(M,U){if(!N[M]){if(!e[M]){var C=typeof en=="function"&&en;if(!U&&C)return C(M,!0);if(f)return f(M,!0);var j=new Error("Cannot find module '"+M+"'");throw j.code="MODULE_NOT_FOUND",j}var w=N[M]={exports:{}};e[M][0].call(w.exports,function(F){var d=e[M][1][F];return v(d||F)},w,w.exports,y,e,N,q)}return N[M].exports}for(var f=typeof en=="function"&&en,x=0;x<q.length;x++)v(q[x]);return v}({1:[function(y,e,N){var q=y("./utils"),v=y("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";N.encode=function(x){for(var M,U,C,j,w,F,d,T=[],S=0,P=x.length,$=P,te=q.getTypeOf(x)!=="string";S<x.length;)$=P-S,C=te?(M=x[S++],U=S<P?x[S++]:0,S<P?x[S++]:0):(M=x.charCodeAt(S++),U=S<P?x.charCodeAt(S++):0,S<P?x.charCodeAt(S++):0),j=M>>2,w=(3&M)<<4|U>>4,F=1<$?(15&U)<<2|C>>6:64,d=2<$?63&C:64,T.push(f.charAt(j)+f.charAt(w)+f.charAt(F)+f.charAt(d));return T.join("")},N.decode=function(x){var M,U,C,j,w,F,d=0,T=0,S="data:";if(x.substr(0,S.length)===S)throw new Error("Invalid base64 input, it looks like a data url.");var P,$=3*(x=x.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(x.charAt(x.length-1)===f.charAt(64)&&$--,x.charAt(x.length-2)===f.charAt(64)&&$--,$%1!=0)throw new Error("Invalid base64 input, bad content length.");for(P=v.uint8array?new Uint8Array(0|$):new Array(0|$);d<x.length;)M=f.indexOf(x.charAt(d++))<<2|(j=f.indexOf(x.charAt(d++)))>>4,U=(15&j)<<4|(w=f.indexOf(x.charAt(d++)))>>2,C=(3&w)<<6|(F=f.indexOf(x.charAt(d++))),P[T++]=M,w!==64&&(P[T++]=U),F!==64&&(P[T++]=C);return P}},{"./support":30,"./utils":32}],2:[function(y,e,N){var q=y("./external"),v=y("./stream/DataWorker"),f=y("./stream/Crc32Probe"),x=y("./stream/DataLengthProbe");function M(U,C,j,w,F){this.compressedSize=U,this.uncompressedSize=C,this.crc32=j,this.compression=w,this.compressedContent=F}M.prototype={getContentWorker:function(){var U=new v(q.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new x("data_length")),C=this;return U.on("end",function(){if(this.streamInfo.data_length!==C.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),U},getCompressedWorker:function(){return new v(q.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},M.createWorkerFrom=function(U,C,j){return U.pipe(new f).pipe(new x("uncompressedSize")).pipe(C.compressWorker(j)).pipe(new x("compressedSize")).withStreamInfo("compression",C)},e.exports=M},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(y,e,N){var q=y("./stream/GenericWorker");N.STORE={magic:"\0\0",compressWorker:function(){return new q("STORE compression")},uncompressWorker:function(){return new q("STORE decompression")}},N.DEFLATE=y("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(y,e,N){var q=y("./utils"),v=function(){for(var f,x=[],M=0;M<256;M++){f=M;for(var U=0;U<8;U++)f=1&f?3988292384^f>>>1:f>>>1;x[M]=f}return x}();e.exports=function(f,x){return f!==void 0&&f.length?q.getTypeOf(f)!=="string"?function(M,U,C,j){var w=v,F=j+C;M^=-1;for(var d=j;d<F;d++)M=M>>>8^w[255&(M^U[d])];return-1^M}(0|x,f,f.length,0):function(M,U,C,j){var w=v,F=j+C;M^=-1;for(var d=j;d<F;d++)M=M>>>8^w[255&(M^U.charCodeAt(d))];return-1^M}(0|x,f,f.length,0):0}},{"./utils":32}],5:[function(y,e,N){N.base64=!1,N.binary=!1,N.dir=!1,N.createFolders=!0,N.date=null,N.compression=null,N.compressionOptions=null,N.comment=null,N.unixPermissions=null,N.dosPermissions=null},{}],6:[function(y,e,N){var q=null;q=typeof Promise<"u"?Promise:y("lie"),e.exports={Promise:q}},{lie:37}],7:[function(y,e,N){var q=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=y("pako"),f=y("./utils"),x=y("./stream/GenericWorker"),M=q?"uint8array":"array";function U(C,j){x.call(this,"FlateWorker/"+C),this._pako=null,this._pakoAction=C,this._pakoOptions=j,this.meta={}}N.magic="\b\0",f.inherits(U,x),U.prototype.processChunk=function(C){this.meta=C.meta,this._pako===null&&this._createPako(),this._pako.push(f.transformTo(M,C.data),!1)},U.prototype.flush=function(){x.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},U.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this._pako=null},U.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var C=this;this._pako.onData=function(j){C.push({data:j,meta:C.meta})}},N.compressWorker=function(C){return new U("Deflate",C)},N.uncompressWorker=function(){return new U("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(y,e,N){function q(w,F){var d,T="";for(d=0;d<F;d++)T+=String.fromCharCode(255&w),w>>>=8;return T}function v(w,F,d,T,S,P){var $,te,Z=w.file,we=w.compression,ge=P!==M.utf8encode,Ce=f.transformTo("string",P(Z.name)),he=f.transformTo("string",M.utf8encode(Z.name)),Ie=Z.comment,Ue=f.transformTo("string",P(Ie)),B=f.transformTo("string",M.utf8encode(Ie)),fe=he.length!==Z.name.length,c=B.length!==Ie.length,J="",oe="",X="",ke=Z.dir,_e=Z.date,je={crc32:0,compressedSize:0,uncompressedSize:0};F&&!d||(je.crc32=w.crc32,je.compressedSize=w.compressedSize,je.uncompressedSize=w.uncompressedSize);var ne=0;F&&(ne|=8),ge||!fe&&!c||(ne|=2048);var ee=0,$e=0;ke&&(ee|=16),S==="UNIX"?($e=798,ee|=function(Re,mt){var wt=Re;return Re||(wt=mt?16893:33204),(65535&wt)<<16}(Z.unixPermissions,ke)):($e=20,ee|=function(Re){return 63&(Re||0)}(Z.dosPermissions)),$=_e.getUTCHours(),$<<=6,$|=_e.getUTCMinutes(),$<<=5,$|=_e.getUTCSeconds()/2,te=_e.getUTCFullYear()-1980,te<<=4,te|=_e.getUTCMonth()+1,te<<=5,te|=_e.getUTCDate(),fe&&(oe=q(1,1)+q(U(Ce),4)+he,J+="up"+q(oe.length,2)+oe),c&&(X=q(1,1)+q(U(Ue),4)+B,J+="uc"+q(X.length,2)+X);var Me="";return Me+=`
\0`,Me+=q(ne,2),Me+=we.magic,Me+=q($,2),Me+=q(te,2),Me+=q(je.crc32,4),Me+=q(je.compressedSize,4),Me+=q(je.uncompressedSize,4),Me+=q(Ce.length,2),Me+=q(J.length,2),{fileRecord:C.LOCAL_FILE_HEADER+Me+Ce+J,dirRecord:C.CENTRAL_FILE_HEADER+q($e,2)+Me+q(Ue.length,2)+"\0\0\0\0"+q(ee,4)+q(T,4)+Ce+J+Ue}}var f=y("../utils"),x=y("../stream/GenericWorker"),M=y("../utf8"),U=y("../crc32"),C=y("../signature");function j(w,F,d,T){x.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=F,this.zipPlatform=d,this.encodeFileName=T,this.streamFiles=w,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}f.inherits(j,x),j.prototype.push=function(w){var F=w.meta.percent||0,d=this.entriesCount,T=this._sources.length;this.accumulate?this.contentBuffer.push(w):(this.bytesWritten+=w.data.length,x.prototype.push.call(this,{data:w.data,meta:{currentFile:this.currentFile,percent:d?(F+100*(d-T-1))/d:100}}))},j.prototype.openedSource=function(w){this.currentSourceOffset=this.bytesWritten,this.currentFile=w.file.name;var F=this.streamFiles&&!w.file.dir;if(F){var d=v(w,F,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},j.prototype.closedSource=function(w){this.accumulate=!1;var F=this.streamFiles&&!w.file.dir,d=v(w,F,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),F)this.push({data:function(T){return C.DATA_DESCRIPTOR+q(T.crc32,4)+q(T.compressedSize,4)+q(T.uncompressedSize,4)}(w),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},j.prototype.flush=function(){for(var w=this.bytesWritten,F=0;F<this.dirRecords.length;F++)this.push({data:this.dirRecords[F],meta:{percent:100}});var d=this.bytesWritten-w,T=function(S,P,$,te,Z){var we=f.transformTo("string",Z(te));return C.CENTRAL_DIRECTORY_END+"\0\0\0\0"+q(S,2)+q(S,2)+q(P,4)+q($,4)+q(we.length,2)+we}(this.dirRecords.length,d,w,this.zipComment,this.encodeFileName);this.push({data:T,meta:{percent:100}})},j.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},j.prototype.registerPrevious=function(w){this._sources.push(w);var F=this;return w.on("data",function(d){F.processChunk(d)}),w.on("end",function(){F.closedSource(F.previous.streamInfo),F._sources.length?F.prepareNextSource():F.end()}),w.on("error",function(d){F.error(d)}),this},j.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},j.prototype.error=function(w){var F=this._sources;if(!x.prototype.error.call(this,w))return!1;for(var d=0;d<F.length;d++)try{F[d].error(w)}catch{}return!0},j.prototype.lock=function(){x.prototype.lock.call(this);for(var w=this._sources,F=0;F<w.length;F++)w[F].lock()},e.exports=j},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(y,e,N){var q=y("../compressions"),v=y("./ZipFileWorker");N.generateWorker=function(f,x,M){var U=new v(x.streamFiles,M,x.platform,x.encodeFileName),C=0;try{f.forEach(function(j,w){C++;var F=function(P,$){var te=P||$,Z=q[te];if(!Z)throw new Error(te+" is not a valid compression method !");return Z}(w.options.compression,x.compression),d=w.options.compressionOptions||x.compressionOptions||{},T=w.dir,S=w.date;w._compressWorker(F,d).withStreamInfo("file",{name:j,dir:T,date:S,comment:w.comment||"",unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions}).pipe(U)}),U.entriesCount=C}catch(j){U.error(j)}return U}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(y,e,N){function q(){if(!(this instanceof q))return new q;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new q;for(var f in this)typeof this[f]!="function"&&(v[f]=this[f]);return v}}(q.prototype=y("./object")).loadAsync=y("./load"),q.support=y("./support"),q.defaults=y("./defaults"),q.version="3.10.1",q.loadAsync=function(v,f){return new q().loadAsync(v,f)},q.external=y("./external"),e.exports=q},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(y,e,N){var q=y("./utils"),v=y("./external"),f=y("./utf8"),x=y("./zipEntries"),M=y("./stream/Crc32Probe"),U=y("./nodejsUtils");function C(j){return new v.Promise(function(w,F){var d=j.decompressed.getContentWorker().pipe(new M);d.on("error",function(T){F(T)}).on("end",function(){d.streamInfo.crc32!==j.decompressed.crc32?F(new Error("Corrupted zip : CRC32 mismatch")):w()}).resume()})}e.exports=function(j,w){var F=this;return w=q.extend(w||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:f.utf8decode}),U.isNode&&U.isStream(j)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):q.prepareContent("the loaded zip file",j,!0,w.optimizedBinaryString,w.base64).then(function(d){var T=new x(w);return T.load(d),T}).then(function(d){var T=[v.Promise.resolve(d)],S=d.files;if(w.checkCRC32)for(var P=0;P<S.length;P++)T.push(C(S[P]));return v.Promise.all(T)}).then(function(d){for(var T=d.shift(),S=T.files,P=0;P<S.length;P++){var $=S[P],te=$.fileNameStr,Z=q.resolve($.fileNameStr);F.file(Z,$.decompressed,{binary:!0,optimizedBinaryString:!0,date:$.date,dir:$.dir,comment:$.fileCommentStr.length?$.fileCommentStr:null,unixPermissions:$.unixPermissions,dosPermissions:$.dosPermissions,createFolders:w.createFolders}),$.dir||(F.file(Z).unsafeOriginalName=te)}return T.zipComment.length&&(F.comment=T.zipComment),F})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(y,e,N){var q=y("../utils"),v=y("../stream/GenericWorker");function f(x,M){v.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(M)}q.inherits(f,v),f.prototype._bindStream=function(x){var M=this;(this._stream=x).pause(),x.on("data",function(U){M.push({data:U,meta:{percent:0}})}).on("error",function(U){M.isPaused?this.generatedError=U:M.error(U)}).on("end",function(){M.isPaused?M._upstreamEnded=!0:M.end()})},f.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},f.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=f},{"../stream/GenericWorker":28,"../utils":32}],13:[function(y,e,N){var q=y("readable-stream").Readable;function v(f,x,M){q.call(this,x),this._helper=f;var U=this;f.on("data",function(C,j){U.push(C)||U._helper.pause(),M&&M(j)}).on("error",function(C){U.emit("error",C)}).on("end",function(){U.push(null)})}y("../utils").inherits(v,q),v.prototype._read=function(){this._helper.resume()},e.exports=v},{"../utils":32,"readable-stream":16}],14:[function(y,e,N){e.exports={isNode:typeof Buffer<"u",newBufferFrom:function(q,v){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(q,v);if(typeof q=="number")throw new Error('The "data" argument must not be a number');return new Buffer(q,v)},allocBuffer:function(q){if(Buffer.alloc)return Buffer.alloc(q);var v=new Buffer(q);return v.fill(0),v},isBuffer:function(q){return Buffer.isBuffer(q)},isStream:function(q){return q&&typeof q.on=="function"&&typeof q.pause=="function"&&typeof q.resume=="function"}}},{}],15:[function(y,e,N){function q(Z,we,ge){var Ce,he=f.getTypeOf(we),Ie=f.extend(ge||{},U);Ie.date=Ie.date||new Date,Ie.compression!==null&&(Ie.compression=Ie.compression.toUpperCase()),typeof Ie.unixPermissions=="string"&&(Ie.unixPermissions=parseInt(Ie.unixPermissions,8)),Ie.unixPermissions&&16384&Ie.unixPermissions&&(Ie.dir=!0),Ie.dosPermissions&&16&Ie.dosPermissions&&(Ie.dir=!0),Ie.dir&&(Z=S(Z)),Ie.createFolders&&(Ce=T(Z))&&P.call(this,Ce,!0);var Ue=he==="string"&&Ie.binary===!1&&Ie.base64===!1;ge&&ge.binary!==void 0||(Ie.binary=!Ue),(we instanceof C&&we.uncompressedSize===0||Ie.dir||!we||we.length===0)&&(Ie.base64=!1,Ie.binary=!0,we="",Ie.compression="STORE",he="string");var B=null;B=we instanceof C||we instanceof x?we:F.isNode&&F.isStream(we)?new d(Z,we):f.prepareContent(Z,we,Ie.binary,Ie.optimizedBinaryString,Ie.base64);var fe=new j(Z,B,Ie);this.files[Z]=fe}var v=y("./utf8"),f=y("./utils"),x=y("./stream/GenericWorker"),M=y("./stream/StreamHelper"),U=y("./defaults"),C=y("./compressedObject"),j=y("./zipObject"),w=y("./generate"),F=y("./nodejsUtils"),d=y("./nodejs/NodejsStreamInputAdapter"),T=function(Z){Z.slice(-1)==="/"&&(Z=Z.substring(0,Z.length-1));var we=Z.lastIndexOf("/");return 0<we?Z.substring(0,we):""},S=function(Z){return Z.slice(-1)!=="/"&&(Z+="/"),Z},P=function(Z,we){return we=we!==void 0?we:U.createFolders,Z=S(Z),this.files[Z]||q.call(this,Z,null,{dir:!0,createFolders:we}),this.files[Z]};function $(Z){return Object.prototype.toString.call(Z)==="[object RegExp]"}var te={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Z){var we,ge,Ce;for(we in this.files)Ce=this.files[we],(ge=we.slice(this.root.length,we.length))&&we.slice(0,this.root.length)===this.root&&Z(ge,Ce)},filter:function(Z){var we=[];return this.forEach(function(ge,Ce){Z(ge,Ce)&&we.push(Ce)}),we},file:function(Z,we,ge){if(arguments.length!==1)return Z=this.root+Z,q.call(this,Z,we,ge),this;if($(Z)){var Ce=Z;return this.filter(function(Ie,Ue){return!Ue.dir&&Ce.test(Ie)})}var he=this.files[this.root+Z];return he&&!he.dir?he:null},folder:function(Z){if(!Z)return this;if($(Z))return this.filter(function(he,Ie){return Ie.dir&&Z.test(he)});var we=this.root+Z,ge=P.call(this,we),Ce=this.clone();return Ce.root=ge.name,Ce},remove:function(Z){Z=this.root+Z;var we=this.files[Z];if(we||(Z.slice(-1)!=="/"&&(Z+="/"),we=this.files[Z]),we&&!we.dir)delete this.files[Z];else for(var ge=this.filter(function(he,Ie){return Ie.name.slice(0,Z.length)===Z}),Ce=0;Ce<ge.length;Ce++)delete this.files[ge[Ce].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Z){var we,ge={};try{if((ge=f.extend(Z||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=ge.type.toLowerCase(),ge.compression=ge.compression.toUpperCase(),ge.type==="binarystring"&&(ge.type="string"),!ge.type)throw new Error("No output type specified.");f.checkSupport(ge.type),ge.platform!=="darwin"&&ge.platform!=="freebsd"&&ge.platform!=="linux"&&ge.platform!=="sunos"||(ge.platform="UNIX"),ge.platform==="win32"&&(ge.platform="DOS");var Ce=ge.comment||this.comment||"";we=w.generateWorker(this,ge,Ce)}catch(he){(we=new x("error")).error(he)}return new M(we,ge.type||"string",ge.mimeType)},generateAsync:function(Z,we){return this.generateInternalStream(Z).accumulate(we)},generateNodeStream:function(Z,we){return(Z=Z||{}).type||(Z.type="nodebuffer"),this.generateInternalStream(Z).toNodejsStream(we)}};e.exports=te},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(y,e,N){e.exports=y("stream")},{stream:void 0}],17:[function(y,e,N){var q=y("./DataReader");function v(f){q.call(this,f);for(var x=0;x<this.data.length;x++)f[x]=255&f[x]}y("../utils").inherits(v,q),v.prototype.byteAt=function(f){return this.data[this.zero+f]},v.prototype.lastIndexOfSignature=function(f){for(var x=f.charCodeAt(0),M=f.charCodeAt(1),U=f.charCodeAt(2),C=f.charCodeAt(3),j=this.length-4;0<=j;--j)if(this.data[j]===x&&this.data[j+1]===M&&this.data[j+2]===U&&this.data[j+3]===C)return j-this.zero;return-1},v.prototype.readAndCheckSignature=function(f){var x=f.charCodeAt(0),M=f.charCodeAt(1),U=f.charCodeAt(2),C=f.charCodeAt(3),j=this.readData(4);return x===j[0]&&M===j[1]&&U===j[2]&&C===j[3]},v.prototype.readData=function(f){if(this.checkOffset(f),f===0)return[];var x=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,x},e.exports=v},{"../utils":32,"./DataReader":18}],18:[function(y,e,N){var q=y("../utils");function v(f){this.data=f,this.length=f.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(f){this.checkIndex(this.index+f)},checkIndex:function(f){if(this.length<this.zero+f||f<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+f+"). Corrupted zip ?")},setIndex:function(f){this.checkIndex(f),this.index=f},skip:function(f){this.setIndex(this.index+f)},byteAt:function(){},readInt:function(f){var x,M=0;for(this.checkOffset(f),x=this.index+f-1;x>=this.index;x--)M=(M<<8)+this.byteAt(x);return this.index+=f,M},readString:function(f){return q.transformTo("string",this.readData(f))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var f=this.readInt(4);return new Date(Date.UTC(1980+(f>>25&127),(f>>21&15)-1,f>>16&31,f>>11&31,f>>5&63,(31&f)<<1))}},e.exports=v},{"../utils":32}],19:[function(y,e,N){var q=y("./Uint8ArrayReader");function v(f){q.call(this,f)}y("../utils").inherits(v,q),v.prototype.readData=function(f){this.checkOffset(f);var x=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,x},e.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(y,e,N){var q=y("./DataReader");function v(f){q.call(this,f)}y("../utils").inherits(v,q),v.prototype.byteAt=function(f){return this.data.charCodeAt(this.zero+f)},v.prototype.lastIndexOfSignature=function(f){return this.data.lastIndexOf(f)-this.zero},v.prototype.readAndCheckSignature=function(f){return f===this.readData(4)},v.prototype.readData=function(f){this.checkOffset(f);var x=this.data.slice(this.zero+this.index,this.zero+this.index+f);return this.index+=f,x},e.exports=v},{"../utils":32,"./DataReader":18}],21:[function(y,e,N){var q=y("./ArrayReader");function v(f){q.call(this,f)}y("../utils").inherits(v,q),v.prototype.readData=function(f){if(this.checkOffset(f),f===0)return new Uint8Array(0);var x=this.data.subarray(this.zero+this.index,this.zero+this.index+f);return this.index+=f,x},e.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(y,e,N){var q=y("../utils"),v=y("../support"),f=y("./ArrayReader"),x=y("./StringReader"),M=y("./NodeBufferReader"),U=y("./Uint8ArrayReader");e.exports=function(C){var j=q.getTypeOf(C);return q.checkSupport(j),j!=="string"||v.uint8array?j==="nodebuffer"?new M(C):v.uint8array?new U(q.transformTo("uint8array",C)):new f(q.transformTo("array",C)):new x(C)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(y,e,N){N.LOCAL_FILE_HEADER="PK",N.CENTRAL_FILE_HEADER="PK",N.CENTRAL_DIRECTORY_END="PK",N.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",N.ZIP64_CENTRAL_DIRECTORY_END="PK",N.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(y,e,N){var q=y("./GenericWorker"),v=y("../utils");function f(x){q.call(this,"ConvertWorker to "+x),this.destType=x}v.inherits(f,q),f.prototype.processChunk=function(x){this.push({data:v.transformTo(this.destType,x.data),meta:x.meta})},e.exports=f},{"../utils":32,"./GenericWorker":28}],25:[function(y,e,N){var q=y("./GenericWorker"),v=y("../crc32");function f(){q.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}y("../utils").inherits(f,q),f.prototype.processChunk=function(x){this.streamInfo.crc32=v(x.data,this.streamInfo.crc32||0),this.push(x)},e.exports=f},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(y,e,N){var q=y("../utils"),v=y("./GenericWorker");function f(x){v.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}q.inherits(f,v),f.prototype.processChunk=function(x){if(x){var M=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=M+x.data.length}v.prototype.processChunk.call(this,x)},e.exports=f},{"../utils":32,"./GenericWorker":28}],27:[function(y,e,N){var q=y("../utils"),v=y("./GenericWorker");function f(x){v.call(this,"DataWorker");var M=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then(function(U){M.dataIsReady=!0,M.data=U,M.max=U&&U.length||0,M.type=q.getTypeOf(U),M.isPaused||M._tickAndRepeat()},function(U){M.error(U)})}q.inherits(f,v),f.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},f.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,q.delay(this._tickAndRepeat,[],this)),!0)},f.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(q.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},f.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=null,M=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,M);break;case"uint8array":x=this.data.subarray(this.index,M);break;case"array":case"nodebuffer":x=this.data.slice(this.index,M)}return this.index=M,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=f},{"../utils":32,"./GenericWorker":28}],28:[function(y,e,N){function q(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}q.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,f){return this._listeners[v].push(f),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,f){if(this._listeners[v])for(var x=0;x<this._listeners[v].length;x++)this._listeners[v][x].call(this,f)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var f=this;return v.on("data",function(x){f.processChunk(x)}),v.on("end",function(){f.end()}),v.on("error",function(x){f.error(x)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,f){return this.extraStreamInfo[v]=f,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},e.exports=q},{}],29:[function(y,e,N){var q=y("../utils"),v=y("./ConvertWorker"),f=y("./GenericWorker"),x=y("../base64"),M=y("../support"),U=y("../external"),C=null;if(M.nodestream)try{C=y("../nodejs/NodejsStreamOutputAdapter")}catch{}function j(F,d){return new U.Promise(function(T,S){var P=[],$=F._internalType,te=F._outputType,Z=F._mimeType;F.on("data",function(we,ge){P.push(we),d&&d(ge)}).on("error",function(we){P=[],S(we)}).on("end",function(){try{var we=function(ge,Ce,he){switch(ge){case"blob":return q.newBlob(q.transformTo("arraybuffer",Ce),he);case"base64":return x.encode(Ce);default:return q.transformTo(ge,Ce)}}(te,function(ge,Ce){var he,Ie=0,Ue=null,B=0;for(he=0;he<Ce.length;he++)B+=Ce[he].length;switch(ge){case"string":return Ce.join("");case"array":return Array.prototype.concat.apply([],Ce);case"uint8array":for(Ue=new Uint8Array(B),he=0;he<Ce.length;he++)Ue.set(Ce[he],Ie),Ie+=Ce[he].length;return Ue;case"nodebuffer":return Buffer.concat(Ce);default:throw new Error("concat : unsupported type '"+ge+"'")}}($,P),Z);T(we)}catch(ge){S(ge)}P=[]}).resume()})}function w(F,d,T){var S=d;switch(d){case"blob":case"arraybuffer":S="uint8array";break;case"base64":S="string"}try{this._internalType=S,this._outputType=d,this._mimeType=T,q.checkSupport(S),this._worker=F.pipe(new v(S)),F.lock()}catch(P){this._worker=new f("error"),this._worker.error(P)}}w.prototype={accumulate:function(F){return j(this,F)},on:function(F,d){var T=this;return F==="data"?this._worker.on(F,function(S){d.call(T,S.data,S.meta)}):this._worker.on(F,function(){q.delay(d,arguments,T)}),this},resume:function(){return q.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(F){if(q.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new C(this,{objectMode:this._outputType!=="nodebuffer"},F)}},e.exports=w},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(y,e,N){if(N.base64=!0,N.array=!0,N.string=!0,N.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",N.nodebuffer=typeof Buffer<"u",N.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")N.blob=!1;else{var q=new ArrayBuffer(0);try{N.blob=new Blob([q],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(q),N.blob=v.getBlob("application/zip").size===0}catch{N.blob=!1}}}try{N.nodestream=!!y("readable-stream").Readable}catch{N.nodestream=!1}},{"readable-stream":16}],31:[function(y,e,N){for(var q=y("./utils"),v=y("./support"),f=y("./nodejsUtils"),x=y("./stream/GenericWorker"),M=new Array(256),U=0;U<256;U++)M[U]=252<=U?6:248<=U?5:240<=U?4:224<=U?3:192<=U?2:1;M[254]=M[254]=1;function C(){x.call(this,"utf-8 decode"),this.leftOver=null}function j(){x.call(this,"utf-8 encode")}N.utf8encode=function(w){return v.nodebuffer?f.newBufferFrom(w,"utf-8"):function(F){var d,T,S,P,$,te=F.length,Z=0;for(P=0;P<te;P++)(64512&(T=F.charCodeAt(P)))==55296&&P+1<te&&(64512&(S=F.charCodeAt(P+1)))==56320&&(T=65536+(T-55296<<10)+(S-56320),P++),Z+=T<128?1:T<2048?2:T<65536?3:4;for(d=v.uint8array?new Uint8Array(Z):new Array(Z),P=$=0;$<Z;P++)(64512&(T=F.charCodeAt(P)))==55296&&P+1<te&&(64512&(S=F.charCodeAt(P+1)))==56320&&(T=65536+(T-55296<<10)+(S-56320),P++),T<128?d[$++]=T:(T<2048?d[$++]=192|T>>>6:(T<65536?d[$++]=224|T>>>12:(d[$++]=240|T>>>18,d[$++]=128|T>>>12&63),d[$++]=128|T>>>6&63),d[$++]=128|63&T);return d}(w)},N.utf8decode=function(w){return v.nodebuffer?q.transformTo("nodebuffer",w).toString("utf-8"):function(F){var d,T,S,P,$=F.length,te=new Array(2*$);for(d=T=0;d<$;)if((S=F[d++])<128)te[T++]=S;else if(4<(P=M[S]))te[T++]=65533,d+=P-1;else{for(S&=P===2?31:P===3?15:7;1<P&&d<$;)S=S<<6|63&F[d++],P--;1<P?te[T++]=65533:S<65536?te[T++]=S:(S-=65536,te[T++]=55296|S>>10&1023,te[T++]=56320|1023&S)}return te.length!==T&&(te.subarray?te=te.subarray(0,T):te.length=T),q.applyFromCharCode(te)}(w=q.transformTo(v.uint8array?"uint8array":"array",w))},q.inherits(C,x),C.prototype.processChunk=function(w){var F=q.transformTo(v.uint8array?"uint8array":"array",w.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var d=F;(F=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),F.set(d,this.leftOver.length)}else F=this.leftOver.concat(F);this.leftOver=null}var T=function(P,$){var te;for(($=$||P.length)>P.length&&($=P.length),te=$-1;0<=te&&(192&P[te])==128;)te--;return te<0||te===0?$:te+M[P[te]]>$?te:$}(F),S=F;T!==F.length&&(v.uint8array?(S=F.subarray(0,T),this.leftOver=F.subarray(T,F.length)):(S=F.slice(0,T),this.leftOver=F.slice(T,F.length))),this.push({data:N.utf8decode(S),meta:w.meta})},C.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:N.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},N.Utf8DecodeWorker=C,q.inherits(j,x),j.prototype.processChunk=function(w){this.push({data:N.utf8encode(w.data),meta:w.meta})},N.Utf8EncodeWorker=j},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(y,e,N){var q=y("./support"),v=y("./base64"),f=y("./nodejsUtils"),x=y("./external");function M(d){return d}function U(d,T){for(var S=0;S<d.length;++S)T[S]=255&d.charCodeAt(S);return T}y("setimmediate"),N.newBlob=function(d,T){N.checkSupport("blob");try{return new Blob([d],{type:T})}catch{try{var S=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return S.append(d),S.getBlob(T)}catch{throw new Error("Bug : can't construct the Blob.")}}};var C={stringifyByChunk:function(d,T,S){var P=[],$=0,te=d.length;if(te<=S)return String.fromCharCode.apply(null,d);for(;$<te;)T==="array"||T==="nodebuffer"?P.push(String.fromCharCode.apply(null,d.slice($,Math.min($+S,te)))):P.push(String.fromCharCode.apply(null,d.subarray($,Math.min($+S,te)))),$+=S;return P.join("")},stringifyByChar:function(d){for(var T="",S=0;S<d.length;S++)T+=String.fromCharCode(d[S]);return T},applyCanBeUsed:{uint8array:function(){try{return q.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return q.nodebuffer&&String.fromCharCode.apply(null,f.allocBuffer(1)).length===1}catch{return!1}}()}};function j(d){var T=65536,S=N.getTypeOf(d),P=!0;if(S==="uint8array"?P=C.applyCanBeUsed.uint8array:S==="nodebuffer"&&(P=C.applyCanBeUsed.nodebuffer),P)for(;1<T;)try{return C.stringifyByChunk(d,S,T)}catch{T=Math.floor(T/2)}return C.stringifyByChar(d)}function w(d,T){for(var S=0;S<d.length;S++)T[S]=d[S];return T}N.applyFromCharCode=j;var F={};F.string={string:M,array:function(d){return U(d,new Array(d.length))},arraybuffer:function(d){return F.string.uint8array(d).buffer},uint8array:function(d){return U(d,new Uint8Array(d.length))},nodebuffer:function(d){return U(d,f.allocBuffer(d.length))}},F.array={string:j,array:M,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return f.newBufferFrom(d)}},F.arraybuffer={string:function(d){return j(new Uint8Array(d))},array:function(d){return w(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:M,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return f.newBufferFrom(new Uint8Array(d))}},F.uint8array={string:j,array:function(d){return w(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:M,nodebuffer:function(d){return f.newBufferFrom(d)}},F.nodebuffer={string:j,array:function(d){return w(d,new Array(d.length))},arraybuffer:function(d){return F.nodebuffer.uint8array(d).buffer},uint8array:function(d){return w(d,new Uint8Array(d.length))},nodebuffer:M},N.transformTo=function(d,T){if(T=T||"",!d)return T;N.checkSupport(d);var S=N.getTypeOf(T);return F[S][d](T)},N.resolve=function(d){for(var T=d.split("/"),S=[],P=0;P<T.length;P++){var $=T[P];$==="."||$===""&&P!==0&&P!==T.length-1||($===".."?S.pop():S.push($))}return S.join("/")},N.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":q.nodebuffer&&f.isBuffer(d)?"nodebuffer":q.uint8array&&d instanceof Uint8Array?"uint8array":q.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},N.checkSupport=function(d){if(!q[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},N.MAX_VALUE_16BITS=65535,N.MAX_VALUE_32BITS=-1,N.pretty=function(d){var T,S,P="";for(S=0;S<(d||"").length;S++)P+="\\x"+((T=d.charCodeAt(S))<16?"0":"")+T.toString(16).toUpperCase();return P},N.delay=function(d,T,S){setImmediate(function(){d.apply(S||null,T||[])})},N.inherits=function(d,T){function S(){}S.prototype=T.prototype,d.prototype=new S},N.extend=function(){var d,T,S={};for(d=0;d<arguments.length;d++)for(T in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],T)&&S[T]===void 0&&(S[T]=arguments[d][T]);return S},N.prepareContent=function(d,T,S,P,$){return x.Promise.resolve(T).then(function(te){return q.blob&&(te instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(te))!==-1)&&typeof FileReader<"u"?new x.Promise(function(Z,we){var ge=new FileReader;ge.onload=function(Ce){Z(Ce.target.result)},ge.onerror=function(Ce){we(Ce.target.error)},ge.readAsArrayBuffer(te)}):te}).then(function(te){var Z=N.getTypeOf(te);return Z?(Z==="arraybuffer"?te=N.transformTo("uint8array",te):Z==="string"&&($?te=v.decode(te):S&&P!==!0&&(te=function(we){return U(we,q.uint8array?new Uint8Array(we.length):new Array(we.length))}(te))),te):x.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(y,e,N){var q=y("./reader/readerFor"),v=y("./utils"),f=y("./signature"),x=y("./zipEntry"),M=y("./support");function U(C){this.files=[],this.loadOptions=C}U.prototype={checkSignature:function(C){if(!this.reader.readAndCheckSignature(C)){this.reader.index-=4;var j=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(j)+", expected "+v.pretty(C)+")")}},isSignature:function(C,j){var w=this.reader.index;this.reader.setIndex(C);var F=this.reader.readString(4)===j;return this.reader.setIndex(w),F},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var C=this.reader.readData(this.zipCommentLength),j=M.uint8array?"uint8array":"array",w=v.transformTo(j,C);this.zipComment=this.loadOptions.decodeFileName(w)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var C,j,w,F=this.zip64EndOfCentralSize-44;0<F;)C=this.reader.readInt(2),j=this.reader.readInt(4),w=this.reader.readData(j),this.zip64ExtensibleData[C]={id:C,length:j,value:w}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var C,j;for(C=0;C<this.files.length;C++)j=this.files[C],this.reader.setIndex(j.localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),j.readLocalPart(this.reader),j.handleUTF8(),j.processAttributes()},readCentralDir:function(){var C;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)(C=new x({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(C);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var C=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(C<0)throw this.isSignature(0,f.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(C);var j=C;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(C=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(C),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var w=this.centralDirOffset+this.centralDirSize;this.zip64&&(w+=20,w+=12+this.zip64EndOfCentralSize);var F=j-w;if(0<F)this.isSignature(j,f.CENTRAL_FILE_HEADER)||(this.reader.zero=F);else if(F<0)throw new Error("Corrupted zip: missing "+Math.abs(F)+" bytes.")},prepareReader:function(C){this.reader=q(C)},load:function(C){this.prepareReader(C),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=U},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(y,e,N){var q=y("./reader/readerFor"),v=y("./utils"),f=y("./compressedObject"),x=y("./crc32"),M=y("./utf8"),U=y("./compressions"),C=y("./support");function j(w,F){this.options=w,this.loadOptions=F}j.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(w){var F,d;if(w.skip(22),this.fileNameLength=w.readInt(2),d=w.readInt(2),this.fileName=w.readData(this.fileNameLength),w.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((F=function(T){for(var S in U)if(Object.prototype.hasOwnProperty.call(U,S)&&U[S].magic===T)return U[S];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,F,w.readData(this.compressedSize))},readCentralPart:function(w){this.versionMadeBy=w.readInt(2),w.skip(2),this.bitFlag=w.readInt(2),this.compressionMethod=w.readString(2),this.date=w.readDate(),this.crc32=w.readInt(4),this.compressedSize=w.readInt(4),this.uncompressedSize=w.readInt(4);var F=w.readInt(2);if(this.extraFieldsLength=w.readInt(2),this.fileCommentLength=w.readInt(2),this.diskNumberStart=w.readInt(2),this.internalFileAttributes=w.readInt(2),this.externalFileAttributes=w.readInt(4),this.localHeaderOffset=w.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");w.skip(F),this.readExtraFields(w),this.parseZIP64ExtraField(w),this.fileComment=w.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var w=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),w==0&&(this.dosPermissions=63&this.externalFileAttributes),w==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var w=q(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=w.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=w.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=w.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=w.readInt(4))}},readExtraFields:function(w){var F,d,T,S=w.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});w.index+4<S;)F=w.readInt(2),d=w.readInt(2),T=w.readData(d),this.extraFields[F]={id:F,length:d,value:T};w.setIndex(S)},handleUTF8:function(){var w=C.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=M.utf8decode(this.fileName),this.fileCommentStr=M.utf8decode(this.fileComment);else{var F=this.findExtraFieldUnicodePath();if(F!==null)this.fileNameStr=F;else{var d=v.transformTo(w,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var T=this.findExtraFieldUnicodeComment();if(T!==null)this.fileCommentStr=T;else{var S=v.transformTo(w,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(S)}}},findExtraFieldUnicodePath:function(){var w=this.extraFields[28789];if(w){var F=q(w.value);return F.readInt(1)!==1||x(this.fileName)!==F.readInt(4)?null:M.utf8decode(F.readData(w.length-5))}return null},findExtraFieldUnicodeComment:function(){var w=this.extraFields[25461];if(w){var F=q(w.value);return F.readInt(1)!==1||x(this.fileComment)!==F.readInt(4)?null:M.utf8decode(F.readData(w.length-5))}return null}},e.exports=j},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(y,e,N){function q(F,d,T){this.name=F,this.dir=T.dir,this.date=T.date,this.comment=T.comment,this.unixPermissions=T.unixPermissions,this.dosPermissions=T.dosPermissions,this._data=d,this._dataBinary=T.binary,this.options={compression:T.compression,compressionOptions:T.compressionOptions}}var v=y("./stream/StreamHelper"),f=y("./stream/DataWorker"),x=y("./utf8"),M=y("./compressedObject"),U=y("./stream/GenericWorker");q.prototype={internalStream:function(F){var d=null,T="string";try{if(!F)throw new Error("No output type specified.");var S=(T=F.toLowerCase())==="string"||T==="text";T!=="binarystring"&&T!=="text"||(T="string"),d=this._decompressWorker();var P=!this._dataBinary;P&&!S&&(d=d.pipe(new x.Utf8EncodeWorker)),!P&&S&&(d=d.pipe(new x.Utf8DecodeWorker))}catch($){(d=new U("error")).error($)}return new v(d,T,"")},async:function(F,d){return this.internalStream(F).accumulate(d)},nodeStream:function(F,d){return this.internalStream(F||"nodebuffer").toNodejsStream(d)},_compressWorker:function(F,d){if(this._data instanceof M&&this._data.compression.magic===F.magic)return this._data.getCompressedWorker();var T=this._decompressWorker();return this._dataBinary||(T=T.pipe(new x.Utf8EncodeWorker)),M.createWorkerFrom(T,F,d)},_decompressWorker:function(){return this._data instanceof M?this._data.getContentWorker():this._data instanceof U?this._data:new f(this._data)}};for(var C=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],j=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},w=0;w<C.length;w++)q.prototype[C[w]]=j;e.exports=q},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(y,e,N){(function(q){var v,f,x=q.MutationObserver||q.WebKitMutationObserver;if(x){var M=0,U=new x(F),C=q.document.createTextNode("");U.observe(C,{characterData:!0}),v=function(){C.data=M=++M%2}}else if(q.setImmediate||q.MessageChannel===void 0)v="document"in q&&"onreadystatechange"in q.document.createElement("script")?function(){var d=q.document.createElement("script");d.onreadystatechange=function(){F(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},q.document.documentElement.appendChild(d)}:function(){setTimeout(F,0)};else{var j=new q.MessageChannel;j.port1.onmessage=F,v=function(){j.port2.postMessage(0)}}var w=[];function F(){var d,T;f=!0;for(var S=w.length;S;){for(T=w,w=[],d=-1;++d<S;)T[d]();S=w.length}f=!1}e.exports=function(d){w.push(d)!==1||f||v()}}).call(this,typeof yt<"u"?yt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(y,e,N){var q=y("immediate");function v(){}var f={},x=["REJECTED"],M=["FULFILLED"],U=["PENDING"];function C(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=U,this.queue=[],this.outcome=void 0,S!==v&&d(this,S)}function j(S,P,$){this.promise=S,typeof P=="function"&&(this.onFulfilled=P,this.callFulfilled=this.otherCallFulfilled),typeof $=="function"&&(this.onRejected=$,this.callRejected=this.otherCallRejected)}function w(S,P,$){q(function(){var te;try{te=P($)}catch(Z){return f.reject(S,Z)}te===S?f.reject(S,new TypeError("Cannot resolve promise with itself")):f.resolve(S,te)})}function F(S){var P=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof P=="function")return function(){P.apply(S,arguments)}}function d(S,P){var $=!1;function te(ge){$||($=!0,f.reject(S,ge))}function Z(ge){$||($=!0,f.resolve(S,ge))}var we=T(function(){P(Z,te)});we.status==="error"&&te(we.value)}function T(S,P){var $={};try{$.value=S(P),$.status="success"}catch(te){$.status="error",$.value=te}return $}(e.exports=C).prototype.finally=function(S){if(typeof S!="function")return this;var P=this.constructor;return this.then(function($){return P.resolve(S()).then(function(){return $})},function($){return P.resolve(S()).then(function(){throw $})})},C.prototype.catch=function(S){return this.then(null,S)},C.prototype.then=function(S,P){if(typeof S!="function"&&this.state===M||typeof P!="function"&&this.state===x)return this;var $=new this.constructor(v);return this.state!==U?w($,this.state===M?S:P,this.outcome):this.queue.push(new j($,S,P)),$},j.prototype.callFulfilled=function(S){f.resolve(this.promise,S)},j.prototype.otherCallFulfilled=function(S){w(this.promise,this.onFulfilled,S)},j.prototype.callRejected=function(S){f.reject(this.promise,S)},j.prototype.otherCallRejected=function(S){w(this.promise,this.onRejected,S)},f.resolve=function(S,P){var $=T(F,P);if($.status==="error")return f.reject(S,$.value);var te=$.value;if(te)d(S,te);else{S.state=M,S.outcome=P;for(var Z=-1,we=S.queue.length;++Z<we;)S.queue[Z].callFulfilled(P)}return S},f.reject=function(S,P){S.state=x,S.outcome=P;for(var $=-1,te=S.queue.length;++$<te;)S.queue[$].callRejected(P);return S},C.resolve=function(S){return S instanceof this?S:f.resolve(new this(v),S)},C.reject=function(S){var P=new this(v);return f.reject(P,S)},C.all=function(S){var P=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var $=S.length,te=!1;if(!$)return this.resolve([]);for(var Z=new Array($),we=0,ge=-1,Ce=new this(v);++ge<$;)he(S[ge],ge);return Ce;function he(Ie,Ue){P.resolve(Ie).then(function(B){Z[Ue]=B,++we!==$||te||(te=!0,f.resolve(Ce,Z))},function(B){te||(te=!0,f.reject(Ce,B))})}},C.race=function(S){var P=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var $=S.length,te=!1;if(!$)return this.resolve([]);for(var Z=-1,we=new this(v);++Z<$;)ge=S[Z],P.resolve(ge).then(function(Ce){te||(te=!0,f.resolve(we,Ce))},function(Ce){te||(te=!0,f.reject(we,Ce))});var ge;return we}},{immediate:36}],38:[function(y,e,N){var q={};(0,y("./lib/utils/common").assign)(q,y("./lib/deflate"),y("./lib/inflate"),y("./lib/zlib/constants")),e.exports=q},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(y,e,N){var q=y("./zlib/deflate"),v=y("./utils/common"),f=y("./utils/strings"),x=y("./zlib/messages"),M=y("./zlib/zstream"),U=Object.prototype.toString,C=0,j=-1,w=0,F=8;function d(S){if(!(this instanceof d))return new d(S);this.options=v.assign({level:j,method:F,chunkSize:16384,windowBits:15,memLevel:8,strategy:w,to:""},S||{});var P=this.options;P.raw&&0<P.windowBits?P.windowBits=-P.windowBits:P.gzip&&0<P.windowBits&&P.windowBits<16&&(P.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new M,this.strm.avail_out=0;var $=q.deflateInit2(this.strm,P.level,P.method,P.windowBits,P.memLevel,P.strategy);if($!==C)throw new Error(x[$]);if(P.header&&q.deflateSetHeader(this.strm,P.header),P.dictionary){var te;if(te=typeof P.dictionary=="string"?f.string2buf(P.dictionary):U.call(P.dictionary)==="[object ArrayBuffer]"?new Uint8Array(P.dictionary):P.dictionary,($=q.deflateSetDictionary(this.strm,te))!==C)throw new Error(x[$]);this._dict_set=!0}}function T(S,P){var $=new d(P);if($.push(S,!0),$.err)throw $.msg||x[$.err];return $.result}d.prototype.push=function(S,P){var $,te,Z=this.strm,we=this.options.chunkSize;if(this.ended)return!1;te=P===~~P?P:P===!0?4:0,typeof S=="string"?Z.input=f.string2buf(S):U.call(S)==="[object ArrayBuffer]"?Z.input=new Uint8Array(S):Z.input=S,Z.next_in=0,Z.avail_in=Z.input.length;do{if(Z.avail_out===0&&(Z.output=new v.Buf8(we),Z.next_out=0,Z.avail_out=we),($=q.deflate(Z,te))!==1&&$!==C)return this.onEnd($),!(this.ended=!0);Z.avail_out!==0&&(Z.avail_in!==0||te!==4&&te!==2)||(this.options.to==="string"?this.onData(f.buf2binstring(v.shrinkBuf(Z.output,Z.next_out))):this.onData(v.shrinkBuf(Z.output,Z.next_out)))}while((0<Z.avail_in||Z.avail_out===0)&&$!==1);return te===4?($=q.deflateEnd(this.strm),this.onEnd($),this.ended=!0,$===C):te!==2||(this.onEnd(C),!(Z.avail_out=0))},d.prototype.onData=function(S){this.chunks.push(S)},d.prototype.onEnd=function(S){S===C&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg},N.Deflate=d,N.deflate=T,N.deflateRaw=function(S,P){return(P=P||{}).raw=!0,T(S,P)},N.gzip=function(S,P){return(P=P||{}).gzip=!0,T(S,P)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(y,e,N){var q=y("./zlib/inflate"),v=y("./utils/common"),f=y("./utils/strings"),x=y("./zlib/constants"),M=y("./zlib/messages"),U=y("./zlib/zstream"),C=y("./zlib/gzheader"),j=Object.prototype.toString;function w(d){if(!(this instanceof w))return new w(d);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},d||{});var T=this.options;T.raw&&0<=T.windowBits&&T.windowBits<16&&(T.windowBits=-T.windowBits,T.windowBits===0&&(T.windowBits=-15)),!(0<=T.windowBits&&T.windowBits<16)||d&&d.windowBits||(T.windowBits+=32),15<T.windowBits&&T.windowBits<48&&!(15&T.windowBits)&&(T.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new U,this.strm.avail_out=0;var S=q.inflateInit2(this.strm,T.windowBits);if(S!==x.Z_OK)throw new Error(M[S]);this.header=new C,q.inflateGetHeader(this.strm,this.header)}function F(d,T){var S=new w(T);if(S.push(d,!0),S.err)throw S.msg||M[S.err];return S.result}w.prototype.push=function(d,T){var S,P,$,te,Z,we,ge=this.strm,Ce=this.options.chunkSize,he=this.options.dictionary,Ie=!1;if(this.ended)return!1;P=T===~~T?T:T===!0?x.Z_FINISH:x.Z_NO_FLUSH,typeof d=="string"?ge.input=f.binstring2buf(d):j.call(d)==="[object ArrayBuffer]"?ge.input=new Uint8Array(d):ge.input=d,ge.next_in=0,ge.avail_in=ge.input.length;do{if(ge.avail_out===0&&(ge.output=new v.Buf8(Ce),ge.next_out=0,ge.avail_out=Ce),(S=q.inflate(ge,x.Z_NO_FLUSH))===x.Z_NEED_DICT&&he&&(we=typeof he=="string"?f.string2buf(he):j.call(he)==="[object ArrayBuffer]"?new Uint8Array(he):he,S=q.inflateSetDictionary(this.strm,we)),S===x.Z_BUF_ERROR&&Ie===!0&&(S=x.Z_OK,Ie=!1),S!==x.Z_STREAM_END&&S!==x.Z_OK)return this.onEnd(S),!(this.ended=!0);ge.next_out&&(ge.avail_out!==0&&S!==x.Z_STREAM_END&&(ge.avail_in!==0||P!==x.Z_FINISH&&P!==x.Z_SYNC_FLUSH)||(this.options.to==="string"?($=f.utf8border(ge.output,ge.next_out),te=ge.next_out-$,Z=f.buf2string(ge.output,$),ge.next_out=te,ge.avail_out=Ce-te,te&&v.arraySet(ge.output,ge.output,$,te,0),this.onData(Z)):this.onData(v.shrinkBuf(ge.output,ge.next_out)))),ge.avail_in===0&&ge.avail_out===0&&(Ie=!0)}while((0<ge.avail_in||ge.avail_out===0)&&S!==x.Z_STREAM_END);return S===x.Z_STREAM_END&&(P=x.Z_FINISH),P===x.Z_FINISH?(S=q.inflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===x.Z_OK):P!==x.Z_SYNC_FLUSH||(this.onEnd(x.Z_OK),!(ge.avail_out=0))},w.prototype.onData=function(d){this.chunks.push(d)},w.prototype.onEnd=function(d){d===x.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},N.Inflate=w,N.inflate=F,N.inflateRaw=function(d,T){return(T=T||{}).raw=!0,F(d,T)},N.ungzip=F},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(y,e,N){var q=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";N.assign=function(x){for(var M=Array.prototype.slice.call(arguments,1);M.length;){var U=M.shift();if(U){if(typeof U!="object")throw new TypeError(U+"must be non-object");for(var C in U)U.hasOwnProperty(C)&&(x[C]=U[C])}}return x},N.shrinkBuf=function(x,M){return x.length===M?x:x.subarray?x.subarray(0,M):(x.length=M,x)};var v={arraySet:function(x,M,U,C,j){if(M.subarray&&x.subarray)x.set(M.subarray(U,U+C),j);else for(var w=0;w<C;w++)x[j+w]=M[U+w]},flattenChunks:function(x){var M,U,C,j,w,F;for(M=C=0,U=x.length;M<U;M++)C+=x[M].length;for(F=new Uint8Array(C),M=j=0,U=x.length;M<U;M++)w=x[M],F.set(w,j),j+=w.length;return F}},f={arraySet:function(x,M,U,C,j){for(var w=0;w<C;w++)x[j+w]=M[U+w]},flattenChunks:function(x){return[].concat.apply([],x)}};N.setTyped=function(x){x?(N.Buf8=Uint8Array,N.Buf16=Uint16Array,N.Buf32=Int32Array,N.assign(N,v)):(N.Buf8=Array,N.Buf16=Array,N.Buf32=Array,N.assign(N,f))},N.setTyped(q)},{}],42:[function(y,e,N){var q=y("./common"),v=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{f=!1}for(var x=new q.Buf8(256),M=0;M<256;M++)x[M]=252<=M?6:248<=M?5:240<=M?4:224<=M?3:192<=M?2:1;function U(C,j){if(j<65537&&(C.subarray&&f||!C.subarray&&v))return String.fromCharCode.apply(null,q.shrinkBuf(C,j));for(var w="",F=0;F<j;F++)w+=String.fromCharCode(C[F]);return w}x[254]=x[254]=1,N.string2buf=function(C){var j,w,F,d,T,S=C.length,P=0;for(d=0;d<S;d++)(64512&(w=C.charCodeAt(d)))==55296&&d+1<S&&(64512&(F=C.charCodeAt(d+1)))==56320&&(w=65536+(w-55296<<10)+(F-56320),d++),P+=w<128?1:w<2048?2:w<65536?3:4;for(j=new q.Buf8(P),d=T=0;T<P;d++)(64512&(w=C.charCodeAt(d)))==55296&&d+1<S&&(64512&(F=C.charCodeAt(d+1)))==56320&&(w=65536+(w-55296<<10)+(F-56320),d++),w<128?j[T++]=w:(w<2048?j[T++]=192|w>>>6:(w<65536?j[T++]=224|w>>>12:(j[T++]=240|w>>>18,j[T++]=128|w>>>12&63),j[T++]=128|w>>>6&63),j[T++]=128|63&w);return j},N.buf2binstring=function(C){return U(C,C.length)},N.binstring2buf=function(C){for(var j=new q.Buf8(C.length),w=0,F=j.length;w<F;w++)j[w]=C.charCodeAt(w);return j},N.buf2string=function(C,j){var w,F,d,T,S=j||C.length,P=new Array(2*S);for(w=F=0;w<S;)if((d=C[w++])<128)P[F++]=d;else if(4<(T=x[d]))P[F++]=65533,w+=T-1;else{for(d&=T===2?31:T===3?15:7;1<T&&w<S;)d=d<<6|63&C[w++],T--;1<T?P[F++]=65533:d<65536?P[F++]=d:(d-=65536,P[F++]=55296|d>>10&1023,P[F++]=56320|1023&d)}return U(P,F)},N.utf8border=function(C,j){var w;for((j=j||C.length)>C.length&&(j=C.length),w=j-1;0<=w&&(192&C[w])==128;)w--;return w<0||w===0?j:w+x[C[w]]>j?w:j}},{"./common":41}],43:[function(y,e,N){e.exports=function(q,v,f,x){for(var M=65535&q|0,U=q>>>16&65535|0,C=0;f!==0;){for(f-=C=2e3<f?2e3:f;U=U+(M=M+v[x++]|0)|0,--C;);M%=65521,U%=65521}return M|U<<16|0}},{}],44:[function(y,e,N){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(y,e,N){var q=function(){for(var v,f=[],x=0;x<256;x++){v=x;for(var M=0;M<8;M++)v=1&v?3988292384^v>>>1:v>>>1;f[x]=v}return f}();e.exports=function(v,f,x,M){var U=q,C=M+x;v^=-1;for(var j=M;j<C;j++)v=v>>>8^U[255&(v^f[j])];return-1^v}},{}],46:[function(y,e,N){var q,v=y("../utils/common"),f=y("./trees"),x=y("./adler32"),M=y("./crc32"),U=y("./messages"),C=0,j=4,w=0,F=-2,d=-1,T=4,S=2,P=8,$=9,te=286,Z=30,we=19,ge=2*te+1,Ce=15,he=3,Ie=258,Ue=Ie+he+1,B=42,fe=113,c=1,J=2,oe=3,X=4;function ke(l,ve){return l.msg=U[ve],ve}function _e(l){return(l<<1)-(4<l?9:0)}function je(l){for(var ve=l.length;0<=--ve;)l[ve]=0}function ne(l){var ve=l.state,ue=ve.pending;ue>l.avail_out&&(ue=l.avail_out),ue!==0&&(v.arraySet(l.output,ve.pending_buf,ve.pending_out,ue,l.next_out),l.next_out+=ue,ve.pending_out+=ue,l.total_out+=ue,l.avail_out-=ue,ve.pending-=ue,ve.pending===0&&(ve.pending_out=0))}function ee(l,ve){f._tr_flush_block(l,0<=l.block_start?l.block_start:-1,l.strstart-l.block_start,ve),l.block_start=l.strstart,ne(l.strm)}function $e(l,ve){l.pending_buf[l.pending++]=ve}function Me(l,ve){l.pending_buf[l.pending++]=ve>>>8&255,l.pending_buf[l.pending++]=255&ve}function Re(l,ve){var ue,I,k=l.max_chain_length,Y=l.strstart,Te=l.prev_length,ce=l.nice_match,K=l.strstart>l.w_size-Ue?l.strstart-(l.w_size-Ue):0,Ne=l.window,De=l.w_mask,Be=l.prev,Qe=l.strstart+Ie,gt=Ne[Y+Te-1],ct=Ne[Y+Te];l.prev_length>=l.good_match&&(k>>=2),ce>l.lookahead&&(ce=l.lookahead);do if(Ne[(ue=ve)+Te]===ct&&Ne[ue+Te-1]===gt&&Ne[ue]===Ne[Y]&&Ne[++ue]===Ne[Y+1]){Y+=2,ue++;do;while(Ne[++Y]===Ne[++ue]&&Ne[++Y]===Ne[++ue]&&Ne[++Y]===Ne[++ue]&&Ne[++Y]===Ne[++ue]&&Ne[++Y]===Ne[++ue]&&Ne[++Y]===Ne[++ue]&&Ne[++Y]===Ne[++ue]&&Ne[++Y]===Ne[++ue]&&Y<Qe);if(I=Ie-(Qe-Y),Y=Qe-Ie,Te<I){if(l.match_start=ve,ce<=(Te=I))break;gt=Ne[Y+Te-1],ct=Ne[Y+Te]}}while((ve=Be[ve&De])>K&&--k!=0);return Te<=l.lookahead?Te:l.lookahead}function mt(l){var ve,ue,I,k,Y,Te,ce,K,Ne,De,Be=l.w_size;do{if(k=l.window_size-l.lookahead-l.strstart,l.strstart>=Be+(Be-Ue)){for(v.arraySet(l.window,l.window,Be,Be,0),l.match_start-=Be,l.strstart-=Be,l.block_start-=Be,ve=ue=l.hash_size;I=l.head[--ve],l.head[ve]=Be<=I?I-Be:0,--ue;);for(ve=ue=Be;I=l.prev[--ve],l.prev[ve]=Be<=I?I-Be:0,--ue;);k+=Be}if(l.strm.avail_in===0)break;if(Te=l.strm,ce=l.window,K=l.strstart+l.lookahead,Ne=k,De=void 0,De=Te.avail_in,Ne<De&&(De=Ne),ue=De===0?0:(Te.avail_in-=De,v.arraySet(ce,Te.input,Te.next_in,De,K),Te.state.wrap===1?Te.adler=x(Te.adler,ce,De,K):Te.state.wrap===2&&(Te.adler=M(Te.adler,ce,De,K)),Te.next_in+=De,Te.total_in+=De,De),l.lookahead+=ue,l.lookahead+l.insert>=he)for(Y=l.strstart-l.insert,l.ins_h=l.window[Y],l.ins_h=(l.ins_h<<l.hash_shift^l.window[Y+1])&l.hash_mask;l.insert&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[Y+he-1])&l.hash_mask,l.prev[Y&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=Y,Y++,l.insert--,!(l.lookahead+l.insert<he)););}while(l.lookahead<Ue&&l.strm.avail_in!==0)}function wt(l,ve){for(var ue,I;;){if(l.lookahead<Ue){if(mt(l),l.lookahead<Ue&&ve===C)return c;if(l.lookahead===0)break}if(ue=0,l.lookahead>=he&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+he-1])&l.hash_mask,ue=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),ue!==0&&l.strstart-ue<=l.w_size-Ue&&(l.match_length=Re(l,ue)),l.match_length>=he)if(I=f._tr_tally(l,l.strstart-l.match_start,l.match_length-he),l.lookahead-=l.match_length,l.match_length<=l.max_lazy_match&&l.lookahead>=he){for(l.match_length--;l.strstart++,l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+he-1])&l.hash_mask,ue=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart,--l.match_length!=0;);l.strstart++}else l.strstart+=l.match_length,l.match_length=0,l.ins_h=l.window[l.strstart],l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+1])&l.hash_mask;else I=f._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(I&&(ee(l,!1),l.strm.avail_out===0))return c}return l.insert=l.strstart<he-1?l.strstart:he-1,ve===j?(ee(l,!0),l.strm.avail_out===0?oe:X):l.last_lit&&(ee(l,!1),l.strm.avail_out===0)?c:J}function lt(l,ve){for(var ue,I,k;;){if(l.lookahead<Ue){if(mt(l),l.lookahead<Ue&&ve===C)return c;if(l.lookahead===0)break}if(ue=0,l.lookahead>=he&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+he-1])&l.hash_mask,ue=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),l.prev_length=l.match_length,l.prev_match=l.match_start,l.match_length=he-1,ue!==0&&l.prev_length<l.max_lazy_match&&l.strstart-ue<=l.w_size-Ue&&(l.match_length=Re(l,ue),l.match_length<=5&&(l.strategy===1||l.match_length===he&&4096<l.strstart-l.match_start)&&(l.match_length=he-1)),l.prev_length>=he&&l.match_length<=l.prev_length){for(k=l.strstart+l.lookahead-he,I=f._tr_tally(l,l.strstart-1-l.prev_match,l.prev_length-he),l.lookahead-=l.prev_length-1,l.prev_length-=2;++l.strstart<=k&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+he-1])&l.hash_mask,ue=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),--l.prev_length!=0;);if(l.match_available=0,l.match_length=he-1,l.strstart++,I&&(ee(l,!1),l.strm.avail_out===0))return c}else if(l.match_available){if((I=f._tr_tally(l,0,l.window[l.strstart-1]))&&ee(l,!1),l.strstart++,l.lookahead--,l.strm.avail_out===0)return c}else l.match_available=1,l.strstart++,l.lookahead--}return l.match_available&&(I=f._tr_tally(l,0,l.window[l.strstart-1]),l.match_available=0),l.insert=l.strstart<he-1?l.strstart:he-1,ve===j?(ee(l,!0),l.strm.avail_out===0?oe:X):l.last_lit&&(ee(l,!1),l.strm.avail_out===0)?c:J}function ot(l,ve,ue,I,k){this.good_length=l,this.max_lazy=ve,this.nice_length=ue,this.max_chain=I,this.func=k}function ft(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=P,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(2*ge),this.dyn_dtree=new v.Buf16(2*(2*Z+1)),this.bl_tree=new v.Buf16(2*(2*we+1)),je(this.dyn_ltree),je(this.dyn_dtree),je(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(Ce+1),this.heap=new v.Buf16(2*te+1),je(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(2*te+1),je(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ht(l){var ve;return l&&l.state?(l.total_in=l.total_out=0,l.data_type=S,(ve=l.state).pending=0,ve.pending_out=0,ve.wrap<0&&(ve.wrap=-ve.wrap),ve.status=ve.wrap?B:fe,l.adler=ve.wrap===2?0:1,ve.last_flush=C,f._tr_init(ve),w):ke(l,F)}function At(l){var ve=ht(l);return ve===w&&function(ue){ue.window_size=2*ue.w_size,je(ue.head),ue.max_lazy_match=q[ue.level].max_lazy,ue.good_match=q[ue.level].good_length,ue.nice_match=q[ue.level].nice_length,ue.max_chain_length=q[ue.level].max_chain,ue.strstart=0,ue.block_start=0,ue.lookahead=0,ue.insert=0,ue.match_length=ue.prev_length=he-1,ue.match_available=0,ue.ins_h=0}(l.state),ve}function xt(l,ve,ue,I,k,Y){if(!l)return F;var Te=1;if(ve===d&&(ve=6),I<0?(Te=0,I=-I):15<I&&(Te=2,I-=16),k<1||$<k||ue!==P||I<8||15<I||ve<0||9<ve||Y<0||T<Y)return ke(l,F);I===8&&(I=9);var ce=new ft;return(l.state=ce).strm=l,ce.wrap=Te,ce.gzhead=null,ce.w_bits=I,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=k+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+he-1)/he),ce.window=new v.Buf8(2*ce.w_size),ce.head=new v.Buf16(ce.hash_size),ce.prev=new v.Buf16(ce.w_size),ce.lit_bufsize=1<<k+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new v.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=ve,ce.strategy=Y,ce.method=ue,At(l)}q=[new ot(0,0,0,0,function(l,ve){var ue=65535;for(ue>l.pending_buf_size-5&&(ue=l.pending_buf_size-5);;){if(l.lookahead<=1){if(mt(l),l.lookahead===0&&ve===C)return c;if(l.lookahead===0)break}l.strstart+=l.lookahead,l.lookahead=0;var I=l.block_start+ue;if((l.strstart===0||l.strstart>=I)&&(l.lookahead=l.strstart-I,l.strstart=I,ee(l,!1),l.strm.avail_out===0)||l.strstart-l.block_start>=l.w_size-Ue&&(ee(l,!1),l.strm.avail_out===0))return c}return l.insert=0,ve===j?(ee(l,!0),l.strm.avail_out===0?oe:X):(l.strstart>l.block_start&&(ee(l,!1),l.strm.avail_out),c)}),new ot(4,4,8,4,wt),new ot(4,5,16,8,wt),new ot(4,6,32,32,wt),new ot(4,4,16,16,lt),new ot(8,16,32,32,lt),new ot(8,16,128,128,lt),new ot(8,32,128,256,lt),new ot(32,128,258,1024,lt),new ot(32,258,258,4096,lt)],N.deflateInit=function(l,ve){return xt(l,ve,P,15,8,0)},N.deflateInit2=xt,N.deflateReset=At,N.deflateResetKeep=ht,N.deflateSetHeader=function(l,ve){return l&&l.state?l.state.wrap!==2?F:(l.state.gzhead=ve,w):F},N.deflate=function(l,ve){var ue,I,k,Y;if(!l||!l.state||5<ve||ve<0)return l?ke(l,F):F;if(I=l.state,!l.output||!l.input&&l.avail_in!==0||I.status===666&&ve!==j)return ke(l,l.avail_out===0?-5:F);if(I.strm=l,ue=I.last_flush,I.last_flush=ve,I.status===B)if(I.wrap===2)l.adler=0,$e(I,31),$e(I,139),$e(I,8),I.gzhead?($e(I,(I.gzhead.text?1:0)+(I.gzhead.hcrc?2:0)+(I.gzhead.extra?4:0)+(I.gzhead.name?8:0)+(I.gzhead.comment?16:0)),$e(I,255&I.gzhead.time),$e(I,I.gzhead.time>>8&255),$e(I,I.gzhead.time>>16&255),$e(I,I.gzhead.time>>24&255),$e(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),$e(I,255&I.gzhead.os),I.gzhead.extra&&I.gzhead.extra.length&&($e(I,255&I.gzhead.extra.length),$e(I,I.gzhead.extra.length>>8&255)),I.gzhead.hcrc&&(l.adler=M(l.adler,I.pending_buf,I.pending,0)),I.gzindex=0,I.status=69):($e(I,0),$e(I,0),$e(I,0),$e(I,0),$e(I,0),$e(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),$e(I,3),I.status=fe);else{var Te=P+(I.w_bits-8<<4)<<8;Te|=(2<=I.strategy||I.level<2?0:I.level<6?1:I.level===6?2:3)<<6,I.strstart!==0&&(Te|=32),Te+=31-Te%31,I.status=fe,Me(I,Te),I.strstart!==0&&(Me(I,l.adler>>>16),Me(I,65535&l.adler)),l.adler=1}if(I.status===69)if(I.gzhead.extra){for(k=I.pending;I.gzindex<(65535&I.gzhead.extra.length)&&(I.pending!==I.pending_buf_size||(I.gzhead.hcrc&&I.pending>k&&(l.adler=M(l.adler,I.pending_buf,I.pending-k,k)),ne(l),k=I.pending,I.pending!==I.pending_buf_size));)$e(I,255&I.gzhead.extra[I.gzindex]),I.gzindex++;I.gzhead.hcrc&&I.pending>k&&(l.adler=M(l.adler,I.pending_buf,I.pending-k,k)),I.gzindex===I.gzhead.extra.length&&(I.gzindex=0,I.status=73)}else I.status=73;if(I.status===73)if(I.gzhead.name){k=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>k&&(l.adler=M(l.adler,I.pending_buf,I.pending-k,k)),ne(l),k=I.pending,I.pending===I.pending_buf_size)){Y=1;break}Y=I.gzindex<I.gzhead.name.length?255&I.gzhead.name.charCodeAt(I.gzindex++):0,$e(I,Y)}while(Y!==0);I.gzhead.hcrc&&I.pending>k&&(l.adler=M(l.adler,I.pending_buf,I.pending-k,k)),Y===0&&(I.gzindex=0,I.status=91)}else I.status=91;if(I.status===91)if(I.gzhead.comment){k=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>k&&(l.adler=M(l.adler,I.pending_buf,I.pending-k,k)),ne(l),k=I.pending,I.pending===I.pending_buf_size)){Y=1;break}Y=I.gzindex<I.gzhead.comment.length?255&I.gzhead.comment.charCodeAt(I.gzindex++):0,$e(I,Y)}while(Y!==0);I.gzhead.hcrc&&I.pending>k&&(l.adler=M(l.adler,I.pending_buf,I.pending-k,k)),Y===0&&(I.status=103)}else I.status=103;if(I.status===103&&(I.gzhead.hcrc?(I.pending+2>I.pending_buf_size&&ne(l),I.pending+2<=I.pending_buf_size&&($e(I,255&l.adler),$e(I,l.adler>>8&255),l.adler=0,I.status=fe)):I.status=fe),I.pending!==0){if(ne(l),l.avail_out===0)return I.last_flush=-1,w}else if(l.avail_in===0&&_e(ve)<=_e(ue)&&ve!==j)return ke(l,-5);if(I.status===666&&l.avail_in!==0)return ke(l,-5);if(l.avail_in!==0||I.lookahead!==0||ve!==C&&I.status!==666){var ce=I.strategy===2?function(K,Ne){for(var De;;){if(K.lookahead===0&&(mt(K),K.lookahead===0)){if(Ne===C)return c;break}if(K.match_length=0,De=f._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++,De&&(ee(K,!1),K.strm.avail_out===0))return c}return K.insert=0,Ne===j?(ee(K,!0),K.strm.avail_out===0?oe:X):K.last_lit&&(ee(K,!1),K.strm.avail_out===0)?c:J}(I,ve):I.strategy===3?function(K,Ne){for(var De,Be,Qe,gt,ct=K.window;;){if(K.lookahead<=Ie){if(mt(K),K.lookahead<=Ie&&Ne===C)return c;if(K.lookahead===0)break}if(K.match_length=0,K.lookahead>=he&&0<K.strstart&&(Be=ct[Qe=K.strstart-1])===ct[++Qe]&&Be===ct[++Qe]&&Be===ct[++Qe]){gt=K.strstart+Ie;do;while(Be===ct[++Qe]&&Be===ct[++Qe]&&Be===ct[++Qe]&&Be===ct[++Qe]&&Be===ct[++Qe]&&Be===ct[++Qe]&&Be===ct[++Qe]&&Be===ct[++Qe]&&Qe<gt);K.match_length=Ie-(gt-Qe),K.match_length>K.lookahead&&(K.match_length=K.lookahead)}if(K.match_length>=he?(De=f._tr_tally(K,1,K.match_length-he),K.lookahead-=K.match_length,K.strstart+=K.match_length,K.match_length=0):(De=f._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++),De&&(ee(K,!1),K.strm.avail_out===0))return c}return K.insert=0,Ne===j?(ee(K,!0),K.strm.avail_out===0?oe:X):K.last_lit&&(ee(K,!1),K.strm.avail_out===0)?c:J}(I,ve):q[I.level].func(I,ve);if(ce!==oe&&ce!==X||(I.status=666),ce===c||ce===oe)return l.avail_out===0&&(I.last_flush=-1),w;if(ce===J&&(ve===1?f._tr_align(I):ve!==5&&(f._tr_stored_block(I,0,0,!1),ve===3&&(je(I.head),I.lookahead===0&&(I.strstart=0,I.block_start=0,I.insert=0))),ne(l),l.avail_out===0))return I.last_flush=-1,w}return ve!==j?w:I.wrap<=0?1:(I.wrap===2?($e(I,255&l.adler),$e(I,l.adler>>8&255),$e(I,l.adler>>16&255),$e(I,l.adler>>24&255),$e(I,255&l.total_in),$e(I,l.total_in>>8&255),$e(I,l.total_in>>16&255),$e(I,l.total_in>>24&255)):(Me(I,l.adler>>>16),Me(I,65535&l.adler)),ne(l),0<I.wrap&&(I.wrap=-I.wrap),I.pending!==0?w:1)},N.deflateEnd=function(l){var ve;return l&&l.state?(ve=l.state.status)!==B&&ve!==69&&ve!==73&&ve!==91&&ve!==103&&ve!==fe&&ve!==666?ke(l,F):(l.state=null,ve===fe?ke(l,-3):w):F},N.deflateSetDictionary=function(l,ve){var ue,I,k,Y,Te,ce,K,Ne,De=ve.length;if(!l||!l.state||(Y=(ue=l.state).wrap)===2||Y===1&&ue.status!==B||ue.lookahead)return F;for(Y===1&&(l.adler=x(l.adler,ve,De,0)),ue.wrap=0,De>=ue.w_size&&(Y===0&&(je(ue.head),ue.strstart=0,ue.block_start=0,ue.insert=0),Ne=new v.Buf8(ue.w_size),v.arraySet(Ne,ve,De-ue.w_size,ue.w_size,0),ve=Ne,De=ue.w_size),Te=l.avail_in,ce=l.next_in,K=l.input,l.avail_in=De,l.next_in=0,l.input=ve,mt(ue);ue.lookahead>=he;){for(I=ue.strstart,k=ue.lookahead-(he-1);ue.ins_h=(ue.ins_h<<ue.hash_shift^ue.window[I+he-1])&ue.hash_mask,ue.prev[I&ue.w_mask]=ue.head[ue.ins_h],ue.head[ue.ins_h]=I,I++,--k;);ue.strstart=I,ue.lookahead=he-1,mt(ue)}return ue.strstart+=ue.lookahead,ue.block_start=ue.strstart,ue.insert=ue.lookahead,ue.lookahead=0,ue.match_length=ue.prev_length=he-1,ue.match_available=0,l.next_in=ce,l.input=K,l.avail_in=Te,ue.wrap=Y,w},N.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(y,e,N){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(y,e,N){e.exports=function(q,v){var f,x,M,U,C,j,w,F,d,T,S,P,$,te,Z,we,ge,Ce,he,Ie,Ue,B,fe,c,J;f=q.state,x=q.next_in,c=q.input,M=x+(q.avail_in-5),U=q.next_out,J=q.output,C=U-(v-q.avail_out),j=U+(q.avail_out-257),w=f.dmax,F=f.wsize,d=f.whave,T=f.wnext,S=f.window,P=f.hold,$=f.bits,te=f.lencode,Z=f.distcode,we=(1<<f.lenbits)-1,ge=(1<<f.distbits)-1;e:do{$<15&&(P+=c[x++]<<$,$+=8,P+=c[x++]<<$,$+=8),Ce=te[P&we];t:for(;;){if(P>>>=he=Ce>>>24,$-=he,(he=Ce>>>16&255)===0)J[U++]=65535&Ce;else{if(!(16&he)){if(!(64&he)){Ce=te[(65535&Ce)+(P&(1<<he)-1)];continue t}if(32&he){f.mode=12;break e}q.msg="invalid literal/length code",f.mode=30;break e}Ie=65535&Ce,(he&=15)&&($<he&&(P+=c[x++]<<$,$+=8),Ie+=P&(1<<he)-1,P>>>=he,$-=he),$<15&&(P+=c[x++]<<$,$+=8,P+=c[x++]<<$,$+=8),Ce=Z[P&ge];n:for(;;){if(P>>>=he=Ce>>>24,$-=he,!(16&(he=Ce>>>16&255))){if(!(64&he)){Ce=Z[(65535&Ce)+(P&(1<<he)-1)];continue n}q.msg="invalid distance code",f.mode=30;break e}if(Ue=65535&Ce,$<(he&=15)&&(P+=c[x++]<<$,($+=8)<he&&(P+=c[x++]<<$,$+=8)),w<(Ue+=P&(1<<he)-1)){q.msg="invalid distance too far back",f.mode=30;break e}if(P>>>=he,$-=he,(he=U-C)<Ue){if(d<(he=Ue-he)&&f.sane){q.msg="invalid distance too far back",f.mode=30;break e}if(fe=S,(B=0)===T){if(B+=F-he,he<Ie){for(Ie-=he;J[U++]=S[B++],--he;);B=U-Ue,fe=J}}else if(T<he){if(B+=F+T-he,(he-=T)<Ie){for(Ie-=he;J[U++]=S[B++],--he;);if(B=0,T<Ie){for(Ie-=he=T;J[U++]=S[B++],--he;);B=U-Ue,fe=J}}}else if(B+=T-he,he<Ie){for(Ie-=he;J[U++]=S[B++],--he;);B=U-Ue,fe=J}for(;2<Ie;)J[U++]=fe[B++],J[U++]=fe[B++],J[U++]=fe[B++],Ie-=3;Ie&&(J[U++]=fe[B++],1<Ie&&(J[U++]=fe[B++]))}else{for(B=U-Ue;J[U++]=J[B++],J[U++]=J[B++],J[U++]=J[B++],2<(Ie-=3););Ie&&(J[U++]=J[B++],1<Ie&&(J[U++]=J[B++]))}break}}break}}while(x<M&&U<j);x-=Ie=$>>3,P&=(1<<($-=Ie<<3))-1,q.next_in=x,q.next_out=U,q.avail_in=x<M?M-x+5:5-(x-M),q.avail_out=U<j?j-U+257:257-(U-j),f.hold=P,f.bits=$}},{}],49:[function(y,e,N){var q=y("../utils/common"),v=y("./adler32"),f=y("./crc32"),x=y("./inffast"),M=y("./inftrees"),U=1,C=2,j=0,w=-2,F=1,d=852,T=592;function S(B){return(B>>>24&255)+(B>>>8&65280)+((65280&B)<<8)+((255&B)<<24)}function P(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new q.Buf16(320),this.work=new q.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function $(B){var fe;return B&&B.state?(fe=B.state,B.total_in=B.total_out=fe.total=0,B.msg="",fe.wrap&&(B.adler=1&fe.wrap),fe.mode=F,fe.last=0,fe.havedict=0,fe.dmax=32768,fe.head=null,fe.hold=0,fe.bits=0,fe.lencode=fe.lendyn=new q.Buf32(d),fe.distcode=fe.distdyn=new q.Buf32(T),fe.sane=1,fe.back=-1,j):w}function te(B){var fe;return B&&B.state?((fe=B.state).wsize=0,fe.whave=0,fe.wnext=0,$(B)):w}function Z(B,fe){var c,J;return B&&B.state?(J=B.state,fe<0?(c=0,fe=-fe):(c=1+(fe>>4),fe<48&&(fe&=15)),fe&&(fe<8||15<fe)?w:(J.window!==null&&J.wbits!==fe&&(J.window=null),J.wrap=c,J.wbits=fe,te(B))):w}function we(B,fe){var c,J;return B?(J=new P,(B.state=J).window=null,(c=Z(B,fe))!==j&&(B.state=null),c):w}var ge,Ce,he=!0;function Ie(B){if(he){var fe;for(ge=new q.Buf32(512),Ce=new q.Buf32(32),fe=0;fe<144;)B.lens[fe++]=8;for(;fe<256;)B.lens[fe++]=9;for(;fe<280;)B.lens[fe++]=7;for(;fe<288;)B.lens[fe++]=8;for(M(U,B.lens,0,288,ge,0,B.work,{bits:9}),fe=0;fe<32;)B.lens[fe++]=5;M(C,B.lens,0,32,Ce,0,B.work,{bits:5}),he=!1}B.lencode=ge,B.lenbits=9,B.distcode=Ce,B.distbits=5}function Ue(B,fe,c,J){var oe,X=B.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new q.Buf8(X.wsize)),J>=X.wsize?(q.arraySet(X.window,fe,c-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(J<(oe=X.wsize-X.wnext)&&(oe=J),q.arraySet(X.window,fe,c-J,oe,X.wnext),(J-=oe)?(q.arraySet(X.window,fe,c-J,J,0),X.wnext=J,X.whave=X.wsize):(X.wnext+=oe,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=oe))),0}N.inflateReset=te,N.inflateReset2=Z,N.inflateResetKeep=$,N.inflateInit=function(B){return we(B,15)},N.inflateInit2=we,N.inflate=function(B,fe){var c,J,oe,X,ke,_e,je,ne,ee,$e,Me,Re,mt,wt,lt,ot,ft,ht,At,xt,l,ve,ue,I,k=0,Y=new q.Buf8(4),Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!B||!B.state||!B.output||!B.input&&B.avail_in!==0)return w;(c=B.state).mode===12&&(c.mode=13),ke=B.next_out,oe=B.output,je=B.avail_out,X=B.next_in,J=B.input,_e=B.avail_in,ne=c.hold,ee=c.bits,$e=_e,Me=je,ve=j;e:for(;;)switch(c.mode){case F:if(c.wrap===0){c.mode=13;break}for(;ee<16;){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}if(2&c.wrap&&ne===35615){Y[c.check=0]=255&ne,Y[1]=ne>>>8&255,c.check=f(c.check,Y,2,0),ee=ne=0,c.mode=2;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&ne)<<8)+(ne>>8))%31){B.msg="incorrect header check",c.mode=30;break}if((15&ne)!=8){B.msg="unknown compression method",c.mode=30;break}if(ee-=4,l=8+(15&(ne>>>=4)),c.wbits===0)c.wbits=l;else if(l>c.wbits){B.msg="invalid window size",c.mode=30;break}c.dmax=1<<l,B.adler=c.check=1,c.mode=512&ne?10:12,ee=ne=0;break;case 2:for(;ee<16;){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}if(c.flags=ne,(255&c.flags)!=8){B.msg="unknown compression method",c.mode=30;break}if(57344&c.flags){B.msg="unknown header flags set",c.mode=30;break}c.head&&(c.head.text=ne>>8&1),512&c.flags&&(Y[0]=255&ne,Y[1]=ne>>>8&255,c.check=f(c.check,Y,2,0)),ee=ne=0,c.mode=3;case 3:for(;ee<32;){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}c.head&&(c.head.time=ne),512&c.flags&&(Y[0]=255&ne,Y[1]=ne>>>8&255,Y[2]=ne>>>16&255,Y[3]=ne>>>24&255,c.check=f(c.check,Y,4,0)),ee=ne=0,c.mode=4;case 4:for(;ee<16;){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}c.head&&(c.head.xflags=255&ne,c.head.os=ne>>8),512&c.flags&&(Y[0]=255&ne,Y[1]=ne>>>8&255,c.check=f(c.check,Y,2,0)),ee=ne=0,c.mode=5;case 5:if(1024&c.flags){for(;ee<16;){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}c.length=ne,c.head&&(c.head.extra_len=ne),512&c.flags&&(Y[0]=255&ne,Y[1]=ne>>>8&255,c.check=f(c.check,Y,2,0)),ee=ne=0}else c.head&&(c.head.extra=null);c.mode=6;case 6:if(1024&c.flags&&(_e<(Re=c.length)&&(Re=_e),Re&&(c.head&&(l=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),q.arraySet(c.head.extra,J,X,Re,l)),512&c.flags&&(c.check=f(c.check,J,Re,X)),_e-=Re,X+=Re,c.length-=Re),c.length))break e;c.length=0,c.mode=7;case 7:if(2048&c.flags){if(_e===0)break e;for(Re=0;l=J[X+Re++],c.head&&l&&c.length<65536&&(c.head.name+=String.fromCharCode(l)),l&&Re<_e;);if(512&c.flags&&(c.check=f(c.check,J,Re,X)),_e-=Re,X+=Re,l)break e}else c.head&&(c.head.name=null);c.length=0,c.mode=8;case 8:if(4096&c.flags){if(_e===0)break e;for(Re=0;l=J[X+Re++],c.head&&l&&c.length<65536&&(c.head.comment+=String.fromCharCode(l)),l&&Re<_e;);if(512&c.flags&&(c.check=f(c.check,J,Re,X)),_e-=Re,X+=Re,l)break e}else c.head&&(c.head.comment=null);c.mode=9;case 9:if(512&c.flags){for(;ee<16;){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}if(ne!==(65535&c.check)){B.msg="header crc mismatch",c.mode=30;break}ee=ne=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),B.adler=c.check=0,c.mode=12;break;case 10:for(;ee<32;){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}B.adler=c.check=S(ne),ee=ne=0,c.mode=11;case 11:if(c.havedict===0)return B.next_out=ke,B.avail_out=je,B.next_in=X,B.avail_in=_e,c.hold=ne,c.bits=ee,2;B.adler=c.check=1,c.mode=12;case 12:if(fe===5||fe===6)break e;case 13:if(c.last){ne>>>=7&ee,ee-=7&ee,c.mode=27;break}for(;ee<3;){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}switch(c.last=1&ne,ee-=1,3&(ne>>>=1)){case 0:c.mode=14;break;case 1:if(Ie(c),c.mode=20,fe!==6)break;ne>>>=2,ee-=2;break e;case 2:c.mode=17;break;case 3:B.msg="invalid block type",c.mode=30}ne>>>=2,ee-=2;break;case 14:for(ne>>>=7&ee,ee-=7&ee;ee<32;){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}if((65535&ne)!=(ne>>>16^65535)){B.msg="invalid stored block lengths",c.mode=30;break}if(c.length=65535&ne,ee=ne=0,c.mode=15,fe===6)break e;case 15:c.mode=16;case 16:if(Re=c.length){if(_e<Re&&(Re=_e),je<Re&&(Re=je),Re===0)break e;q.arraySet(oe,J,X,Re,ke),_e-=Re,X+=Re,je-=Re,ke+=Re,c.length-=Re;break}c.mode=12;break;case 17:for(;ee<14;){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}if(c.nlen=257+(31&ne),ne>>>=5,ee-=5,c.ndist=1+(31&ne),ne>>>=5,ee-=5,c.ncode=4+(15&ne),ne>>>=4,ee-=4,286<c.nlen||30<c.ndist){B.msg="too many length or distance symbols",c.mode=30;break}c.have=0,c.mode=18;case 18:for(;c.have<c.ncode;){for(;ee<3;){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}c.lens[Te[c.have++]]=7&ne,ne>>>=3,ee-=3}for(;c.have<19;)c.lens[Te[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,ue={bits:c.lenbits},ve=M(0,c.lens,0,19,c.lencode,0,c.work,ue),c.lenbits=ue.bits,ve){B.msg="invalid code lengths set",c.mode=30;break}c.have=0,c.mode=19;case 19:for(;c.have<c.nlen+c.ndist;){for(;ot=(k=c.lencode[ne&(1<<c.lenbits)-1])>>>16&255,ft=65535&k,!((lt=k>>>24)<=ee);){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}if(ft<16)ne>>>=lt,ee-=lt,c.lens[c.have++]=ft;else{if(ft===16){for(I=lt+2;ee<I;){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}if(ne>>>=lt,ee-=lt,c.have===0){B.msg="invalid bit length repeat",c.mode=30;break}l=c.lens[c.have-1],Re=3+(3&ne),ne>>>=2,ee-=2}else if(ft===17){for(I=lt+3;ee<I;){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}ee-=lt,l=0,Re=3+(7&(ne>>>=lt)),ne>>>=3,ee-=3}else{for(I=lt+7;ee<I;){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}ee-=lt,l=0,Re=11+(127&(ne>>>=lt)),ne>>>=7,ee-=7}if(c.have+Re>c.nlen+c.ndist){B.msg="invalid bit length repeat",c.mode=30;break}for(;Re--;)c.lens[c.have++]=l}}if(c.mode===30)break;if(c.lens[256]===0){B.msg="invalid code -- missing end-of-block",c.mode=30;break}if(c.lenbits=9,ue={bits:c.lenbits},ve=M(U,c.lens,0,c.nlen,c.lencode,0,c.work,ue),c.lenbits=ue.bits,ve){B.msg="invalid literal/lengths set",c.mode=30;break}if(c.distbits=6,c.distcode=c.distdyn,ue={bits:c.distbits},ve=M(C,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,ue),c.distbits=ue.bits,ve){B.msg="invalid distances set",c.mode=30;break}if(c.mode=20,fe===6)break e;case 20:c.mode=21;case 21:if(6<=_e&&258<=je){B.next_out=ke,B.avail_out=je,B.next_in=X,B.avail_in=_e,c.hold=ne,c.bits=ee,x(B,Me),ke=B.next_out,oe=B.output,je=B.avail_out,X=B.next_in,J=B.input,_e=B.avail_in,ne=c.hold,ee=c.bits,c.mode===12&&(c.back=-1);break}for(c.back=0;ot=(k=c.lencode[ne&(1<<c.lenbits)-1])>>>16&255,ft=65535&k,!((lt=k>>>24)<=ee);){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}if(ot&&!(240&ot)){for(ht=lt,At=ot,xt=ft;ot=(k=c.lencode[xt+((ne&(1<<ht+At)-1)>>ht)])>>>16&255,ft=65535&k,!(ht+(lt=k>>>24)<=ee);){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}ne>>>=ht,ee-=ht,c.back+=ht}if(ne>>>=lt,ee-=lt,c.back+=lt,c.length=ft,ot===0){c.mode=26;break}if(32&ot){c.back=-1,c.mode=12;break}if(64&ot){B.msg="invalid literal/length code",c.mode=30;break}c.extra=15&ot,c.mode=22;case 22:if(c.extra){for(I=c.extra;ee<I;){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}c.length+=ne&(1<<c.extra)-1,ne>>>=c.extra,ee-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=23;case 23:for(;ot=(k=c.distcode[ne&(1<<c.distbits)-1])>>>16&255,ft=65535&k,!((lt=k>>>24)<=ee);){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}if(!(240&ot)){for(ht=lt,At=ot,xt=ft;ot=(k=c.distcode[xt+((ne&(1<<ht+At)-1)>>ht)])>>>16&255,ft=65535&k,!(ht+(lt=k>>>24)<=ee);){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}ne>>>=ht,ee-=ht,c.back+=ht}if(ne>>>=lt,ee-=lt,c.back+=lt,64&ot){B.msg="invalid distance code",c.mode=30;break}c.offset=ft,c.extra=15&ot,c.mode=24;case 24:if(c.extra){for(I=c.extra;ee<I;){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}c.offset+=ne&(1<<c.extra)-1,ne>>>=c.extra,ee-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){B.msg="invalid distance too far back",c.mode=30;break}c.mode=25;case 25:if(je===0)break e;if(Re=Me-je,c.offset>Re){if((Re=c.offset-Re)>c.whave&&c.sane){B.msg="invalid distance too far back",c.mode=30;break}mt=Re>c.wnext?(Re-=c.wnext,c.wsize-Re):c.wnext-Re,Re>c.length&&(Re=c.length),wt=c.window}else wt=oe,mt=ke-c.offset,Re=c.length;for(je<Re&&(Re=je),je-=Re,c.length-=Re;oe[ke++]=wt[mt++],--Re;);c.length===0&&(c.mode=21);break;case 26:if(je===0)break e;oe[ke++]=c.length,je--,c.mode=21;break;case 27:if(c.wrap){for(;ee<32;){if(_e===0)break e;_e--,ne|=J[X++]<<ee,ee+=8}if(Me-=je,B.total_out+=Me,c.total+=Me,Me&&(B.adler=c.check=c.flags?f(c.check,oe,Me,ke-Me):v(c.check,oe,Me,ke-Me)),Me=je,(c.flags?ne:S(ne))!==c.check){B.msg="incorrect data check",c.mode=30;break}ee=ne=0}c.mode=28;case 28:if(c.wrap&&c.flags){for(;ee<32;){if(_e===0)break e;_e--,ne+=J[X++]<<ee,ee+=8}if(ne!==(4294967295&c.total)){B.msg="incorrect length check",c.mode=30;break}ee=ne=0}c.mode=29;case 29:ve=1;break e;case 30:ve=-3;break e;case 31:return-4;case 32:default:return w}return B.next_out=ke,B.avail_out=je,B.next_in=X,B.avail_in=_e,c.hold=ne,c.bits=ee,(c.wsize||Me!==B.avail_out&&c.mode<30&&(c.mode<27||fe!==4))&&Ue(B,B.output,B.next_out,Me-B.avail_out)?(c.mode=31,-4):($e-=B.avail_in,Me-=B.avail_out,B.total_in+=$e,B.total_out+=Me,c.total+=Me,c.wrap&&Me&&(B.adler=c.check=c.flags?f(c.check,oe,Me,B.next_out-Me):v(c.check,oe,Me,B.next_out-Me)),B.data_type=c.bits+(c.last?64:0)+(c.mode===12?128:0)+(c.mode===20||c.mode===15?256:0),($e==0&&Me===0||fe===4)&&ve===j&&(ve=-5),ve)},N.inflateEnd=function(B){if(!B||!B.state)return w;var fe=B.state;return fe.window&&(fe.window=null),B.state=null,j},N.inflateGetHeader=function(B,fe){var c;return B&&B.state&&2&(c=B.state).wrap?((c.head=fe).done=!1,j):w},N.inflateSetDictionary=function(B,fe){var c,J=fe.length;return B&&B.state?(c=B.state).wrap!==0&&c.mode!==11?w:c.mode===11&&v(1,fe,J,0)!==c.check?-3:Ue(B,fe,J,J)?(c.mode=31,-4):(c.havedict=1,j):w},N.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(y,e,N){var q=y("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],M=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(U,C,j,w,F,d,T,S){var P,$,te,Z,we,ge,Ce,he,Ie,Ue=S.bits,B=0,fe=0,c=0,J=0,oe=0,X=0,ke=0,_e=0,je=0,ne=0,ee=null,$e=0,Me=new q.Buf16(16),Re=new q.Buf16(16),mt=null,wt=0;for(B=0;B<=15;B++)Me[B]=0;for(fe=0;fe<w;fe++)Me[C[j+fe]]++;for(oe=Ue,J=15;1<=J&&Me[J]===0;J--);if(J<oe&&(oe=J),J===0)return F[d++]=20971520,F[d++]=20971520,S.bits=1,0;for(c=1;c<J&&Me[c]===0;c++);for(oe<c&&(oe=c),B=_e=1;B<=15;B++)if(_e<<=1,(_e-=Me[B])<0)return-1;if(0<_e&&(U===0||J!==1))return-1;for(Re[1]=0,B=1;B<15;B++)Re[B+1]=Re[B]+Me[B];for(fe=0;fe<w;fe++)C[j+fe]!==0&&(T[Re[C[j+fe]]++]=fe);if(ge=U===0?(ee=mt=T,19):U===1?(ee=v,$e-=257,mt=f,wt-=257,256):(ee=x,mt=M,-1),B=c,we=d,ke=fe=ne=0,te=-1,Z=(je=1<<(X=oe))-1,U===1&&852<je||U===2&&592<je)return 1;for(;;){for(Ce=B-ke,Ie=T[fe]<ge?(he=0,T[fe]):T[fe]>ge?(he=mt[wt+T[fe]],ee[$e+T[fe]]):(he=96,0),P=1<<B-ke,c=$=1<<X;F[we+(ne>>ke)+($-=P)]=Ce<<24|he<<16|Ie|0,$!==0;);for(P=1<<B-1;ne&P;)P>>=1;if(P!==0?(ne&=P-1,ne+=P):ne=0,fe++,--Me[B]==0){if(B===J)break;B=C[j+T[fe]]}if(oe<B&&(ne&Z)!==te){for(ke===0&&(ke=oe),we+=c,_e=1<<(X=B-ke);X+ke<J&&!((_e-=Me[X+ke])<=0);)X++,_e<<=1;if(je+=1<<X,U===1&&852<je||U===2&&592<je)return 1;F[te=ne&Z]=oe<<24|X<<16|we-d|0}}return ne!==0&&(F[we+ne]=B-ke<<24|64<<16|0),S.bits=oe,0}},{"../utils/common":41}],51:[function(y,e,N){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(y,e,N){var q=y("../utils/common"),v=0,f=1;function x(k){for(var Y=k.length;0<=--Y;)k[Y]=0}var M=0,U=29,C=256,j=C+1+U,w=30,F=19,d=2*j+1,T=15,S=16,P=7,$=256,te=16,Z=17,we=18,ge=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Ce=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],he=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ue=new Array(2*(j+2));x(Ue);var B=new Array(2*w);x(B);var fe=new Array(512);x(fe);var c=new Array(256);x(c);var J=new Array(U);x(J);var oe,X,ke,_e=new Array(w);function je(k,Y,Te,ce,K){this.static_tree=k,this.extra_bits=Y,this.extra_base=Te,this.elems=ce,this.max_length=K,this.has_stree=k&&k.length}function ne(k,Y){this.dyn_tree=k,this.max_code=0,this.stat_desc=Y}function ee(k){return k<256?fe[k]:fe[256+(k>>>7)]}function $e(k,Y){k.pending_buf[k.pending++]=255&Y,k.pending_buf[k.pending++]=Y>>>8&255}function Me(k,Y,Te){k.bi_valid>S-Te?(k.bi_buf|=Y<<k.bi_valid&65535,$e(k,k.bi_buf),k.bi_buf=Y>>S-k.bi_valid,k.bi_valid+=Te-S):(k.bi_buf|=Y<<k.bi_valid&65535,k.bi_valid+=Te)}function Re(k,Y,Te){Me(k,Te[2*Y],Te[2*Y+1])}function mt(k,Y){for(var Te=0;Te|=1&k,k>>>=1,Te<<=1,0<--Y;);return Te>>>1}function wt(k,Y,Te){var ce,K,Ne=new Array(T+1),De=0;for(ce=1;ce<=T;ce++)Ne[ce]=De=De+Te[ce-1]<<1;for(K=0;K<=Y;K++){var Be=k[2*K+1];Be!==0&&(k[2*K]=mt(Ne[Be]++,Be))}}function lt(k){var Y;for(Y=0;Y<j;Y++)k.dyn_ltree[2*Y]=0;for(Y=0;Y<w;Y++)k.dyn_dtree[2*Y]=0;for(Y=0;Y<F;Y++)k.bl_tree[2*Y]=0;k.dyn_ltree[2*$]=1,k.opt_len=k.static_len=0,k.last_lit=k.matches=0}function ot(k){8<k.bi_valid?$e(k,k.bi_buf):0<k.bi_valid&&(k.pending_buf[k.pending++]=k.bi_buf),k.bi_buf=0,k.bi_valid=0}function ft(k,Y,Te,ce){var K=2*Y,Ne=2*Te;return k[K]<k[Ne]||k[K]===k[Ne]&&ce[Y]<=ce[Te]}function ht(k,Y,Te){for(var ce=k.heap[Te],K=Te<<1;K<=k.heap_len&&(K<k.heap_len&&ft(Y,k.heap[K+1],k.heap[K],k.depth)&&K++,!ft(Y,ce,k.heap[K],k.depth));)k.heap[Te]=k.heap[K],Te=K,K<<=1;k.heap[Te]=ce}function At(k,Y,Te){var ce,K,Ne,De,Be=0;if(k.last_lit!==0)for(;ce=k.pending_buf[k.d_buf+2*Be]<<8|k.pending_buf[k.d_buf+2*Be+1],K=k.pending_buf[k.l_buf+Be],Be++,ce===0?Re(k,K,Y):(Re(k,(Ne=c[K])+C+1,Y),(De=ge[Ne])!==0&&Me(k,K-=J[Ne],De),Re(k,Ne=ee(--ce),Te),(De=Ce[Ne])!==0&&Me(k,ce-=_e[Ne],De)),Be<k.last_lit;);Re(k,$,Y)}function xt(k,Y){var Te,ce,K,Ne=Y.dyn_tree,De=Y.stat_desc.static_tree,Be=Y.stat_desc.has_stree,Qe=Y.stat_desc.elems,gt=-1;for(k.heap_len=0,k.heap_max=d,Te=0;Te<Qe;Te++)Ne[2*Te]!==0?(k.heap[++k.heap_len]=gt=Te,k.depth[Te]=0):Ne[2*Te+1]=0;for(;k.heap_len<2;)Ne[2*(K=k.heap[++k.heap_len]=gt<2?++gt:0)]=1,k.depth[K]=0,k.opt_len--,Be&&(k.static_len-=De[2*K+1]);for(Y.max_code=gt,Te=k.heap_len>>1;1<=Te;Te--)ht(k,Ne,Te);for(K=Qe;Te=k.heap[1],k.heap[1]=k.heap[k.heap_len--],ht(k,Ne,1),ce=k.heap[1],k.heap[--k.heap_max]=Te,k.heap[--k.heap_max]=ce,Ne[2*K]=Ne[2*Te]+Ne[2*ce],k.depth[K]=(k.depth[Te]>=k.depth[ce]?k.depth[Te]:k.depth[ce])+1,Ne[2*Te+1]=Ne[2*ce+1]=K,k.heap[1]=K++,ht(k,Ne,1),2<=k.heap_len;);k.heap[--k.heap_max]=k.heap[1],function(ct,Pt){var Wt,Rt,st,St,o,rt,Nt=Pt.dyn_tree,nn=Pt.max_code,hn=Pt.stat_desc.static_tree,mn=Pt.stat_desc.has_stree,gn=Pt.stat_desc.extra_bits,rn=Pt.stat_desc.extra_base,$t=Pt.stat_desc.max_length,Qt=0;for(St=0;St<=T;St++)ct.bl_count[St]=0;for(Nt[2*ct.heap[ct.heap_max]+1]=0,Wt=ct.heap_max+1;Wt<d;Wt++)$t<(St=Nt[2*Nt[2*(Rt=ct.heap[Wt])+1]+1]+1)&&(St=$t,Qt++),Nt[2*Rt+1]=St,nn<Rt||(ct.bl_count[St]++,o=0,rn<=Rt&&(o=gn[Rt-rn]),rt=Nt[2*Rt],ct.opt_len+=rt*(St+o),mn&&(ct.static_len+=rt*(hn[2*Rt+1]+o)));if(Qt!==0){do{for(St=$t-1;ct.bl_count[St]===0;)St--;ct.bl_count[St]--,ct.bl_count[St+1]+=2,ct.bl_count[$t]--,Qt-=2}while(0<Qt);for(St=$t;St!==0;St--)for(Rt=ct.bl_count[St];Rt!==0;)nn<(st=ct.heap[--Wt])||(Nt[2*st+1]!==St&&(ct.opt_len+=(St-Nt[2*st+1])*Nt[2*st],Nt[2*st+1]=St),Rt--)}}(k,Y),wt(Ne,gt,k.bl_count)}function l(k,Y,Te){var ce,K,Ne=-1,De=Y[1],Be=0,Qe=7,gt=4;for(De===0&&(Qe=138,gt=3),Y[2*(Te+1)+1]=65535,ce=0;ce<=Te;ce++)K=De,De=Y[2*(ce+1)+1],++Be<Qe&&K===De||(Be<gt?k.bl_tree[2*K]+=Be:K!==0?(K!==Ne&&k.bl_tree[2*K]++,k.bl_tree[2*te]++):Be<=10?k.bl_tree[2*Z]++:k.bl_tree[2*we]++,Ne=K,gt=(Be=0)===De?(Qe=138,3):K===De?(Qe=6,3):(Qe=7,4))}function ve(k,Y,Te){var ce,K,Ne=-1,De=Y[1],Be=0,Qe=7,gt=4;for(De===0&&(Qe=138,gt=3),ce=0;ce<=Te;ce++)if(K=De,De=Y[2*(ce+1)+1],!(++Be<Qe&&K===De)){if(Be<gt)for(;Re(k,K,k.bl_tree),--Be!=0;);else K!==0?(K!==Ne&&(Re(k,K,k.bl_tree),Be--),Re(k,te,k.bl_tree),Me(k,Be-3,2)):Be<=10?(Re(k,Z,k.bl_tree),Me(k,Be-3,3)):(Re(k,we,k.bl_tree),Me(k,Be-11,7));Ne=K,gt=(Be=0)===De?(Qe=138,3):K===De?(Qe=6,3):(Qe=7,4)}}x(_e);var ue=!1;function I(k,Y,Te,ce){Me(k,(M<<1)+(ce?1:0),3),function(K,Ne,De,Be){ot(K),$e(K,De),$e(K,~De),q.arraySet(K.pending_buf,K.window,Ne,De,K.pending),K.pending+=De}(k,Y,Te)}N._tr_init=function(k){ue||(function(){var Y,Te,ce,K,Ne,De=new Array(T+1);for(K=ce=0;K<U-1;K++)for(J[K]=ce,Y=0;Y<1<<ge[K];Y++)c[ce++]=K;for(c[ce-1]=K,K=Ne=0;K<16;K++)for(_e[K]=Ne,Y=0;Y<1<<Ce[K];Y++)fe[Ne++]=K;for(Ne>>=7;K<w;K++)for(_e[K]=Ne<<7,Y=0;Y<1<<Ce[K]-7;Y++)fe[256+Ne++]=K;for(Te=0;Te<=T;Te++)De[Te]=0;for(Y=0;Y<=143;)Ue[2*Y+1]=8,Y++,De[8]++;for(;Y<=255;)Ue[2*Y+1]=9,Y++,De[9]++;for(;Y<=279;)Ue[2*Y+1]=7,Y++,De[7]++;for(;Y<=287;)Ue[2*Y+1]=8,Y++,De[8]++;for(wt(Ue,j+1,De),Y=0;Y<w;Y++)B[2*Y+1]=5,B[2*Y]=mt(Y,5);oe=new je(Ue,ge,C+1,j,T),X=new je(B,Ce,0,w,T),ke=new je(new Array(0),he,0,F,P)}(),ue=!0),k.l_desc=new ne(k.dyn_ltree,oe),k.d_desc=new ne(k.dyn_dtree,X),k.bl_desc=new ne(k.bl_tree,ke),k.bi_buf=0,k.bi_valid=0,lt(k)},N._tr_stored_block=I,N._tr_flush_block=function(k,Y,Te,ce){var K,Ne,De=0;0<k.level?(k.strm.data_type===2&&(k.strm.data_type=function(Be){var Qe,gt=4093624447;for(Qe=0;Qe<=31;Qe++,gt>>>=1)if(1&gt&&Be.dyn_ltree[2*Qe]!==0)return v;if(Be.dyn_ltree[18]!==0||Be.dyn_ltree[20]!==0||Be.dyn_ltree[26]!==0)return f;for(Qe=32;Qe<C;Qe++)if(Be.dyn_ltree[2*Qe]!==0)return f;return v}(k)),xt(k,k.l_desc),xt(k,k.d_desc),De=function(Be){var Qe;for(l(Be,Be.dyn_ltree,Be.l_desc.max_code),l(Be,Be.dyn_dtree,Be.d_desc.max_code),xt(Be,Be.bl_desc),Qe=F-1;3<=Qe&&Be.bl_tree[2*Ie[Qe]+1]===0;Qe--);return Be.opt_len+=3*(Qe+1)+5+5+4,Qe}(k),K=k.opt_len+3+7>>>3,(Ne=k.static_len+3+7>>>3)<=K&&(K=Ne)):K=Ne=Te+5,Te+4<=K&&Y!==-1?I(k,Y,Te,ce):k.strategy===4||Ne===K?(Me(k,2+(ce?1:0),3),At(k,Ue,B)):(Me(k,4+(ce?1:0),3),function(Be,Qe,gt,ct){var Pt;for(Me(Be,Qe-257,5),Me(Be,gt-1,5),Me(Be,ct-4,4),Pt=0;Pt<ct;Pt++)Me(Be,Be.bl_tree[2*Ie[Pt]+1],3);ve(Be,Be.dyn_ltree,Qe-1),ve(Be,Be.dyn_dtree,gt-1)}(k,k.l_desc.max_code+1,k.d_desc.max_code+1,De+1),At(k,k.dyn_ltree,k.dyn_dtree)),lt(k),ce&&ot(k)},N._tr_tally=function(k,Y,Te){return k.pending_buf[k.d_buf+2*k.last_lit]=Y>>>8&255,k.pending_buf[k.d_buf+2*k.last_lit+1]=255&Y,k.pending_buf[k.l_buf+k.last_lit]=255&Te,k.last_lit++,Y===0?k.dyn_ltree[2*Te]++:(k.matches++,Y--,k.dyn_ltree[2*(c[Te]+C+1)]++,k.dyn_dtree[2*ee(Y)]++),k.last_lit===k.lit_bufsize-1},N._tr_align=function(k){Me(k,2,3),Re(k,$,Ue),function(Y){Y.bi_valid===16?($e(Y,Y.bi_buf),Y.bi_buf=0,Y.bi_valid=0):8<=Y.bi_valid&&(Y.pending_buf[Y.pending++]=255&Y.bi_buf,Y.bi_buf>>=8,Y.bi_valid-=8)}(k)}},{"../utils/common":41}],53:[function(y,e,N){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(y,e,N){(function(q){(function(v,f){if(!v.setImmediate){var x,M,U,C,j=1,w={},F=!1,d=v.document,T=Object.getPrototypeOf&&Object.getPrototypeOf(v);T=T&&T.setTimeout?T:v,x={}.toString.call(v.process)==="[object process]"?function(te){process.nextTick(function(){P(te)})}:function(){if(v.postMessage&&!v.importScripts){var te=!0,Z=v.onmessage;return v.onmessage=function(){te=!1},v.postMessage("","*"),v.onmessage=Z,te}}()?(C="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",$,!1):v.attachEvent("onmessage",$),function(te){v.postMessage(C+te,"*")}):v.MessageChannel?((U=new MessageChannel).port1.onmessage=function(te){P(te.data)},function(te){U.port2.postMessage(te)}):d&&"onreadystatechange"in d.createElement("script")?(M=d.documentElement,function(te){var Z=d.createElement("script");Z.onreadystatechange=function(){P(te),Z.onreadystatechange=null,M.removeChild(Z),Z=null},M.appendChild(Z)}):function(te){setTimeout(P,0,te)},T.setImmediate=function(te){typeof te!="function"&&(te=new Function(""+te));for(var Z=new Array(arguments.length-1),we=0;we<Z.length;we++)Z[we]=arguments[we+1];var ge={callback:te,args:Z};return w[j]=ge,x(j),j++},T.clearImmediate=S}function S(te){delete w[te]}function P(te){if(F)setTimeout(P,0,te);else{var Z=w[te];if(Z){F=!0;try{(function(we){var ge=we.callback,Ce=we.args;switch(Ce.length){case 0:ge();break;case 1:ge(Ce[0]);break;case 2:ge(Ce[0],Ce[1]);break;case 3:ge(Ce[0],Ce[1],Ce[2]);break;default:ge.apply(f,Ce)}})(Z)}finally{S(te),F=!1}}}}function $(te){te.source===v&&typeof te.data=="string"&&te.data.indexOf(C)===0&&P(+te.data.slice(C.length))}})(typeof self>"u"?q===void 0?this:q:self)}).call(this,typeof yt<"u"?yt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(In);var dr=In.exports,Tn=Et(dr);const Gt="job.sqlite3",On="/"+Gt;let tn,Yt,Ot,Fn=!1;function It(){return Ot}const pr={init:function(H,ie){let y=[];y.push(new or),y.push(new lr),cr(y),rr({print:Vn,printErr:jt}).then(function(e){if(Fn)Ft(H);else try{hr(e),Fn=!0,Ft(H)}catch(N){Dt(H,"init sqlite3 error : "+N.message)}})},dbExport:async function(H,ie){try{let y=await tn.sqlite3_js_db_export(Ot);const e=new Tn;e.file(Gt,y),e.generateAsync({compression:"DEFLATE",compressionOptions:{level:9},type:"uint8array"}).then(function(N){Ft(H,fr(N))})}catch(y){Dt(H,"[worker] dbExport error : "+y.message)}},dbImport:async function(H,ie){try{let e=await new Tn().loadAsync(_r(ie)),N;try{N=await e.file(Gt).async("uint8array")}catch{Dt(H,"file: "+Gt+" not found");return}let q=await Yt.OpfsDb.importDb(Gt,N);Ft(H,q)}catch(y){Dt(H,"[worker] dbExport error : "+y.message)}}},hr=async function(H){tn=H.capi,Yt=H.oo1,tn.sqlite3_libversion(),tn.sqlite3_sourceid(),"OpfsDb"in Yt?(Ot=new Yt.OpfsDb(On),""+Ot.filename,void 0):(Ot=new Yt.DB(On,"ct"),""+Ot.filename,void 0),jt("[DB] schema checking...");let ie=ur(),y=0,e=ie.length;try{const N="SELECT COUNT(*) AS count FROM sqlite_schema;";let q=0,v=[];if(Ot.exec({sql:N,rowMode:"object",resultRows:v}),v.length>0&&(q=v[0].count),jt("[DB] current schemaCount = "+q),q==0){const f="PRAGMA auto_vacuum = 1";Ot.exec(f),jt("[DB] execute "+f)}}catch(N){un("[DB] checking schema fail,"+N.message);return}try{Ot.exec({sql:"BEGIN TRANSACTION"}),Ot.exec(`
      CREATE TABLE IF NOT EXISTS version(
        num INTEGER
      )
    `);const q="SELECT num FROM version";let v=[];if(Ot.exec({sql:q,rowMode:"object",resultRows:v}),v.length>0?y=v[0].num:Ot.exec({sql:"INSERT INTO version(num) values($num)",bind:{$num:0}}),jt("[DB] schema oldVersion = "+y+", newVersion = "+e),e>y){jt("[DB] schema upgrade start");for(let x=y;x<e;x++){let M=x+1,C=ie[x].getSqlList();jt("[DB] schema upgrade changelog version = "+M+", sql total = "+C.length);for(let j=0;j<C.length;j++){jt("[DB] schema upgrade changelog version = "+M+", execute sql = "+(j+1)+"/"+C.length);let w=C[j];Ot.exec(w)}}Ot.exec({sql:"UPDATE version SET num = $num",bind:{$num:e}}),jt("[DB] schema upgrade finish to version = "+e),jt("[DB] current schema version = "+e)}else jt("[DB] skip schema upgrade"),jt("[DB] current schema version = "+y);Ot.exec({sql:"COMMIT"})}catch(N){un("[DB] schema upgrade fail,"+N.message),Ot.exec({sql:"ROLLBACK TRANSACTION"})}},mr={batchAddOrUpdateJobBrowse:function(H,ie){try{const y=new Date;It().exec({sql:"BEGIN TRANSACTION"});for(let e=0;e<ie.length;e++)Dn(ie[e],y);It().exec({sql:"COMMIT"}),Ft(H,{})}catch(y){Dt(H,"[worker] addOrUpdateJobBrowse error : "+y.message)}},addOrUpdateJobBrowse:function(H,ie){try{const y=new Date;It().exec({sql:"BEGIN TRANSACTION"}),Dn(ie,y),It().exec({sql:"COMMIT"}),Ft(H,{})}catch(y){Dt(H,"[worker] addOrUpdateJobBrowse error : "+y.message)}},getJobBrowseInfoByIds:function(H,ie){try{let y=new Map,e="'"+ie.join("','")+"'";const N="SELECT job_id AS jobId ,count(*) AS total FROM job_browse_history WHERE job_id IN ("+e+") GROUP BY job_id;";let q=[];It().exec({sql:N,rowMode:"object",resultRows:q});for(let U=0;U<q.length;U++){let C=q[U];y.set(C.jobId,C.total)}let v=new Map;const f="SELECT job_id,job_platform,job_url,job_name,job_company_name,job_location_name,job_address,job_longitude,job_latitude,job_description,job_degree_name,job_year,job_salary_min,job_salary_max,job_salary_total_month,job_first_publish_datetime,boss_name,boss_company_name,boss_position,create_datetime,update_datetime FROM job WHERE job_id in ("+e+")";let x=[];It().exec({sql:f,rowMode:"object",resultRows:x});for(let U=0;U<x.length;U++){let C=x[U],j=new qn,w=Object.keys(C);for(let F=0;F<w.length;F++){let d=w[F];j[Sn(d)]=C[d]}v.set(j.jobId,j)}let M=[];for(let U=0;U<ie.length;U++){let C=ie[U],j=v.get(C);j&&(j.browseCount=y.get(C)),M.push(j)}Ft(H,M)}catch(y){Dt(H,"[worker] getJobBrowseInfoByIds error : "+y.message)}},searchJob:function(H,ie){try{let y=new nr,e="",N=Cn(ie),q=" ORDER BY "+ie.orderByColumn+" "+ie.orderBy+" NULLS LAST",v=(ie.pageNum-1)*ie.pageSize,f=ie.pageSize,x=" limit "+v+","+f;e+=Pn,e+=N,e+=q,e+=x;let M=[],U=0,C=[];It().exec({sql:e,rowMode:"object",resultRows:C});for(let F=0;F<C.length;F++){let d=C[F],T=new qn,S=Object.keys(d);for(let P=0;P<S.length;P++){let $=S[P];T[$]=d[$]}M.push(d)}let j="SELECT COUNT(*) AS total from job";j+=N;let w=[];It().exec({sql:j,rowMode:"object",resultRows:w}),U=w[0].total,y.items=M,y.total=U,Ft(H,y)}catch(y){Dt(H,"[worker] searchJob error : "+y.message)}},statisticJobSearchGroupByAvgSalary:function(H,ie){try{let y=new er,e=gr.replace("#{injectSql}",Pn+Cn(ie)),N=[];It().exec({sql:e,rowMode:"object",resultRows:N});for(let q=0;q<N.length;q++){let v=N[q];y[v.levels]=v.total}Ft(H,y)}catch(y){Dt(H,"[worker] statisticJobSearchGroupByAvgSalary error : "+y.message)}},statisticJobBrowse:function(H,ie){try{let y=new Xn,e=qt(),N=e.startOf("day").format("YYYY-MM-DD HH:mm:ss"),q=e.startOf("day").add(1,"day").format("YYYY-MM-DD HH:mm:ss");const v="SELECT COUNT(*) AS count FROM job_browse_history WHERE job_visit_datetime >= $startDatetime AND job_visit_datetime < $endDatetime";let f=[];It().exec({sql:v,rowMode:"object",resultRows:f,bind:{$startDatetime:N,$endDatetime:q}});const x="SELECT COUNT(*) AS count FROM job_browse_history";let M=[];It().exec({sql:x,rowMode:"object",resultRows:M});const U="SELECT COUNT(*) AS count FROM job;";let C=[];It().exec({sql:U,rowMode:"object",resultRows:C}),y.todayBrowseCount=f[0].count,y.totalBrowseCount=M[0].count,y.totalJob=C[0].count,Ft(H,y)}catch(y){Dt(H,"[worker] statisticJobBrowse error : "+y.message)}}};function Cn(H){let ie="";return H.jobName&&(ie+=" AND job_name LIKE '%"+H.jobName+"%' "),H.jobCompanyName&&(ie+=" AND job_company_name LIKE '%"+H.jobCompanyName+"%' "),H.jobLocationName&&(ie+=" AND job_location_name LIKE '%"+H.jobLocationName+"%' "),H.jobAddress&&(ie+=" AND job_address LIKE '%"+H.jobAddress+"%' "),H.startDatetime&&(ie+=" AND create_datetime >= '"+qt(H.startDatetime).format("YYYY-MM-DD HH:mm:ss")+"'"),H.endDatetime&&(ie+=" AND create_datetime < '"+qt(H.endDatetime).format("YYYY-MM-DD HH:mm:ss")+"'"),H.firstPublishStartDatetime&&(ie+=" AND job_first_publish_datetime >= '"+qt(H.firstPublishStartDatetime).format("YYYY-MM-DD HH:mm:ss")+"'"),H.firstPublishEndDatetime&&(ie+=" AND job_first_publish_datetime < '"+qt(H.firstPublishEndDatetime).format("YYYY-MM-DD HH:mm:ss")+"'"),ie.startsWith(" AND")&&(ie=ie.replace("AND",""),ie=" WHERE "+ie),ie}function Dn(H,ie){let y=[];It().exec({sql:"SELECT job_id,job_platform,job_url,job_name,job_company_name,job_location_name,job_address,job_longitude,job_latitude,job_description,job_degree_name,job_year,job_salary_min,job_salary_max,job_salary_total_month,job_first_publish_datetime,boss_name,boss_company_name,boss_position,create_datetime,update_datetime FROM job WHERE job_id = ?",rowMode:"object",bind:[H.jobId],resultRows:y}),y.length>0||It().exec({sql:`
    INSERT INTO job (job_id,job_platform,job_url,job_name,job_company_name,job_location_name,job_address,job_longitude,job_latitude,job_description,job_degree_name,job_year,job_salary_min,job_salary_max,job_salary_total_month,job_first_publish_datetime,boss_name,boss_company_name,boss_position,create_datetime,update_datetime) VALUES ($job_id,$job_platform,$job_url,$job_name,$job_company_name,$job_location_name,$job_address,$job_longitude,$job_latitude,$job_description,$job_degree_name,$job_year,$job_salary_min,$job_salary_max,$job_salary_total_month,$job_first_publish_datetime,$boss_name,$boss_company_name,$boss_position,$create_datetime,$update_datetime)
  `,bind:{$job_id:H.jobId,$job_platform:H.jobPlatform,$job_url:Ye(H.jobUrl),$job_name:Ye(H.jobName),$job_company_name:Ye(H.jobCompanyName),$job_location_name:Ye(H.jobLocationName),$job_address:Ye(H.jobAddress),$job_longitude:Ye(H.jobLongitude),$job_latitude:Ye(H.jobLatitude),$job_description:Ye(H.jobDescription),$job_degree_name:Ye(H.jobDegreeName),$job_year:Ye(H.jobYear),$job_salary_min:Ye(H.jobSalaryMin),$job_salary_max:Ye(H.jobSalaryMax),$job_salary_total_month:Ye(H.jobSalaryTotalMonth),$job_first_publish_datetime:qt(H.jobFirstPublishDatetime).isValid()?qt(H.jobFirstPublishDatetime).format("YYYY-MM-DD HH:mm:ss"):null,$boss_name:Ye(H.bossName),$boss_company_name:Ye(H.bossCompanyName),$boss_position:Ye(H.bossPosition),$create_datetime:qt(ie).format("YYYY-MM-DD HH:mm:ss"),$update_datetime:qt(ie).format("YYYY-MM-DD HH:mm:ss")}}),It().exec({sql:`
  INSERT INTO job_browse_history (job_id,job_visit_datetime,job_visit_type) VALUES ($job_id,$job_visit_datetime,$job_visit_type)
  `,bind:{$job_id:H.jobId,$job_visit_datetime:qt(ie).format("YYYY-MM-DD HH:mm:ss"),$job_visit_type:"SEARCH"}})}const Pn="SELECT job_id AS jobId,job_platform AS jobPlatform,job_url AS jobUrl,job_name AS jobName,job_company_name AS jobCompanyName,job_location_name AS jobLocationName,job_address AS jobAddress,job_longitude AS jobLongitude,job_latitude AS jobLatitude,job_description AS jobDescription,job_degree_name AS jobDegreeName,job_year AS jobYear,job_salary_min AS jobSalaryMin,job_salary_max AS jobSalaryMax,job_salary_total_month AS jobSalaryTotalMonth,job_first_publish_datetime AS jobFirstPublishDatetime,boss_name AS bossName,boss_company_name AS bossCompanyName,boss_position AS bossPosition,create_datetime AS createDatetime,update_datetime AS updateDatetime FROM job",gr=`
SELECT 
	t2.levels,
	COUNT(t2.levels) AS total
FROM
	(
	SELECT
		(CASE
			WHEN t1.avgsalary<3000 THEN '<3k'
			WHEN t1.avgsalary >= 3000
			AND t1.avgsalary<6000 THEN '3k-6k'
			WHEN t1.avgsalary >= 6000
			AND t1.avgsalary<9000 THEN '6k-9k'
			WHEN t1.avgsalary >= 9000
			AND t1.avgsalary<12000 THEN '9k-12k'
			WHEN t1.avgsalary >= 12000
			AND t1.avgsalary<15000 THEN '12k-15k'
			WHEN t1.avgsalary >= 15000
			AND t1.avgsalary<18000 THEN '15k-18k'
			WHEN t1.avgsalary >= 18000
			AND t1.avgsalary<21000 THEN '18k-21k'
			WHEN t1.avgsalary >= 21000
			AND t1.avgsalary<24000 THEN '21k-24k'
			ELSE '>24k'
		END) AS levels
	FROM
		(
		SELECT
			(t0.jobSalaryMin + t0.jobSalaryMax)/ 2 AS avgsalary
		FROM
			(#{injectSql}) AS t0
		where
			avgsalary > 0) AS t1
) AS t2
GROUP BY
	t2.levels;
`;class yr{constructor(){Ve(this,"companyId");Ve(this,"companyName");Ve(this,"companyDesc");Ve(this,"companyStartDate");Ve(this,"companyStatus");Ve(this,"companyLegalPerson");Ve(this,"companyUnifiedCode");Ve(this,"companyWebSite");Ve(this,"companyInsuranceNum");Ve(this,"companySelfRisk");Ve(this,"companyUnionRisk");Ve(this,"companyAddress");Ve(this,"companyScope");Ve(this,"companyTaxNo");Ve(this,"companyIndustry");Ve(this,"companyLicenseNumber");Ve(this,"companyLongitude");Ve(this,"companyLatitude");Ve(this,"sourceUrl");Ve(this,"sourcePlatform");Ve(this,"sourceRecordId");Ve(this,"sourceRefreshDatetime");Ve(this,"createDatetime");Ve(this,"updateDatetime")}}const br={getCompanyById:function(H,ie){try{let y=null,e=[];if(It().exec({sql:Ln,rowMode:"object",bind:[ie],resultRows:e}),e.length>0){let N=e[0];y=new yr;let q=Object.keys(N);for(let v=0;v<q.length;v++){let f=q[v];y[Sn(f)]=N[f]}}Ft(H,y)}catch(y){Dt(H,"[worker] getCompanyById error : "+y.message)}},addOrUpdateCompany:function(H,ie){try{const y=new Date;let e=[];It().exec({sql:Ln,rowMode:"object",bind:[ie.companyId],resultRows:e}),e.length>0?It().exec({sql:vr,bind:{$company_id:Ye(ie.companyId),$company_name:Ye(ie.companyName),$company_desc:Ye(ie.companyDesc),$company_start_date:qt(ie.companyStartDate).isValid()?qt(ie.companyStartDate).format("YYYY-MM-DD HH:mm:ss"):null,$company_status:Ye(ie.companyStatus),$company_legal_person:Ye(ie.companyLegalPerson),$company_unified_code:Ye(ie.companyUnifiedCode),$company_web_site:Ye(ie.companyWebSite),$company_insurance_num:Ye(ie.companyInsuranceNum),$company_self_risk:Ye(ie.companySelfRisk),$company_union_risk:Ye(ie.companyUnionRisk),$company_address:Ye(ie.companyAddress),$company_scope:Ye(ie.companyScope),$company_tax_no:Ye(ie.companyTaxNo),$company_industry:Ye(ie.companyIndustry),$company_license_number:Ye(ie.companyLicenseNumber),$company_longitude:Ye(ie.companyLongitude),$company_latitude:Ye(ie.companyLatitude),$source_url:Ye(ie.sourceUrl),$source_platform:Ye(ie.sourcePlatform),$source_record_id:Ye(ie.sourceRecordId),$source_refresh_datetime:qt(ie.sourceRefreshDatetime).isValid()?qt(ie.sourceRefreshDatetime).format("YYYY-MM-DD HH:mm:ss"):null,$update_datetime:qt(y).format("YYYY-MM-DD HH:mm:ss")}}):It().exec({sql:wr,bind:{$company_id:Ye(ie.companyId),$company_name:Ye(ie.companyName),$company_desc:Ye(ie.companyDesc),$company_start_date:qt(ie.companyStartDate).isValid()?qt(ie.companyStartDate).format("YYYY-MM-DD HH:mm:ss"):null,$company_status:Ye(ie.companyStatus),$company_legal_person:Ye(ie.companyLegalPerson),$company_unified_code:Ye(ie.companyUnifiedCode),$company_web_site:Ye(ie.companyWebSite),$company_insurance_num:Ye(ie.companyInsuranceNum),$company_self_risk:Ye(ie.companySelfRisk),$company_union_risk:Ye(ie.companyUnionRisk),$company_address:Ye(ie.companyAddress),$company_scope:Ye(ie.companyScope),$company_tax_no:Ye(ie.companyTaxNo),$company_industry:Ye(ie.companyIndustry),$company_license_number:Ye(ie.companyLicenseNumber),$company_longitude:Ye(ie.companyLongitude),$company_latitude:Ye(ie.companyLatitude),$source_url:Ye(ie.sourceUrl),$source_platform:Ye(ie.sourcePlatform),$source_record_id:Ye(ie.sourceRecordId),$source_refresh_datetime:qt(ie.sourceRefreshDatetime).isValid()?qt(ie.sourceRefreshDatetime).format("YYYY-MM-DD HH:mm:ss"):null,$create_datetime:qt(y).format("YYYY-MM-DD HH:mm:ss"),$update_datetime:qt(y).format("YYYY-MM-DD HH:mm:ss")}}),Ft(H,{})}catch(y){Dt(H,"[worker] addOrUpdateCompany error : "+y.message)}}},Ln="SELECT company_id, company_name, company_desc, company_start_date, company_status, company_legal_person, company_unified_code, company_web_site, company_insurance_num, company_self_risk, company_union_risk, company_address, company_scope, company_tax_no, company_industry, company_license_number, company_longitude, company_latitude, source_url, source_platform, source_record_id, source_refresh_datetime, create_datetime, update_datetime FROM company WHERE company_id = ?",wr=`
INSERT INTO company (company_id, company_name, company_desc, company_start_date, company_status, company_legal_person, company_unified_code, company_web_site, company_insurance_num, company_self_risk, company_union_risk, company_address, company_scope, company_tax_no, company_industry, company_license_number, company_longitude, company_latitude, source_url, source_platform, source_record_id, source_refresh_datetime, create_datetime, update_datetime) VALUES ($company_id,$company_name,$company_desc,$company_start_date,$company_status,$company_legal_person,$company_unified_code,$company_web_site,$company_insurance_num,$company_self_risk,$company_union_risk,$company_address,$company_scope,$company_tax_no,$company_industry,$company_license_number,$company_longitude,$company_latitude,$source_url,$source_platform,$source_record_id,$source_refresh_datetime,$create_datetime,$update_datetime)
`,vr=`
UPDATE company SET company_name=$company_name, company_desc=$company_desc, company_start_date=$company_start_date, company_status=$company_status, company_legal_person=$company_legal_person, company_unified_code=$company_unified_code, company_web_site=$company_web_site, company_insurance_num=$company_insurance_num, company_self_risk=$company_self_risk, company_union_risk=$company_union_risk, company_address=$company_address, company_scope=$company_scope, company_tax_no=$company_tax_no, company_industry=$company_industry, company_license_number=$company_license_number, company_longitude=$company_longitude, company_latitude=$company_latitude, source_url=$source_url, source_platform=$source_platform, source_record_id=$source_record_id, source_refresh_datetime=$source_refresh_datetime, update_datetime=$update_datetime WHERE company_id = $company_id;
`,Ht=new Map;Jt(Ht,{ping:function(H,ie){Ft(H,"pong")}}),Jt(Ht,pr),Jt(Ht,Gn),Jt(Ht,mr),Jt(Ht,br);function Jt(H,ie){let y=Object.keys(ie);for(let e=0;e<y.length;e++){let N=y[e];H.set(N,ie[N])}}onmessage=function(H){let ie=H.data;if(ie&&ie.from==fn&&ie.to==_n){""+ie.from+ie.to+ie.action+ie.callbackId+ie.error;let y=ie.action;Ht.get(y)(ie,ie.param)}}})();
